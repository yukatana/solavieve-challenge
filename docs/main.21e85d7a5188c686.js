"use strict";(self.webpackChunksolavieve_challenge=self.webpackChunksolavieve_challenge||[]).push([[179],{2011:(Et,Me,U)=>{U.d(Me,{Dh:()=>ge,GT:()=>Ce,cc:()=>Ge,on:()=>Pe,pX:()=>oe,xv:()=>Ee});var d=U(4650),$=U(9260);Et=U.hmd(Et);const B=["ngOnDestroy"],oe=(ie,ce,st,ht={})=>new Proxy(ie,{get:(Se,he)=>st.runOutsideAngular(()=>{var be;if(ie[he])return!(null===(be=ht?.spy)||void 0===be)&&be.get&&ht.spy.get(he,ie[he]),ie[he];if(B.indexOf(he)>-1)return()=>{};const je=ce.toPromise().then($e=>{const z=$e&&$e[he];return"function"==typeof z?z.bind($e):z&&z.then?z.then(de=>st.run(()=>de)):st.run(()=>z)});return new Proxy(()=>{},{get:($e,z)=>je[z],apply:($e,z,de)=>je.then(He=>{var Ye;const St=He&&He(...de);return!(null===(Ye=ht?.spy)||void 0===Ye)&&Ye.apply&&ht.spy.apply(he,de,St),St})})})}),Ce=(ie,ce)=>{ce.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(ht=>{Object.defineProperty(ie.prototype,ht,Object.getOwnPropertyDescriptor(st.prototype||st,ht))})})};class Te{constructor(ce){return ce}}const ge=new d.OlP("angularfire2.app.options"),Ee=new d.OlP("angularfire2.app.name");function Pe(ie,ce,st){const Se="object"==typeof st&&st||{};Se.name=Se.name||"string"==typeof st&&st||"[DEFAULT]";const be=$.Z.apps.filter(je=>je&&je.name===Se.name)[0]||ce.runOutsideAngular(()=>$.Z.initializeApp(ie,Se));try{JSON.stringify(ie)!==JSON.stringify(be.options)&&W("error",`${be.name} Firebase App already initialized with different options${Et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Te(be)}const W=(ie,...ce)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ie](...ce)};function Ge(ie,ce,st,ht,Se){const[,he,be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ie)||[];if(he)return function xe(ie,ce){try{return ie.toString()===ce.toString()}catch{return ie===ce}}(Se,be)||(Ue("error",`${ce} was already initialized on the ${st} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:Se,was:be})),he;{const je=ht();return globalThis.\u0275AngularfireInstanceCache.push([ie,je,Se]),je}}const Re=!!Et.hot,Ue=(ie,...ce)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ie](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8277:(Et,Me,U)=>{U.d(Me,{$:()=>Qa,A:()=>q,D:()=>xe,I:()=>Qs,J:()=>ns,L:()=>yi,N:()=>Kt,P:()=>ri,Q:()=>cp,R:()=>g_,U:()=>UI,V:()=>qa,W:()=>or,X:()=>hc,Y:()=>di,Z:()=>Mb,_:()=>cd,a:()=>Mo,a0:()=>Vr,a1:()=>pd,a2:()=>Zm,a3:()=>Ob,a4:()=>xb,a5:()=>_d,a6:()=>el,a7:()=>Rb,a8:()=>mc,a9:()=>Qm,aA:()=>z,aB:()=>Ld,aC:()=>wt,aD:()=>On,aE:()=>kc,aF:()=>pl,aG:()=>Rc,aH:()=>Tn,aL:()=>la,aO:()=>eo,aa:()=>Jm,ab:()=>yc,ac:()=>kb,ad:()=>xn,ae:()=>Pb,af:()=>Fb,ai:()=>vc,aj:()=>gp,ak:()=>e_,an:()=>qm,ao:()=>_p,aq:()=>o_,ar:()=>Ed,as:()=>He,at:()=>fe,au:()=>_e,av:()=>Se,aw:()=>El,ax:()=>Np,ay:()=>et,az:()=>he,b:()=>ll,c:()=>bn,d:()=>Oc,e:()=>y_,f:()=>gl,g:()=>Sp,h:()=>b_,i:()=>ca,j:()=>Ap,k:()=>Tl,l:()=>__,m:()=>Po,p:()=>Ee,r:()=>zb,s:()=>dl,u:()=>Wb});var d=U(5861),$=U(2090),B=U(9681),oe=U(655),Ce=U(1877),Te=U(4859);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Re=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ce=new Ce.Yd("@firebase/auth");function ht(w,...g){ce.logLevel<=Ce.in.ERROR&&ce.error(`Auth (${B.SDK_VERSION}): ${w}`,...g)}function Se(w,...g){throw $e(w,...g)}function he(w,...g){return $e(w,...g)}function be(w,g,y){const E=Object.assign(Object.assign({},Re()),{[g]:y});return new $.LL("auth","Firebase",E).create(g,{appName:w.name})}function je(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Se(w,"argument-error"),be(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(w,...g){if("string"!=typeof w){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return Ue.create(w,...g)}function z(w,g,...y){if(!w)throw $e(g,...y)}function de(w){const g="INTERNAL ASSERTION FAILED: "+w;throw ht(g),new Error(g)}function He(w,g){w||de(g)}function Ye(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function St(){return"http:"===ot()||"https:"===ot()}function ot(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ue{constructor(g,y){this.shortDelay=g,this.longDelay=y,He(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function re(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(St()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ie(w,g){He(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Ae{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gt=new ue(3e4,6e4);function ft(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Mt(w,g,y,E){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(w,g,y,E,S={}){return Ht(w,S,(0,d.Z)(function*(){let R={},Y={};E&&("GET"===g?Y=E:R={body:JSON.stringify(E)});const te=(0,$.xO)(Object.assign({key:w.config.apiKey},Y)).slice(1),Le=yield w._getAdditionalHeaders();return Le["Content-Type"]="application/json",w.languageCode&&(Le["X-Firebase-Locale"]=w.languageCode),Ae.fetch()($n(w,w.config.apiHost,y,te),Object.assign({method:g,headers:Le,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Ht(w,g,y){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(w,g,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},ye),g);try{const S=new Mn(w),R=yield Promise.race([y(),S.promise]);S.clearNetworkTimeout();const Y=yield R.json();if("needConfirmation"in Y)throw ui(w,"account-exists-with-different-credential",Y);if(R.ok&&!("errorMessage"in Y))return Y;{const te=R.ok?Y.errorMessage:Y.error.message,[Le,ze]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw ui(w,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Le)throw ui(w,"email-already-in-use",Y);if("USER_DISABLED"===Le)throw ui(w,"user-disabled",Y);const pt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw be(w,pt,ze);Se(w,pt)}}catch(S){if(S instanceof $.ZR)throw S;Se(w,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function Rt(w,g,y,E){return ci.apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(w,g,y,E,S={}){const R=yield Mt(w,g,y,E,S);return"mfaPendingCredential"in R&&Se(w,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function $n(w,g,y,E){const S=`${g}${y}?${E}`;return w.config.emulator?Ie(w.config,S):`${w.config.apiScheme}://${S}`}class Mn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(he(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ui(w,g,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const S=he(w,g,E);return S.customData._tokenResponse=y,S}function Ai(){return(Ai=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Or(w,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Jo(w,g){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ei(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Rr(){return(Rr=(0,d.Z)(function*(w,g=!1){const y=(0,$.m9)(w),E=yield y.getIdToken(g),S=gn(E);z(S&&S.exp&&S.auth_time&&S.iat,y.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,Y=R?.sign_in_provider;return{claims:S,token:E,authTime:ei(Ys(S.auth_time)),issuedAtTime:ei(Ys(S.iat)),expirationTime:ei(Ys(S.exp)),signInProvider:Y||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Ys(w){return 1e3*Number(w)}function gn(w){const[g,y,E]=w.split(".");if(void 0===g||void 0===y||void 0===E)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,$.tV)(y);return S?JSON.parse(S):(ht("Failed to decode base64 JWT payload"),null)}catch(S){return ht("Caught error parsing JWT payload as JSON",S?.toString()),null}}function nn(w,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof $.ZR&&yt(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function yt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Xt{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class Li{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ni(w){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(w){var g;const y=w.auth,E=yield w.getIdToken(),S=yield nn(w,Jo(y,{idToken:E}));z(S?.users.length,y,"internal-error");const R=S.users[0];w._notifyReloadListener(R);const Y=null!==(g=R.providerUserInfo)&&void 0!==g&&g.length?kr(R.providerUserInfo):[],te=Ft(w.providerData,Y),pt=!!w.isAnonymous&&!(w.email&&R.passwordHash||te?.length),Lt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:te,metadata:new Li(R.createdAt,R.lastLoginAt),isAnonymous:pt};Object.assign(w,Lt)})).apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(w){const g=(0,$.m9)(w);yield ni(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ft(w,g){return[...w.filter(E=>!g.some(S=>S.providerId===E.providerId)),...g]}function kr(w){return w.map(g=>{var{providerId:y}=g,E=(0,oe._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function _i(){return(_i=(0,d.Z)(function*(w,g){const y=yield Ht(w,{},(0,d.Z)(function*(){const E=(0,$.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:R}=w.config,Y=$n(w,S,"/v1/token",`key=${R}`),te=yield w._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",Ae.fetch()(Y,{method:"POST",headers:te,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){z(g.idToken,"internal-error"),z(typeof g.idToken<"u","internal-error"),z(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Vn(w){const g=gn(w);return z(g,"internal-error"),z(typeof g.exp<"u","internal-error"),z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,d.Z)(function*(){return z(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:Y}=yield function Yt(w,g){return _i.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(S,R,Number(Y))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:S,expirationTime:R}=y,Y=new mn;return E&&(z("string"==typeof E,"internal-error",{appName:g}),Y.refreshToken=E),S&&(z("string"==typeof S,"internal-error",{appName:g}),Y.accessToken=S),R&&(z("number"==typeof R,"internal-error",{appName:g}),Y.expirationTime=R),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return de("not implemented")}}function We(w,g){z("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class me{constructor(g){var{uid:y,auth:E,stsTokenManager:S}=g,R=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Li(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,d.Z)(function*(){const E=yield nn(y,y.stsTokenManager.getToken(y.auth,g));return z(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function Ln(w){return Rr.apply(this,arguments)}(this,g)}reload(){return function Ot(w){return ir.apply(this,arguments)}(this)}_assign(g){this!==g&&(z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new me(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,d.Z)(function*(){let S=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),S=!0),y&&(yield ni(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,d.Z)(function*(){const y=yield g.getIdToken();return yield nn(g,function Fi(w,g){return Ai.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,S,R,Y,te,Le,ze,pt;const Lt=null!==(E=y.displayName)&&void 0!==E?E:void 0,qi=null!==(S=y.email)&&void 0!==S?S:void 0,Lo=null!==(R=y.phoneNumber)&&void 0!==R?R:void 0,Wc=null!==(Y=y.photoURL)&&void 0!==Y?Y:void 0,Kc=null!==(te=y.tenantId)&&void 0!==te?te:void 0,qc=null!==(Le=y._redirectEventId)&&void 0!==Le?Le:void 0,Ml=null!==(ze=y.createdAt)&&void 0!==ze?ze:void 0,Yc=null!==(pt=y.lastLoginAt)&&void 0!==pt?pt:void 0,{uid:Zc,emailVerified:Qc,isAnonymous:zd,providerData:Wd,stsTokenManager:ro}=y;z(Zc&&ro,g,"internal-error");const ga=mn.fromJSON(this.name,ro);z("string"==typeof Zc,g,"internal-error"),We(Lt,g.name),We(qi,g.name),z("boolean"==typeof Qc,g,"internal-error"),z("boolean"==typeof zd,g,"internal-error"),We(Lo,g.name),We(Wc,g.name),We(Kc,g.name),We(qc,g.name),We(Ml,g.name),We(Yc,g.name);const ma=new me({uid:Zc,auth:g,email:qi,emailVerified:Qc,displayName:Lt,isAnonymous:zd,photoURL:Wc,phoneNumber:Lo,tenantId:Kc,stsTokenManager:ga,createdAt:Ml,lastLoginAt:Yc});return Wd&&Array.isArray(Wd)&&(ma.providerData=Wd.map(Rp=>Object.assign({},Rp))),qc&&(ma._redirectEventId=qc),ma}static _fromIdTokenResponse(g,y,E=!1){return(0,d.Z)(function*(){const S=new mn;S.updateFromServerResponse(y);const R=new me({uid:y.localId,auth:g,stsTokenManager:S,isAnonymous:E});return yield ni(R),R})()}}const at=new Map;function wt(w){He(w instanceof Function,"Expected a class definition");let g=at.get(w);return g?(He(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,at.set(w,g),g)}const Kt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(y,E){var S=this;return(0,d.Z)(function*(){S.storage[y]=E})()}_get(y){var E=this;return(0,d.Z)(function*(){const S=E.storage[y];return void 0===S?null:S})()}_remove(y){var E=this;return(0,d.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function On(w,g,y){return`firebase:${w}:${g}:${y}`}class G{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:S,name:R}=this.auth;this.fullUserKey=On(this.userKey,S.apiKey,R),this.fullPersistenceKey=On("persistence",S.apiKey,R),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?me._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,d.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,d.Z)(function*(){if(!y.length)return new G(wt(Kt),g,E);const S=(yield Promise.all(y.map(function(){var ze=(0,d.Z)(function*(pt){if(yield pt._isAvailable())return pt});return function(pt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let R=S[0]||wt(Kt);const Y=On(E,g.config.apiKey,g.name);let te=null;for(const ze of y)try{const pt=yield ze._get(Y);if(pt){const Lt=me._fromJSON(g,pt);ze!==R&&(te=Lt),R=ze;break}}catch{}const Le=S.filter(ze=>ze._shouldAllowMigration);return R._shouldAllowMigration&&Le.length?(R=Le[0],te&&(yield R._set(Y,te.toJSON())),yield Promise.all(y.map(function(){var ze=(0,d.Z)(function*(pt){if(pt!==R)try{yield pt._remove(Y)}catch{}});return function(pt){return ze.apply(this,arguments)}}())),new G(R,g,E)):new G(R,g,E)})()}}function H(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Q(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(P(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(qe(g))return"Blackberry";if(_t(g))return"Webos";if(k(g))return"Safari";if((g.includes("chrome/")||O(g))&&!g.includes("edge/"))return"Chrome";if(_e(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function P(w=(0,$.z$)()){return/firefox\//i.test(w)}function k(w=(0,$.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function O(w=(0,$.z$)()){return/crios\//i.test(w)}function Q(w=(0,$.z$)()){return/iemobile/i.test(w)}function _e(w=(0,$.z$)()){return/android/i.test(w)}function qe(w=(0,$.z$)()){return/blackberry/i.test(w)}function _t(w=(0,$.z$)()){return/webos/i.test(w)}function fe(w=(0,$.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function et(w=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function xt(w=(0,$.z$)()){return fe(w)||_e(w)||_t(w)||qe(w)||/windows phone/i.test(w)||Q(w)}function Pr(w,g=[]){let y;switch(w){case"Browser":y=H((0,$.z$)());break;case"Worker":y=`${H((0,$.z$)())}-${w}`;break;default:y=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${B.SDK_VERSION}/${E}`}function _o(){return(_o=(0,d.Z)(function*(w){return(yield Mt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xo(w,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(w,g){return Mt(w,"GET","/v2/recaptchaConfig",ft(w,g))})).apply(this,arguments)}function yo(w){return void 0!==w&&void 0!==w.getResponse}function vo(w){return void 0!==w&&void 0!==w.enterprise}class ac{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Wn(w){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=S=>{const R=he("internal-error");R.customData=S,y(R)},E.type="text/javascript",E.charset="UTF-8",function bo(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Zs(w){return`__${w}${Math.floor(1e6*Math.random())}`}class ea{constructor(g){this.type="recaptcha-enterprise",this.auth=Tn(g)}verify(g="verify",y=!1){var E=this;return(0,d.Z)(function*(){function R(){return R=(0,d.Z)(function*(te){if(!y){if(null==te.tenantId&&null!=te._agentRecaptchaConfig)return te._agentRecaptchaConfig.siteKey;if(null!=te.tenantId&&void 0!==te._tenantRecaptchaConfigs[te.tenantId])return te._tenantRecaptchaConfigs[te.tenantId].siteKey}return new Promise(function(){var Le=(0,d.Z)(function*(ze,pt){Xo(te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Lt=>{if(void 0!==Lt.recaptchaKey){const qi=new ac(Lt);return null==te.tenantId?te._agentRecaptchaConfig=qi:te._tenantRecaptchaConfigs[te.tenantId]=qi,ze(qi.siteKey)}pt(new Error("recaptcha Enterprise site key undefined"))}).catch(Lt=>{pt(Lt)})});return function(ze,pt){return Le.apply(this,arguments)}}())}),R.apply(this,arguments)}function Y(te,Le,ze){const pt=window.grecaptcha;vo(pt)?pt.enterprise.ready(()=>{try{pt.enterprise.execute(te,{action:g}).then(Lt=>{Le(Lt)}).catch(Lt=>{ze(Lt)})}catch(Lt){ze(Lt)}}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((te,Le)=>{(function S(te){return R.apply(this,arguments)})(E.auth).then(ze=>{if(!y&&vo(window.grecaptcha))Y(ze,te,Le);else{if(typeof window>"u")return void Le(new Error("RecaptchaVerifier is only supported in browser"));Wn("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{Y(ze,te,Le)}).catch(pt=>{Le(pt)})}}).catch(ze=>{Le(ze)})})})()}}function vs(w,g,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(w,g,y,E=!1){const S=new ea(w);let R;try{R=yield S.verify(y)}catch{R=yield S.verify(y,!0)}const Y=Object.assign({},g);return Object.assign(Y,E?{captchaResp:R}:{captchaResponse:R}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}class jm{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=R=>new Promise((Y,te)=>{try{Y(g(R))}catch(Le){te(Le)}});E.onAbort=y,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,d.Z)(function*(){if(y.auth.currentUser===g)return;const E=[];try{for(const S of y.queue)yield S(g),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const R of E)try{R()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Qf{constructor(g,y,E,S){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lc(this),this.idTokenSubscription=new lc(this),this.beforeStateQueue=new jm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=wt(y)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,R;if(!E._deleted&&(E.persistenceManager=yield G.create(E,g),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,d.Z)(function*(){var E;const S=yield y.assertedPersistence.getCurrentUser();let R=S,Y=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const te=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=R?._redirectEventId,ze=yield y.tryRedirectSignIn(g);(!te||te===Le)&&ze?.user&&(R=ze.user,Y=!0)}if(!R)return y.directlySetCurrentUser(null);if(!R._redirectEventId){if(Y)try{yield y.beforeStateQueue.runMiddleware(R)}catch(te){R=S,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(te))}return R?y.reloadAndSetCurrentUserOrClear(R):y.directlySetCurrentUser(null)}return z(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===R._redirectEventId?y.directlySetCurrentUser(R):y.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(g){var y=this;return(0,d.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,d.Z)(function*(){try{yield ni(g)}catch(E){if("auth/network-request-failed"!==E?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function ae(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,d.Z)(function*(){const E=g?(0,$.m9)(g):null;return E&&z(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return g&&z(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,d.Z)(function*(){yield y.assertedPersistence.setPersistence(wt(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const y=yield Xo(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new ac(y);null==g.tenantId?g._agentRecaptchaConfig=E:g._tenantRecaptchaConfigs[g.tenantId]=E,E.emailPasswordEnabled&&new ea(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new $.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,d.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(y);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,d.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&wt(g)||y._popupRedirectResolver;z(E,y,"argument-error"),y.redirectPersistenceManager=yield G.create(y,[wt(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,d.Z)(function*(){var E,S;return y._isInitialized&&(yield y.queue((0,d.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(S=y.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,d.Z)(function*(){if(g===y.currentUser)return y.queue((0,d.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,S){if(this._deleted)return()=>{};const R="function"==typeof y?y:y.next.bind(y),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return z(Y,this,"internal-error"),Y.then(()=>R(this.currentUser)),"function"==typeof y?g.addObserver(y,E,S):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,d.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();S&&(E["X-Firebase-Client"]=S);const R=yield g._getAppCheckToken();return R&&(E["X-Firebase-AppCheck"]=R),E})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var y;const E=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return E?.error&&function st(w,...g){ce.logLevel<=Ce.in.WARN&&ce.warn(`Auth (${B.SDK_VERSION}): ${w}`,...g)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Tn(w){return(0,$.m9)(w)}class lc{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,$.ne)(y=>this.observer=y)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qs(w,g,y){const E=Tn(w);z(E._canInitEmulator,E,"emulator-config-failed"),z(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const S=!!y?.disableWarnings,R=Bn(g),{host:Y,port:te}=function Hm(w){const g=Bn(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const R=S[1];return{host:R,port:Ni(E.substr(R.length+1))}}{const[R,Y]=E.split(":");return{host:R,port:Ni(Y)}}}(g);E.config.emulator={url:`${R}//${Y}${null===te?"":`:${te}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Y,port:te,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function rr(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Bn(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function Ni(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class ns{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return de("not implemented")}_getIdTokenResponse(g){return de("not implemented")}_linkToIdToken(g,y){return de("not implemented")}_getReauthenticationResolver(g){return de("not implemented")}}function za(w,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:resetPassword",ft(w,g))})).apply(this,arguments)}function Lr(w,g){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Db(w,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:update",ft(w,g))})).apply(this,arguments)}function Js(w,g){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithPassword",ft(w,g))})).apply(this,arguments)}function sr(w,g){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:sendOobCode",ft(w,g))})).apply(this,arguments)}function Cb(w,g){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,d.Z)(function*(w,g){return sr(w,g)})).apply(this,arguments)}function ep(w,g){return tp.apply(this,arguments)}function tp(){return(tp=(0,d.Z)(function*(w,g){return sr(w,g)})).apply(this,arguments)}function np(w,g){return ip.apply(this,arguments)}function ip(){return(ip=(0,d.Z)(function*(w,g){return sr(w,g)})).apply(this,arguments)}function Tb(w,g){return rp.apply(this,arguments)}function rp(){return(rp=(0,d.Z)(function*(w,g){return sr(w,g)})).apply(this,arguments)}function sp(){return(sp=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithEmailLink",ft(w,g))})).apply(this,arguments)}class Eo extends ns{constructor(g,y,E,S=null){super("password",E),this._email=g,this._password=y,this._tenantId=S}static _fromEmailAndPassword(g,y){return new Eo(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new Eo(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,d.Z)(function*(){var E;switch(y.signInMethod){case"password":const S={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=g._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const R=yield vs(g,S,"signInWithPassword");return Js(g,R)}return Js(g,S).catch(function(){var R=(0,d.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const te=yield vs(g,S,"signInWithPassword");return Js(g,te)}return Promise.reject(Y)});return function(Y){return R.apply(this,arguments)}}());case"emailLink":return function Ib(w,g){return sp.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Se(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Lr(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Sb(w,g){return uc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:Se(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Xs(w,g){return op.apply(this,arguments)}function op(){return(op=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithIdp",ft(w,g))})).apply(this,arguments)}class yi extends ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new yi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Se("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S}=y,R=(0,oe._T)(y,["providerId","signInMethod"]);if(!E||!S)return null;const Y=new yi(E,S);return Y.idToken=R.idToken||void 0,Y.accessToken=R.accessToken||void 0,Y.secret=R.secret,Y.nonce=R.nonce,Y.pendingToken=R.pendingToken||null,Y}_getIdTokenResponse(g){return Xs(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Xs(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Xs(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,$.xO)(y)}return g}}function $m(w,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:sendVerificationCode",ft(w,g))})).apply(this,arguments)}function Ka(){return(Ka=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g))})).apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(w,g){const y=yield Rt(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,g));if(y.temporaryProof)throw ui(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const zm={USER_NOT_FOUND:"user-not-found"};function na(){return(na=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithPhoneNumber",ft(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),zm)})).apply(this,arguments)}class Do extends ns{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Do({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Do({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function ap(w,g){return Ka.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function od(w,g){return dc.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function $i(w,g){return na.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:S}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:R}=g;return E||y||S||R?new Do({verificationId:y,verificationCode:E,phoneNumber:S,temporaryProof:R}):null}}class ia{constructor(g){var y,E,S,R,Y,te;const Le=(0,$.zd)((0,$.pd)(g)),ze=null!==(y=Le.apiKey)&&void 0!==y?y:null,pt=null!==(E=Le.oobCode)&&void 0!==E?E:null,Lt=function br(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);z(ze&&pt&&Lt,"argument-error"),this.apiKey=ze,this.operation=Lt,this.code=pt,this.continueUrl=null!==(R=Le.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Y=Le.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(te=Le.tenantId)&&void 0!==te?te:null}static parseLink(g){const y=function ad(w){const g=(0,$.zd)((0,$.pd)(w)).link,y=g?(0,$.zd)((0,$.pd)(g)).deep_link_id:null,E=(0,$.zd)((0,$.pd)(w)).deep_link_id;return(E?(0,$.zd)((0,$.pd)(E)).link:null)||E||y||g||w}(g);try{return new ia(y)}catch{return null}}}let cp=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return Eo._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const S=ia.parseLink(E);return z(S,"argument-error"),Eo._fromEmailAndCode(y,S.code,S.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Co{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class In extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class hc extends In{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return z("providerId"in y&&"signInMethod"in y,"argument-error"),yi._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return z(g.idToken||g.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return hc.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return hc.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:R,nonce:Y,providerId:te}=g;if(!E&&!S&&!y&&!R||!te)return null;try{return new hc(te)._credential({idToken:y,accessToken:E,nonce:Y,pendingToken:R})}catch{return null}}}let UI=(()=>{class w extends In{constructor(){super("facebook.com")}static credential(y){return yi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),qa=(()=>{class w extends In{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return yi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:S}=y;if(!E&&!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),or=(()=>{class w extends In{constructor(){super("github.com")}static credential(y){return yi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class eo extends ns{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Xs(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,Xs(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Xs(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:S,pendingToken:R}=y;return E&&S&&R&&E===S?new eo(E,R):null}static _create(g,y){return new eo(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class di extends Co{constructor(g){z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return di.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return di.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=eo.fromJSON(g);return z(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return eo._create(E,y)}catch{return null}}}let Mb=(()=>{class w extends In{constructor(){super("twitter.com")}static credential(y,E){return yi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=y;if(!E||!S)return null;try{return w.credential(E,S)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function To(w,g){return ld.apply(this,arguments)}function ld(){return(ld=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signUp",ft(w,g))})).apply(this,arguments)}class ii{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,S=!1){return(0,d.Z)(function*(){const R=yield me._fromIdTokenResponse(g,E,S),Y=ra(E);return new ii({user:R,providerId:Y,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const S=ra(E);return new ii({user:g,providerId:S,_tokenResponse:E,operationType:y})})()}}function ra(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function cd(w){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(w){var g;const y=Tn(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new ii({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield To(y,{returnSecureToken:!0}),S=yield ii._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class Za extends $.ZR{constructor(g,y,E,S){var R;super(y.code,y.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Za.prototype),this.customData={appName:g.name,tenantId:null!==(R=g.tenantId)&&void 0!==R?R:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,S){return new Za(g,y,E,S)}}function Wm(w,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Za._fromErrorAndOperation(w,R,g,E):R})}function Km(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function qm(w,g){return ud.apply(this,arguments)}function ud(){return(ud=(0,d.Z)(function*(w,g){const y=(0,$.m9)(w);yield hd(!0,y,g);const{providerUserInfo:E}=yield Or(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),S=Km(E||[]);return y.providerData=y.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function fc(w,g){return dd.apply(this,arguments)}function dd(){return(dd=(0,d.Z)(function*(w,g,y=!1){const E=yield nn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return ii._forOperation(w,"link",E)})).apply(this,arguments)}function hd(w,g,y){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(w,g,y){yield ni(g);const S=!1===w?"provider-already-linked":"no-such-provider";z(Km(g.providerData).has(y)===w,g.auth,S)})).apply(this,arguments)}function Zt(w,g){return pc.apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(w,g,y=!1){const{auth:E}=w,S="reauthenticate";try{const R=yield nn(w,Wm(E,S,g,w),y);z(R.idToken,E,"internal-error");const Y=gn(R.idToken);z(Y,E,"internal-error");const{sub:te}=Y;return z(w.uid===te,E,"user-mismatch"),ii._forOperation(w,S,R)}catch(R){throw"auth/user-not-found"===R?.code&&Se(E,"user-mismatch"),R}})).apply(this,arguments)}function fd(w,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(w,g,y=!1){const E="signIn",S=yield Wm(w,E,g),R=yield ii._fromIdTokenResponse(w,E,S);return y||(yield w._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Qa(w,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(w,g){return fd(Tn(w),g)})).apply(this,arguments)}function Vr(w,g){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(w,g){const y=(0,$.m9)(w);return yield hd(!1,y,g.providerId),fc(y,g)})).apply(this,arguments)}function pd(w,g){return up.apply(this,arguments)}function up(){return(up=(0,d.Z)(function*(w,g){return Zt((0,$.m9)(w),g)})).apply(this,arguments)}function Un(w,g){return Ym.apply(this,arguments)}function Ym(){return(Ym=(0,d.Z)(function*(w,g){return Rt(w,"POST","/v1/accounts:signInWithCustomToken",ft(w,g))})).apply(this,arguments)}function Zm(w,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,d.Z)(function*(w,g){const y=Tn(w),E=yield Un(y,{token:g,returnSecureToken:!0}),S=yield ii._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(S.user),S})).apply(this,arguments)}class wr{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?gd._fromServerResponse(g,y):"totpInfo"in y?So._fromServerResponse(g,y):Se(g,"internal-error")}}class gd extends wr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new gd(y)}}class So extends wr{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new So(y)}}function zi(w,g,y){var E;z((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),z(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(z(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(z(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Ob(w,g,y){return md.apply(this,arguments)}function md(){return md=(0,d.Z)(function*(w,g,y){var E;const S=Tn(w),R={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Y=yield vs(S,R,"getOobCode",!0);y&&zi(S,Y,y),yield ep(S,Y)}else y&&zi(S,R,y),yield ep(S,R).catch(function(){var Y=(0,d.Z)(function*(te){if("auth/missing-recaptcha-token"!==te.code)return Promise.reject(te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Le=yield vs(S,R,"getOobCode",!0);y&&zi(S,Le,y),yield ep(S,Le)}});return function(te){return Y.apply(this,arguments)}}())}),md.apply(this,arguments)}function xb(w,g,y){return gc.apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(w,g,y){yield za((0,$.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function _d(w,g){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(w,g){yield Db((0,$.m9)(w),{oobCode:g})})).apply(this,arguments)}function el(w,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(w,g){const y=(0,$.m9)(w),E=yield za(y,{oobCode:g}),S=E.requestType;switch(z(S,y,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(E.mfaInfo,y,"internal-error");default:z(E.email,y,"internal-error")}let R=null;return E.mfaInfo&&(R=wr._fromServerResponse(Tn(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Rb(w,g){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(w,g){const{data:y}=yield el((0,$.m9)(w),g);return y.email})).apply(this,arguments)}function mc(w,g,y){return tl.apply(this,arguments)}function tl(){return tl=(0,d.Z)(function*(w,g,y){var E;const S=Tn(w),R={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let Y;if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ze=yield vs(S,R,"signUpPassword");Y=To(S,ze)}else Y=To(S,R).catch(function(){var ze=(0,d.Z)(function*(pt){if("auth/missing-recaptcha-token"===pt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Lt=yield vs(S,R,"signUpPassword");return To(S,Lt)}return Promise.reject(pt)});return function(pt){return ze.apply(this,arguments)}}());const te=yield Y.catch(ze=>Promise.reject(ze)),Le=yield ii._fromIdTokenResponse(S,"signIn",te);return yield S._updateCurrentUser(Le.user),Le}),tl.apply(this,arguments)}function Qm(w,g,y){return Qa((0,$.m9)(w),cp.credential(g,y))}function Jm(w,g,y){return _c.apply(this,arguments)}function _c(){return _c=(0,d.Z)(function*(w,g,y){var E;const S=Tn(w),R={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function Y(te,Le){z(Le.handleCodeInApp,S,"argument-error"),Le&&zi(S,te,Le)}if(null!==(E=S._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const te=yield vs(S,R,"getOobCode",!0);Y(te,y),yield np(S,te)}else Y(R,y),yield np(S,R).catch(function(){var te=(0,d.Z)(function*(Le){if("auth/missing-recaptcha-token"!==Le.code)return Promise.reject(Le);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield vs(S,R,"getOobCode",!0);Y(ze,y),yield np(S,ze)}});return function(Le){return te.apply(this,arguments)}}())}),_c.apply(this,arguments)}function yc(w,g){return"EMAIL_SIGNIN"===ia.parseLink(g)?.operation}function kb(w,g,y){return dp.apply(this,arguments)}function dp(){return(dp=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w),S=cp.credentialWithLink(g,y||Ye());return z(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Qa(E,S)})).apply(this,arguments)}function Wi(w,g){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:createAuthUri",ft(w,g))})).apply(this,arguments)}function xn(w,g){return hp.apply(this,arguments)}function hp(){return(hp=(0,d.Z)(function*(w,g){const E={identifier:g,continueUri:St()?Ye():"http://localhost"},{signinMethods:S}=yield Wi((0,$.m9)(w),E);return S||[]})).apply(this,arguments)}function Pb(w,g){return fp.apply(this,arguments)}function fp(){return(fp=(0,d.Z)(function*(w,g){const y=(0,$.m9)(w),S={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&zi(y.auth,S,g);const{email:R}=yield Cb(y.auth,S);R!==w.email&&(yield w.reload())})).apply(this,arguments)}function Fb(w,g,y){return pp.apply(this,arguments)}function pp(){return(pp=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&zi(E.auth,R,y);const{email:Y}=yield Tb(E.auth,R);Y!==w.email&&(yield w.reload())})).apply(this,arguments)}function Xm(w,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,d.Z)(function*(w,g){return Mt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vc(w,g){return sa.apply(this,arguments)}function sa(){return(sa=(0,d.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,$.m9)(w),R={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},Y=yield nn(E,Xm(E.auth,R));E.displayName=Y.displayName||null,E.photoURL=Y.photoUrl||null;const te=E.providerData.find(({providerId:Le})=>"password"===Le);te&&(te.displayName=E.displayName,te.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Y)})).apply(this,arguments)}function gp(w,g){return t_((0,$.m9)(w),g,null)}function e_(w,g){return t_((0,$.m9)(w),null,g)}function t_(w,g,y){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(w,g,y){const{auth:E}=w,R={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(R.email=g),y&&(R.password=y);const Y=yield nn(w,Lr(E,R));yield w._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class il{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class n_ extends il{constructor(g,y,E,S){super(g,y,E),this.username=S}}class wc extends il{constructor(g,y){super(g,"facebook.com",y)}}class mp extends n_{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Lb extends il{constructor(g,y){super(g,"google.com",y)}}class i_ extends n_{constructor(g,y,E){super(g,"twitter.com",y,E)}}function _p(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function bc(w){var g,y;if(!w)return null;const{providerId:E}=w,S=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},R=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const Y=null===(y=null===(g=gn(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(Y)return new il(R,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!E)return null;switch(E){case"facebook.com":return new wc(R,S);case"github.com":return new mp(R,S);case"google.com":return new Lb(R,S);case"twitter.com":return new i_(R,S,w.screenName||null);case"custom":case"anonymous":return new il(R,null);default:return new il(R,E,S)}}(y)}class Er{constructor(g,y,E){this.type=g,this.credential=y,this.auth=E}static _fromIdtoken(g,y){return new Er("enroll",g,y)}static _fromMfaPendingCredential(g){return new Er("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Er._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return Er._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ao{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=Tn(g),S=y.customData._serverResponse,R=(S.mfaInfo||[]).map(te=>wr._fromServerResponse(E,te));z(S.mfaPendingCredential,E,"internal-error");const Y=Er._fromMfaPendingCredential(S.mfaPendingCredential);return new Ao(Y,R,function(){var te=(0,d.Z)(function*(Le){const ze=yield Le._process(E,Y);delete S.mfaInfo,delete S.mfaPendingCredential;const pt=Object.assign(Object.assign({},S),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(y.operationType){case"signIn":const Lt=yield ii._fromIdTokenResponse(E,y.operationType,pt);return yield E._updateCurrentUser(Lt.user),Lt;case"reauthenticate":return z(y.user,E,"internal-error"),ii._forOperation(y.user,y.operationType,pt);default:Se(E,"internal-error")}});return function(Le){return te.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,d.Z)(function*(){return y.signInResolver(g)})()}}function o_(w,g){var y;const E=(0,$.m9)(w),S=g;return z(g.customData.operationType,E,"argument-error"),z(null===(y=S.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Ao._fromError(E,S)}function oa(w,g){return Mt(w,"POST","/v2/accounts/mfaEnrollment:start",ft(w,g))}class to{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>wr._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new to(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Er._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var E=this;return(0,d.Z)(function*(){const S=g,R=yield E.getSession(),Y=yield nn(E.user,S._process(E.user.auth,R,y));return yield E.user._updateTokensIfNecessary(Y),E.user.reload()})()}unenroll(g){var y=this;return(0,d.Z)(function*(){const E="string"==typeof g?g:g.uid,S=yield y.user.getIdToken();try{const R=yield nn(y.user,function bp(w,g){return Mt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ft(w,g))}(y.user.auth,{idToken:S,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Y})=>Y!==E),yield y.user._updateTokensIfNecessary(R),yield y.user.reload()}catch(R){throw R}})()}}const ol=new WeakMap;function Ed(w){const g=(0,$.m9)(w);return ol.has(g)||ol.set(g,to._fromUser(g)),ol.get(g)}const No="__sak";class al{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const ll=(()=>{class w extends al{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const w=(0,$.z$)();return k(w)||fe(w)}()&&function ln(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),R=this.localCache[E];S!==R&&y(E,R,S)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((te,Le,ze)=>{this.notifyListeners(te,ze)});const S=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(S);if(y.newValue!==te)null!==y.newValue?this.storage.setItem(S,y.newValue):this.storage.removeItem(S);else if(this.localCache[S]===y.newValue&&!E)return}const R=()=>{const te=this.storage.getItem(S);!E&&this.localCache[S]===te||this.notifyListeners(S,te)},Y=this.storage.getItem(S);!function en(){return(0,$.w1)()&&10===document.documentMode}()||Y===y.newValue||y.newValue===y.oldValue?R():setTimeout(R,10)}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const R of Array.from(S))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var S=()=>super._set,R=this;return(0,d.Z)(function*(){yield S().call(R,y,E),R.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,S=this;return(0,d.Z)(function*(){const R=yield E().call(S,y);return S.localCache[y]=JSON.stringify(R),R})()}_remove(y){var E=()=>super._remove,S=this;return(0,d.Z)(function*(){yield E().call(S,y),delete S.localCache[y]})()}}return w.type="LOCAL",w})(),Mo=(()=>{class w extends al{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let l_=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(R=>R.isListeningto(y));if(E)return E;const S=new w(y);return this.receivers.push(S),S}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,d.Z)(function*(){const S=y,{eventId:R,eventType:Y,data:te}=S.data,Le=E.handlersMap[Y];if(!Le?.size)return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:Y});const ze=Array.from(Le).map(function(){var Lt=(0,d.Z)(function*(qi){return qi(S.origin,te)});return function(qi){return Lt.apply(this,arguments)}}()),pt=yield function aa(w){return Promise.all(w.map(function(){var g=(0,d.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(ze);S.ports[0].postMessage({status:"done",eventId:R,eventType:Y,response:pt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function la(w="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return w+y}class wp{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var S=this;return(0,d.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Y,te;return new Promise((Le,ze)=>{const pt=la("",20);R.port1.start();const Lt=setTimeout(()=>{ze(new Error("unsupported_event"))},E);te={messageChannel:R,onMessage(qi){const Lo=qi;if(Lo.data.eventId===pt)switch(Lo.data.status){case"ack":clearTimeout(Lt),Y=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Le(Lo.data.response);break;default:clearTimeout(Lt),clearTimeout(Y),ze(new Error("invalid_response"))}}},S.handlers.add(te),R.port1.addEventListener("message",te.onMessage),S.target.postMessage({eventType:g,eventId:pt,data:y},[R.port2])}).finally(()=>{te&&S.removeMessageHandler(te)})})()}}function _n(){return window}function Tc(){return typeof _n().WorkerGlobalScope<"u"&&"function"==typeof _n().importScripts}function cl(){return(cl=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",Ds="firebaseLocalStorage",Td="fbase_key";class Oo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function is(w,g){return w.transaction([Ds],g?"readwrite":"readonly").objectStore(Ds)}function Ic(){const w=indexedDB.open(no,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ds,{keyPath:Td})}catch(S){y(S)}}),w.addEventListener("success",(0,d.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ds)?g(E):(E.close(),yield function Ub(){const w=indexedDB.deleteDatabase(no);return new Oo(w).toPromise()}(),g(yield Ic()))}))})}function dn(w,g,y){return Id.apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(w,g,y){const E=is(w,!0).put({[Td]:g,value:y});return new Oo(E).toPromise()})).apply(this,arguments)}function h_(){return(h_=(0,d.Z)(function*(w,g){const y=is(w,!1).get(g),E=yield new Oo(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function f_(w,g){const y=is(w,!0).delete(g);return new Oo(y).toPromise()}const ca=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,d.Z)(function*(){return y.db||(y.db=yield Ic()),y.db})()}_withRetries(y){var E=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const R=yield E._openDb();return yield y(R)}catch(R){if(S++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,d.Z)(function*(){return Tc()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,d.Z)(function*(){y.receiver=l_._getInstance(function Ep(){return Tc()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(S,R){return{keyProcessed:(yield y._poll()).includes(R.key)}});return function(S,R){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,d.Z)(function*(){var E,S;if(y.activeServiceWorker=yield function Cd(){return cl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new wp(y.activeServiceWorker);const R=yield y.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function u_(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ic();return yield dn(y,No,"1"),yield f_(y,No),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(R=>dn(R,y,E)),S.localCache[y]=E,S.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,d.Z)(function*(){const S=yield E._withRetries(R=>function d_(w,g){return h_.apply(this,arguments)}(R,y));return E.localCache[y]=S,S})()}_remove(y){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(S=>f_(S,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,d.Z)(function*(){const E=yield y._withRetries(Y=>{const te=is(Y,!1).getAll();return new Oo(te).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:Y,value:te}of E)R.add(Y),JSON.stringify(y.localCache[Y])!==JSON.stringify(te)&&(y.notifyListeners(Y,te),S.push(Y));for(const Y of Object.keys(y.localCache))y.localCache[Y]&&!R.has(Y)&&(y.notifyListeners(Y,null),S.push(Y));return S})()}notifyListeners(y,E){this.localCache[y]=E;const S=this.listeners[y];if(S)for(const R of Array.from(S))R(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function jb(w,g){return Mt(w,"POST","/v2/accounts/mfaSignIn:start",ft(w,g))}const Sd=1e12;class p_{constructor(g){this.auth=g,this.counter=Sd,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Vi(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||Sd;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Sd))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,d.Z)(function*(){var E;return null===(E=y._widgets.get(g||Sd))||void 0===E||E.execute(),""})()}}class Vi{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;z(S,"argument-error",{appName:y}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rs(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ad=Zs("rcb"),Nd=new ue(3e4,6e4);class Dp{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=_n().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return z(function Hb(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&yo(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((E,S)=>{const R=_n().setTimeout(()=>{S(he(g,"network-request-failed"))},Nd.get());_n()[Ad]=()=>{_n().clearTimeout(R),delete _n()[Ad];const te=_n().grecaptcha;if(!te||!yo(te))return void S(he(g,"internal-error"));const Le=te.render;te.render=(ze,pt)=>{const Lt=Le(ze,pt);return this.counter++,Lt},this.hostLanguage=y,E(te)},Wn(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ad,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(R),S(he(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=_n().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gb{load(g){return(0,d.Z)(function*(){return new p_(g)})()}clearedOneInstance(){}}const $b="recaptcha",zI={theme:"light",type:"image"};class g_{constructor(g,y=Object.assign({},zI),E){this.parameters=y,this.type=$b,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tn(E),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gb:new Dp,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(R=>{const Y=te=>{!te||(g.tokenChangeListeners.delete(Y),R(te))};g.tokenChangeListeners.add(Y),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=_n()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){z(St()&&!Tc(),g.auth,"internal-error"),yield function ar(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Cn(w){return _o.apply(this,arguments)}(g.auth);z(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nc{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Do._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function dl(w,g,y){return m_.apply(this,arguments)}function m_(){return(m_=(0,d.Z)(function*(w,g,y){const E=Tn(w),S=yield Md(E,g,(0,$.m9)(y));return new Nc(S,R=>Qa(E,R))})).apply(this,arguments)}function __(w,g,y){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w);yield hd(!1,E,"phone");const S=yield Md(E.auth,g,(0,$.m9)(y));return new Nc(S,R=>Vr(E,R))})).apply(this,arguments)}function zb(w,g,y){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w),S=yield Md(E.auth,g,(0,$.m9)(y));return new Nc(S,R=>pd(E,R))})).apply(this,arguments)}function Md(w,g,y){return Od.apply(this,arguments)}function Od(){return(Od=(0,d.Z)(function*(w,g,y){var E;const S=yield y.verify();try{let R;if(z("string"==typeof S,w,"argument-error"),z(y.type===$b,w,"argument-error"),R="string"==typeof g?{phoneNumber:g}:g,"session"in R){const Y=R.session;if("phoneNumber"in R)return z("enroll"===Y.type,w,"internal-error"),(yield oa(w,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{z("signin"===Y.type,w,"internal-error");const te=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return z(te,w,"missing-multi-factor-info"),(yield jb(w,{mfaPendingCredential:Y.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield $m(w,{phoneNumber:R.phoneNumber,recaptchaToken:S});return Y}}finally{y._reset()}})).apply(this,arguments)}function Wb(w,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(w,g){yield fc((0,$.m9)(w),g)})).apply(this,arguments)}let ri=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Tn(y)}verifyPhoneNumber(y,E){return Md(this.auth,y,(0,$.m9)(E))}static credential(y,E){return Do._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:S}=y;return E&&S?Do._fromTokenResponse(E,S):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ua(w,g){return g?wt(g):(z(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class xo extends ns{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Xs(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Xs(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Xs(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function xd(w){return fd(w.auth,new xo(w),w.bypassAuthState)}function Mc(w){const{auth:g,user:y}=w;return z(y,g,"internal-error"),Zt(y,new xo(w),w.bypassAuthState)}function Ip(w){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,d.Z)(function*(w){const{auth:g,user:y}=w;return z(y,g,"internal-error"),fc(y,new xo(w),w.bypassAuthState)})).apply(this,arguments)}class jr{constructor(g,y,E,S,R=!1){this.auth=g,this.resolver=E,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,d.Z)(function*(E,S){g.pendingPromise={resolve:E,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(R){g.reject(R)}});return function(E,S){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:R,tenantId:Y,error:te,type:Le}=g;if(te)return void y.reject(te);const ze={auth:y.auth,requestUri:E,sessionId:S,tenantId:Y||void 0,postBody:R||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Le)(ze))}catch(pt){y.reject(pt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return xd;case"linkViaPopup":case"linkViaRedirect":return Ip;case"reauthViaPopup":case"reauthViaRedirect":return Mc;default:Se(this.auth,"internal-error")}}resolve(g){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cs=new ue(2e3,1e4);function bn(w,g,y){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(w,g,y){const E=Tn(w);je(w,g,Co);const S=ua(E,y);return new fl(E,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function y_(w,g,y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w);je(E.auth,g,Co);const S=ua(E.auth,y);return new fl(E.auth,"reauthViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}function Oc(w,g,y){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w);je(E.auth,g,Co);const S=ua(E.auth,y);return new fl(E.auth,"linkViaPopup",g,S,E).executeNotNull()})).apply(this,arguments)}let fl=(()=>{class w extends jr{constructor(y,E,S,R,Y){super(y,E,R,Y),this.provider=S,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,d.Z)(function*(){const E=yield y.execute();return z(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,d.Z)(function*(){He(1===y.filter.length,"Popup operations only handle one event");const E=la();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(S=>{y.reject(S)}),y.resolver._isIframeWebStorageSupported(y.auth,S=>{S||y.reject(he(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Cs.get())};y()}}return w.currentPopupAction=null,w})();const Hr=new Map;class Gr extends jr{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,d.Z)(function*(){let E=Hr.get(y.auth._key());if(!E){try{const R=(yield function v_(w,g){return ha.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(R)}catch(S){E=()=>Promise.reject(S)}Hr.set(y.auth._key(),E)}return y.bypassAuthState||Hr.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const S=yield E.auth._redirectUserForId(g.eventId);if(S)return E.user=S,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ha(){return(ha=(0,d.Z)(function*(w,g){const y=lr(g),E=kd(w);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(y));return yield E._remove(y),S})).apply(this,arguments)}function Ro(w,g){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(w,g){return kd(w)._set(lr(g),"true")})).apply(this,arguments)}function Rc(){Hr.clear()}function pl(w,g){Hr.set(w._key(),g)}function kd(w){return wt(w._redirectPersistence)}function lr(w){return On("pendingRedirect",w.config.apiKey,w.name)}function gl(w,g,y){return function vi(w,g,y){return ss.apply(this,arguments)}(w,g,y)}function ss(){return(ss=(0,d.Z)(function*(w,g,y){const E=Tn(w);je(w,g,Co),yield E._initializationPromise;const S=ua(E,y);return yield Ro(S,E),S._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function b_(w,g,y){return function ml(w,g,y){return io.apply(this,arguments)}(w,g,y)}function io(){return(io=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w);je(E.auth,g,Co),yield E.auth._initializationPromise;const S=ua(E.auth,y);yield Ro(S,E.auth);const R=yield yl(E);return S._openRedirect(E.auth,g,"reauthViaRedirect",R)})).apply(this,arguments)}function Sp(w,g,y){return function w_(w,g,y){return _l.apply(this,arguments)}(w,g,y)}function _l(){return(_l=(0,d.Z)(function*(w,g,y){const E=(0,$.m9)(w);je(E.auth,g,Co),yield E.auth._initializationPromise;const S=ua(E.auth,y);yield hd(!1,E,g.providerId),yield Ro(S,E.auth);const R=yield yl(E);return S._openRedirect(E.auth,g,"linkViaRedirect",R)})).apply(this,arguments)}function Ap(w,g){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,d.Z)(function*(w,g){return yield Tn(w)._initializationPromise,kc(w,g,!1)})).apply(this,arguments)}function kc(w,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(w,g,y=!1){const E=Tn(w),S=ua(E,g),Y=yield new Gr(E,S,y).execute();return Y&&!y&&(delete Y.user._redirectEventId,yield E._persistUserIfCurrent(Y.user),yield E._setRedirectUser(null,g)),Y})).apply(this,arguments)}function yl(w){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(w){const g=la(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Ld{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Vd(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E_(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!E_(g)){const S=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(he(this.auth,S))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fc(g))}saveEventToCache(g){this.cachedEventUids.add(Fc(g)),this.lastProcessedEventTime=Date.now()}}function Fc(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function E_({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function Np(w){return vl.apply(this,arguments)}function vl(){return(vl=(0,d.Z)(function*(w,g={}){return Mt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const Mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bl=/^https?/;function Bd(){return(Bd=(0,d.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield Np(w);for(const y of g)try{if(Lc(y))return}catch{}Se(w,"unauthorized-domain")})).apply(this,arguments)}function Lc(w){const g=Ye(),{protocol:y,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const Y=new URL(w);return""===Y.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&Y.hostname===E}if(!bl.test(y))return!1;if(Mp.test(w))return E===w;const S=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const Op=new ue(3e4,6e4);function Vc(){const w=_n().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Bc=null;function T_(w){return Bc=Bc||function C_(w){return new Promise((g,y)=>{var E,S,R;function Y(){Vc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Vc(),y(he(w,"network-request-failed"))},timeout:Op.get()})}if(null!==(S=null===(E=_n().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(R=_n().gapi)||void 0===R||!R.load){const te=Zs("iframefcb");return _n()[te]=()=>{gapi.load?Y():y(he(w,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${te}`).catch(Le=>y(Le))}Y()}}).catch(g=>{throw Bc=null,g})}(w),Bc}const Bi=new ue(5e3,15e3),I_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ud(w){const g=w.config;z(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Ie(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:B.SDK_VERSION},S=S_.get(w.config.apiHost);S&&(E.eid=S);const R=w._getFrameworks();return R.length&&(E.fw=R.join(",")),`${y}?${(0,$.xO)(E).slice(1)}`}function wl(){return wl=(0,d.Z)(function*(w){const g=yield T_(w),y=_n().gapi;return z(y,w,"internal-error"),g.open({where:document.body,url:Ud(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I_,dontclear:!0},E=>new Promise(function(){var S=(0,d.Z)(function*(R,Y){yield E.restyle({setHideOnLeave:!1});const te=he(w,"network-request-failed"),Le=_n().setTimeout(()=>{Y(te)},Bi.get());function ze(){_n().clearTimeout(Le),R(E)}E.ping(ze).then(ze,()=>{Y(te)})});return function(R,Y){return S.apply(this,arguments)}}()))}),wl.apply(this,arguments)}const jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class N_{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ki=encodeURIComponent("fac");function El(w,g,y,E,S,R){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.Z)(function*(w,g,y,E,S,R){z(w.config.authDomain,w,"auth-domain-config-required"),z(w.config.apiKey,w,"invalid-api-key");const Y={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:B.SDK_VERSION,eventId:S};if(g instanceof Co){g.setDefaultLanguage(w.languageCode),Y.providerId=g.providerId||"",(0,$.xb)(g.getCustomParameters())||(Y.customParameters=JSON.stringify(g.getCustomParameters()));for(const[pt,Lt]of Object.entries(R||{}))Y[pt]=Lt}if(g instanceof In){const pt=g.getScopes().filter(Lt=>""!==Lt);pt.length>0&&(Y.scopes=pt.join(","))}w.tenantId&&(Y.tid=w.tenantId);const te=Y;for(const pt of Object.keys(te))void 0===te[pt]&&delete te[pt];const Le=yield w._getAppCheckToken(),ze=Le?`#${Ki}=${encodeURIComponent(Le)}`:"";return`${Hd(w)}?${(0,$.xO)(te).slice(1)}${ze}`})).apply(this,arguments)}function Hd({config:w}){return w.emulator?Ie(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}const fi="webStorageSupport",Tl=class Cl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=kc,this._overrideRedirectResult=pl}_openPopup(g,y,E,S){var R=this;return(0,d.Z)(function*(){var Y;He(null===(Y=R.eventManagers[g._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const te=yield El(g,y,E,Ye(),S);return function qb(w,g,y,E=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),Y=Math.max((window.screen.availWidth-E)/2,0).toString();let te="";const Le=Object.assign(Object.assign({},jc),{width:E.toString(),height:S.toString(),top:R,left:Y}),ze=(0,$.z$)().toLowerCase();y&&(te=O(ze)?"_blank":y),P(ze)&&(g=g||"http://localhost",Le.scrollbars="yes");const pt=Object.entries(Le).reduce((qi,[Lo,Wc])=>`${qi}${Lo}=${Wc},`,"");if(function lt(w=(0,$.z$)()){var g;return fe(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ze)&&"_self"!==te)return function M_(w,g){const y=document.createElement("a");y.href=w,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",te),new N_(null);const Lt=window.open(g||"",te,pt);z(Lt,w,"popup-blocked");try{Lt.focus()}catch{}return new N_(Lt)}(g,te,la())})()}_openRedirect(g,y,E,S){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(g),function c_(w){_n().location.href=w}(yield El(g,y,E,Ye(),S)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:S,promise:R}=this.eventManagers[y];return S?Promise.resolve(S):(He(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,d.Z)(function*(){const E=yield function $r(w){return wl.apply(this,arguments)}(g),S=new Ld(g);return E.register("authEvent",R=>(z(R?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:S},y.iframes[g._key()]=E,S})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(fi,{type:fi},S=>{var R;const Y=null===(R=S?.[0])||void 0===R?void 0:R[fi];void 0!==Y&&y(!!Y),Se(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function D_(w){return Bd.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return xt()||k()||fe()}};class fa extends class Il{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new fa(g)}_finalizeEnroll(g,y,E){return function wd(w,g){return Mt(w,"POST","/v2/accounts/mfaEnrollment:finalize",ft(w,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function $I(w,g){return Mt(w,"POST","/v2/accounts/mfaSignIn:finalize",ft(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Po=(()=>{class w{constructor(){}static assertion(y){return fa._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var $d="@firebase/auth";class $c{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,d.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{g(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function xp(w){(0,B._registerComponent)(new Te.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),R=g.getProvider("app-check-internal"),{apiKey:Y,authDomain:te}=E.options;z(Y&&!Y.includes(":"),"invalid-api-key",{appName:E.name}),z(!te?.includes(":"),"argument-error",{appName:E.name});const Le={apiKey:Y,authDomain:te,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pr(w)},ze=new Qf(E,S,R,Le);return function $a(w,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(wt);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(ze,y),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,B._registerComponent)(new Te.wA("auth-internal",g=>{const y=Tn(g.getProvider("auth").getImmediate());return new $c(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,B.registerVersion)($d,"0.23.0",function zc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,B.registerVersion)($d,"0.23.0","esm2017")}("Browser")},2090:(Et,Me,U)=>{U.d(Me,{$s:()=>wt,BH:()=>be,DV:()=>xr,Dv:()=>ni,GJ:()=>Ai,L:()=>Pe,LL:()=>nt,P0:()=>ht,Pz:()=>he,Sg:()=>je,UG:()=>de,UI:()=>rt,US:()=>Te,Wj:()=>ir,Wl:()=>ci,Yr:()=>ue,ZB:()=>ee,ZR:()=>Mt,aH:()=>Se,b$:()=>St,cI:()=>Rt,dS:()=>kr,eu:()=>ye,g5:()=>B,gK:()=>zn,gQ:()=>Vn,h$:()=>Ee,hl:()=>Ae,hu:()=>$,jU:()=>He,lb:()=>Ft,m9:()=>On,ne:()=>nn,p$:()=>q,pd:()=>gn,r3:()=>Or,ru:()=>Ye,tV:()=>W,uI:()=>z,ug:()=>Yt,vZ:()=>ei,w1:()=>re,w9:()=>Fi,xO:()=>Rr,xb:()=>Jo,z$:()=>$e,zI:()=>gt,zd:()=>Ys});const $=function(G,H){if(!G)throw B(H)},B=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},oe=function(G){const H=[];let P=0;for(let k=0;k<G.length;k++){let O=G.charCodeAt(k);O<128?H[P++]=O:O<2048?(H[P++]=O>>6|192,H[P++]=63&O|128):55296==(64512&O)&&k+1<G.length&&56320==(64512&G.charCodeAt(k+1))?(O=65536+((1023&O)<<10)+(1023&G.charCodeAt(++k)),H[P++]=O>>18|240,H[P++]=O>>12&63|128,H[P++]=O>>6&63|128,H[P++]=63&O|128):(H[P++]=O>>12|224,H[P++]=O>>6&63|128,H[P++]=63&O|128)}return H},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const P=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let O=0;O<G.length;O+=3){const Q=G[O],_e=O+1<G.length,qe=_e?G[O+1]:0,_t=O+2<G.length,fe=_t?G[O+2]:0;let en=(15&qe)<<2|fe>>6,xt=63&fe;_t||(xt=64,_e||(en=64)),k.push(P[Q>>2],P[(3&Q)<<4|qe>>4],P[en],P[xt])}return k.join("")},encodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(oe(G),H)},decodeString(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){const H=[];let P=0,k=0;for(;P<G.length;){const O=G[P++];if(O<128)H[k++]=String.fromCharCode(O);else if(O>191&&O<224){const Q=G[P++];H[k++]=String.fromCharCode((31&O)<<6|63&Q)}else if(O>239&&O<365){const _t=((7&O)<<18|(63&G[P++])<<12|(63&G[P++])<<6|63&G[P++])-65536;H[k++]=String.fromCharCode(55296+(_t>>10)),H[k++]=String.fromCharCode(56320+(1023&_t))}else{const Q=G[P++],_e=G[P++];H[k++]=String.fromCharCode((15&O)<<12|(63&Q)<<6|63&_e)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray(G,H){this.init_();const P=H?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let O=0;O<G.length;){const Q=P[G.charAt(O++)],qe=O<G.length?P[G.charAt(O)]:0;++O;const fe=O<G.length?P[G.charAt(O)]:64;++O;const lt=O<G.length?P[G.charAt(O)]:64;if(++O,null==Q||null==qe||null==fe||null==lt)throw new ge;k.push(Q<<2|qe>>4),64!==fe&&(k.push(qe<<4&240|fe>>2),64!==lt&&k.push(fe<<6&192|lt))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(G){const H=oe(G);return Te.encodeByteArray(H,!0)},Pe=function(G){return Ee(G).replace(/\./g,"")},W=function(G){try{return Te.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function q(G){return ee(void 0,G)}function ee(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(const P in H)!H.hasOwnProperty(P)||!Ge(P)||(G[P]=ee(G[P],H[P]));return G}function Ge(G){return"__proto__"!==G}const ce=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=G&&W(G[1]);return H&&JSON.parse(H)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},ht=G=>{const H=(G=>{var H,P;return null===(P=null===(H=ce())||void 0===H?void 0:H.emulatorHosts)||void 0===P?void 0:P[G]})(G);if(!H)return;const P=H.lastIndexOf(":");if(P<=0||P+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const k=parseInt(H.substring(P+1),10);return"["===H[0]?[H.substring(1,P-1),k]:[H.substring(0,P),k]},Se=()=>{var G;return null===(G=ce())||void 0===G?void 0:G.config},he=G=>{var H;return null===(H=ce())||void 0===H?void 0:H[`_${G}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,P)=>{this.resolve=H,this.reject=P})}wrapCallback(H){return(P,k)=>{P?this.reject(P):this.resolve(k),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(P):H(P,k))}}}function je(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=H||"demo-project",O=G.iat||0,Q=G.sub||G.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _e=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:O,exp:O+3600,auth_time:O,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},G);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(_e)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function de(){var G;const H=null===(G=ce())||void 0===G?void 0:G.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function Ye(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function St(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function re(){const G=$e();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ue(){return!1}function Ae(){try{return"object"==typeof indexedDB}catch{return!1}}function ye(){return new Promise((G,H)=>{try{let P=!0;const k="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(k);O.onsuccess=()=>{O.result.close(),P||self.indexedDB.deleteDatabase(k),G(!0)},O.onupgradeneeded=()=>{P=!1},O.onerror=()=>{var Q;H((null===(Q=O.error)||void 0===Q?void 0:Q.message)||"")}}catch(P){H(P)}})}function gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mt extends Error{constructor(H,P,k){super(P),this.code=H,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}}class nt{constructor(H,P,k){this.service=H,this.serviceName=P,this.errors=k}create(H,...P){const k=P[0]||{},O=`${this.service}/${H}`,Q=this.errors[H],_e=Q?function Ht(G,H){return G.replace(Vt,(P,k)=>{const O=H[k];return null!=O?String(O):`<${k}?>`})}(Q,k):"Error";return new Mt(O,`${this.serviceName}: ${_e} (${O}).`,k)}}const Vt=/\{\$([^}]+)}/g;function Rt(G){return JSON.parse(G)}function ci(G){return JSON.stringify(G)}const $n=function(G){let H={},P={},k={},O="";try{const Q=G.split(".");H=Rt(W(Q[0])||""),P=Rt(W(Q[1])||""),O=Q[2],k=P.d||{},delete P.d}catch{}return{header:H,claims:P,data:k,signature:O}},Fi=function(G){const P=$n(G).claims;return!!P&&"object"==typeof P&&P.hasOwnProperty("iat")},Ai=function(G){const H=$n(G).claims;return"object"==typeof H&&!0===H.admin};function Or(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function xr(G,H){if(Object.prototype.hasOwnProperty.call(G,H))return G[H]}function Jo(G){for(const H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function rt(G,H,P){const k={};for(const O in G)Object.prototype.hasOwnProperty.call(G,O)&&(k[O]=H.call(P,G[O],O,G));return k}function ei(G,H){if(G===H)return!0;const P=Object.keys(G),k=Object.keys(H);for(const O of P){if(!k.includes(O))return!1;const Q=G[O],_e=H[O];if(ti(Q)&&ti(_e)){if(!ei(Q,_e))return!1}else if(Q!==_e)return!1}for(const O of k)if(!P.includes(O))return!1;return!0}function ti(G){return null!==G&&"object"==typeof G}function Rr(G){const H=[];for(const[P,k]of Object.entries(G))Array.isArray(k)?k.forEach(O=>{H.push(encodeURIComponent(P)+"="+encodeURIComponent(O))}):H.push(encodeURIComponent(P)+"="+encodeURIComponent(k));return H.length?"&"+H.join("&"):""}function Ys(G){const H={};return G.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[O,Q]=k.split("=");H[decodeURIComponent(O)]=decodeURIComponent(Q)}}),H}function gn(G){const H=G.indexOf("?");if(!H)return"";const P=G.indexOf("#",H);return G.substring(H,P>0?P:void 0)}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,P){P||(P=0);const k=this.W_;if("string"==typeof H)for(let lt=0;lt<16;lt++)k[lt]=H.charCodeAt(P)<<24|H.charCodeAt(P+1)<<16|H.charCodeAt(P+2)<<8|H.charCodeAt(P+3),P+=4;else for(let lt=0;lt<16;lt++)k[lt]=H[P]<<24|H[P+1]<<16|H[P+2]<<8|H[P+3],P+=4;for(let lt=16;lt<80;lt++){const en=k[lt-3]^k[lt-8]^k[lt-14]^k[lt-16];k[lt]=4294967295&(en<<1|en>>>31)}let fe,et,O=this.chain_[0],Q=this.chain_[1],_e=this.chain_[2],qe=this.chain_[3],_t=this.chain_[4];for(let lt=0;lt<80;lt++){lt<40?lt<20?(fe=qe^Q&(_e^qe),et=1518500249):(fe=Q^_e^qe,et=1859775393):lt<60?(fe=Q&_e|qe&(Q|_e),et=2400959708):(fe=Q^_e^qe,et=3395469782);const en=(O<<5|O>>>27)+fe+_t+et+k[lt]&4294967295;_t=qe,qe=_e,_e=4294967295&(Q<<30|Q>>>2),Q=O,O=en}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+Q&4294967295,this.chain_[2]=this.chain_[2]+_e&4294967295,this.chain_[3]=this.chain_[3]+qe&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update(H,P){if(null==H)return;void 0===P&&(P=H.length);const k=P-this.blockSize;let O=0;const Q=this.buf_;let _e=this.inbuf_;for(;O<P;){if(0===_e)for(;O<=k;)this.compress_(H,O),O+=this.blockSize;if("string"==typeof H){for(;O<P;)if(Q[_e]=H.charCodeAt(O),++_e,++O,_e===this.blockSize){this.compress_(Q),_e=0;break}}else for(;O<P;)if(Q[_e]=H[O],++_e,++O,_e===this.blockSize){this.compress_(Q),_e=0;break}}this.inbuf_=_e,this.total_+=P}digest(){const H=[];let P=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&P,P/=256;this.compress_(this.buf_);let k=0;for(let O=0;O<5;O++)for(let Q=24;Q>=0;Q-=8)H[k]=this.chain_[O]>>Q&255,++k;return H}}function nn(G,H){const P=new mt(G,H);return P.subscribe.bind(P)}class mt{constructor(H,P){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=P,this.task.then(()=>{H(this)}).catch(k=>{this.error(k)})}next(H){this.forEachObserver(P=>{P.next(H)})}error(H){this.forEachObserver(P=>{P.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,P,k){let O;if(void 0===H&&void 0===P&&void 0===k)throw new Error("Missing Observer.");O=function Xt(G,H){if("object"!=typeof G||null===G)return!1;for(const P of H)if(P in G&&"function"==typeof G[P])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:P,complete:k},void 0===O.next&&(O.next=Li),void 0===O.error&&(O.error=Li),void 0===O.complete&&(O.complete=Li);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Q}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let P=0;P<this.observers.length;P++)this.sendOne(P,H)}sendOne(H,P){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{P(this.observers[H])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Li(){}const ni=function(G,H,P,k){let O;if(k<H?O="at least "+H:k>P&&(O=0===P?"none":"no more than "+P),O)throw new Error(G+" failed: Was called with "+k+(1===k?" argument.":" arguments.")+" Expects "+O+".")};function zn(G,H){return`${G} failed: ${H} argument `}function ir(G,H,P,k){if((!k||P)&&"function"!=typeof P)throw new Error(zn(G,H)+"must be a valid function.")}function Ft(G,H,P,k){if((!k||P)&&("object"!=typeof P||null===P))throw new Error(zn(G,H)+"must be a valid context object.")}const kr=function(G){const H=[];let P=0;for(let k=0;k<G.length;k++){let O=G.charCodeAt(k);if(O>=55296&&O<=56319){const Q=O-55296;k++,$(k<G.length,"Surrogate pair missing trail surrogate."),O=65536+(Q<<10)+(G.charCodeAt(k)-56320)}O<128?H[P++]=O:O<2048?(H[P++]=O>>6|192,H[P++]=63&O|128):O<65536?(H[P++]=O>>12|224,H[P++]=O>>6&63|128,H[P++]=63&O|128):(H[P++]=O>>18|240,H[P++]=O>>12&63|128,H[P++]=O>>6&63|128,H[P++]=63&O|128)}return H},Yt=function(G){let H=0;for(let P=0;P<G.length;P++){const k=G.charCodeAt(P);k<128?H++:k<2048?H+=2:k>=55296&&k<=56319?(H+=4,P++):H+=3}return H};function wt(G,H=1e3,P=2){const k=H*Math.pow(P,G),O=Math.round(.5*k*(Math.random()-.5)*2);return Math.min(144e5,k+O)}function On(G){return G&&G._delegate?G._delegate:G}},9847:(Et,Me,U)=>{var d=U(4650);let $=null;function B(){return $}const ge=new d.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return(0,d.LFG)(q)}()},providedIn:"platform"}),n})(),q=(()=>{class n extends Ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ee()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ee()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ge(){return new q((0,d.LFG)(ge))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(st)},providedIn:"root"}),n})();const ce=new d.OlP("appBaseHref");let st=(()=>{class n extends ie{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ue(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+Ue(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ee),d.LFG(ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Re(je(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ue(i))}normalize(t){return n.stripTrailingSlash(function be(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=xe,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function he(){return new Se((0,d.LFG)(ie))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}class lc{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ts=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lc(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),$a(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{$a(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $a(n,e){n.context.$implicit=e.item}let Js=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),n})(),$i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const na="browser";class _p extends class i_ extends class Te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ce(n){$||($=n)}(new _p)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bd(){return vd=vd||document.querySelector("base"),vd?vd.getAttribute("href"):null}();return null==t?null:function yp(n){rl=rl||document.createElement("a"),rl.setAttribute("href",n);const e=rl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let rl,vd=null;const Ec=new d.OlP("TRANSITION_ID"),s_=[{provide:d.ip1,useFactory:function r_(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ec,ge,d.zs3],multi:!0}];let Vb=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Br=new d.OlP("EventManagerPlugins");let Er=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Br),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Ao{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let o_=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),oa=(()=>{class n extends o_{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(wd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(wd))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function wd(n){B().remove(n)}const vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dr=/%COMP%/g;function Dc(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Dc(n,r,t):(r=r.replace(Dr,n),t.push(r))}return t}function Dd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cc=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ll(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new l_(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case d.ifc.ShadowDom:return new la(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Er),d.LFG(oa),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ll{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(aa(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(aa(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=vp[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=vp[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dd(i)):this.eventManager.addEventListener(e,t,Dd(i))}}function aa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class l_ extends ll{constructor(e,t,i,r){super(e),this.component=i;const s=Dc(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function No(n){return"_ngcontent-%COMP%".replace(Dr,n)}(r+"-"+i.id),this.hostAttr=function al(n){return"_nghost-%COMP%".replace(Dr,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class la extends ll{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Dc(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wp=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const _n=["alt","control","meta","shift"],c_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Cd=(()=>{class n extends Ao{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),_n.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=c_[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_n.forEach(c=>{c!==r&&(0,Tc[c])(t)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ub=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:na},{provide:d.g9A,useValue:function Ds(){_p.makeCurrent()},multi:!0},{provide:ge,useFactory:function Oo(){return(0,d.RDi)(document),document},deps:[]}]),Ic=new d.OlP(""),dn=[{provide:d.rWj,useClass:class sl{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Id=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Td(){return new d.qLn},deps:[]},{provide:Br,useClass:wp,multi:!0,deps:[ge,d.R0b,d.Lbi]},{provide:Br,useClass:Cd,multi:!0,deps:[ge]},{provide:Cc,useClass:Cc,deps:[Er,oa,d.AFp]},{provide:d.FYo,useExisting:Cc},{provide:o_,useExisting:oa},{provide:oa,useClass:oa,deps:[ge]},{provide:Er,useClass:Er,deps:[Br,d.R0b]},{provide:class eo{},useClass:Vb,deps:[]},[]];let d_=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Ec,useExisting:d.AFp},s_]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ic,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Id,...dn],imports:[$i,d.hGG]}),n})();typeof window<"u"&&window;var Ur=U(8996),ri=U(8306);const{isArray:ua}=Array,{getPrototypeOf:xo,prototype:xd,keys:Mc}=Object;function Ip(n){if(1===n.length){const e=n[0];if(ua(e))return{args:e,keys:null};if(function Rd(n){return n&&"object"==typeof n&&xo(n)===xd}(e)){const t=Mc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var jr=U(8421),Cs=U(3269),bn=U(5403),hn=U(4004);const{isArray:y_}=Array;function Oc(n){return(0,hn.U)(e=>function Rn(n,e){return y_(e)?n(...e):n(e)}(n,e))}function hl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let da=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Hr=(()=>{class n extends da{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Gr=new d.OlP("NgValueAccessor"),Ro={provide:Gr,useExisting:(0,d.Gpc)(()=>pl),multi:!0},Rc=new d.OlP("CompositionEventMode");let pl=(()=>{class n extends da{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xc(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Rc,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[d._Bn([Ro]),d.qOj]}),n})();const vi=new d.OlP("NgValidators"),ss=new d.OlP("NgAsyncValidators");function ko(n){return null!=n}function Fd(n){return(0,d.QGY)(n)?(0,Ur.D)(n):n}function Ld(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Fc(n,e){return e.map(t=>t(n))}function Vd(n){return n.map(e=>function E_(n){return!n.validate}(e)?e:t=>e.validate(t))}function vl(n){return null!=n?function Np(n){if(!n)return null;const e=n.filter(ko);return 0==e.length?null:function(t){return Ld(Fc(t,e))}}(Vd(n)):null}function bl(n){return null!=n?function Mp(n){if(!n)return null;const e=n.filter(ko);return 0==e.length?null:function(t){return function fl(...n){const e=(0,Cs.jO)(n),{args:t,keys:i}=Ip(n),r=new ri.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let C=!1;(0,jr.Xf)(t[b]).subscribe((0,bn.x)(s,N=>{C||(C=!0,_--),h[b]=N},()=>p--,void 0,()=>{(!p||!C)&&(_||s.next(i?hl(i,h):h),s.complete())}))}});return e?r.pipe(Oc(e)):r}(Fc(t,e).map(Fd)).pipe((0,hn.U)(Ld))}}(Vd(n)):null}function D_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Bd(n){return n._rawValidators}function Lc(n){return n._rawAsyncValidators}function Op(n){return n?Array.isArray(n)?n:[n]:[]}function Vc(n,e){return Array.isArray(n)?n.includes(e):n===e}function C_(n,e){const t=Op(e);return Op(n).forEach(r=>{Vc(t,r)||t.push(r)}),t}function Bc(n,e){return Op(e).filter(t=>!Vc(n,t))}class T_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bi extends T_{get formDirective(){return null}get path(){return null}}class Ts extends T_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Uc{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ud=(()=>{class n extends Uc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ts,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[d.qOj]}),n})(),$r=(()=>{class n extends Uc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Bi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[d.qOj]}),n})();const Il="VALID",fa="INVALID",Po="PENDING",Gc="DISABLED";function pa(n){return(Sl(n)?n.validators:n)||null}function Gd(n){return Array.isArray(n)?vl(n):n||null}function Fo(n,e){return(Sl(e)?e.asyncValidators:n)||null}function $d(n){return Array.isArray(n)?bl(n):n||null}function Sl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Gd(this._rawValidators),this._composedAsyncValidatorFn=$d(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Il}get invalid(){return this.status===fa}get pending(){return this.status==Po}get disabled(){return this.status===Gc}get enabled(){return this.status!==Gc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Gd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$d(e)}addValidators(e){this.setValidators(C_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(C_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bc(e,this._rawAsyncValidators))}hasValidator(e){return Vc(this._rawValidators,e)}hasAsyncValidator(e){return Vc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Po,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===Po)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gc:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Po,this._hasOwnPendingAsyncValidator=!0;const t=Fd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Gc:this.errors?fa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Po)?Po:this._anyControlsHaveStatus(fa)?fa:Il}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Al extends xp{constructor(e,t,i){super(pa(t),Fo(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function zc(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function $c(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function g(n,e){R(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function te(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ze(n,e)})}(n,e),function pt(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Le(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ze(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function S(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function y(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Y(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function R(n,e){const t=Bd(n);null!==e.validator?n.setValidators(D_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Lc(n);null!==e.asyncValidator?n.setAsyncValidators(D_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();E(e._rawValidators,r),E(e._rawAsyncValidators,r)}function Y(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Bd(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=Lc(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return E(e._rawValidators,i),E(e._rawAsyncValidators,i),t}function ze(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Rp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function KI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vo=class extends xp{constructor(e=null,t,i){super(pa(t),Fo(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=KI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){KI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),L_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const U_=new d.OlP("NgModelWithFormControlWarning"),eS={provide:Bi,useExisting:(0,d.Gpc)(()=>Xc)};let Xc=(()=>{class n extends Bi{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Y(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return g(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){y(t.control||null,t,!1),function zd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Zc(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(y(i||null,t),(n=>n instanceof Vo)(r)&&(g(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function Lt(n,e){R(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function qi(n,e){return Y(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){R(this.form,this),this._oldForm&&Y(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vi,10),d.Y36(ss,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([eS]),d.qOj,d.TTD]}),n})();const ew={provide:Ts,useExisting:(0,d.Gpc)(()=>Bp)};let q_,Bp=(()=>{class n extends Ts{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Qc(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===pl?t=s:function Yc(n){return Object.getPrototypeOf(n.constructor)===Hr}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ml(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function w(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Bi,13),d.Y36(vi,10),d.Y36(ss,10),d.Y36(Gr,10),d.Y36(U_,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([ew]),d.qOj,d.TTD]}),n})(),cw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[L_]}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cw]}),n})(),uw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:U_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cw]}),n})();try{q_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{q_=!1}let Zd,As,jp,Ss=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ia(n){return n===na}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!q_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fw(n){return function gS(){if(null==Zd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zd=!0}))}finally{Zd=Zd||!1}return Zd}()?n:!!n.capture}function pw(){if(null==As){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return As=!1,As;if("scrollBehavior"in document.documentElement.style)As=!0;else{const n=Element.prototype.scrollTo;As=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return As}function Hp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ya(n){return n.composedPath?n.composedPath()[0]:n.target}function Qd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var sn=U(7579);class va extends sn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function zr(...n){const e=(0,Cs.yG)(n);return(0,Ur.D)(n,e)}function KS(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var ih=U(515),cr=U(4482);function Oi(n){return n<=0?()=>ih.E:(0,cr.e)((e,t)=>{let i=0;e.subscribe((0,bn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function wi(n,e){return(0,cr.e)((t,i)=>{let r=0;t.subscribe((0,bn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Kp(n){return wi((e,t)=>n<=t)}var Ol=U(4671);function wa(n,e=Ol.y){return n=n??Ns,(0,cr.e)((t,i)=>{let r,s=!0;t.subscribe((0,bn.x)(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function Ns(n,e){return n===e}var rh=U(5032);function qn(n){return(0,cr.e)((e,t)=>{(0,jr.Xf)(n).subscribe((0,bn.x)(t,()=>t.complete(),rh.Z)),!t.closed&&e.subscribe(t)})}function sh(n){return Array.isArray(n)?n:[n]}function Yn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ny(n){return n instanceof d.SBq?n.nativeElement:n}let ZL=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ZL]}),n})();var oy=U(9672);function Tw(n,e,t){n?(0,oy.f)(t,n,e):e()}var YS=U(8189);function ah(...n){return function ZS(){return(0,YS.J)(1)}()((0,Ur.D)(n,(0,Cs.yG)(n)))}var lh=U(727);class JL extends lh.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const qp={setInterval(n,e,...t){const{delegate:i}=qp;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=qp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var XL=U(8737);class ch extends JL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return qp.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&qp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,XL.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Yp={now:()=>(Yp.delegate||Date).now(),delegate:void 0};class uh{constructor(e,t=uh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}uh.now=Yp.now;class su extends uh{constructor(e,t=uh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const dh=new su(ch),eV=dh;function hh(...n){const e=(0,Cs.yG)(n);return(0,cr.e)((t,i)=>{(e?ah(n,t,e):ah(n,t)).subscribe(i)})}const QS=new Set;let fh,nV=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rV}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function iV(n){if(!QS.has(n))try{fh||(fh=document.createElement("style"),fh.setAttribute("type","text/css"),document.head.appendChild(fh)),fh.sheet&&(fh.sheet.insertRule(`@media ${n} {body{ }}`,0),QS.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Da=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new sn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Zp(sh(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=function oh(...n){const e=(0,Cs.yG)(n),t=(0,Cs.jO)(n),{args:i,keys:r}=Ip(n);if(0===i.length)return(0,Ur.D)([],e);const s=new ri.y(function QL(n,e,t=Ol.y){return i=>{Tw(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)Tw(e,()=>{const _=(0,Ur.D)(n[p],e);let b=!1;_.subscribe((0,bn.x)(i,C=>{s[p]=C,b||(b=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>hl(r,c):Ol.y));return t?s.pipe(Oc(t)):s}(Zp(sh(t)).map(c=>this._registerQuery(c).observable));return s=ah(s.pipe(Oi(1)),s.pipe(Kp(1),function tV(n,e=dh){return(0,cr.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=e.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);h()}t.subscribe((0,bn.x)(i,_=>{s=_,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe((0,hn.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{h.matches=h.matches||p,h.breakpoints[_]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new ri.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(hh(i),(0,hn.U)(({matches:c})=>({query:t,matches:c})),qn(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(nV),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zp(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let Uo=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Jp(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function cy(n){try{return n.frameElement}catch{return null}}(function xw(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Ow(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=Ow(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function uV(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function n1(n){return!function Nw(n){return function dy(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Aw(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function uy(n){return function Mw(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Xp(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xp(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Ow(n){if(!Xp(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class r1{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Oi(1)).subscribe(e)}}let eg=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new r1(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Uo),d.LFG(d.R0b),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rw=new d.OlP("cdk-input-modality-detector-options"),l1={ignoreKeys:[18,17,224,91,16]},ou=fw({passive:!0,capture:!0});let Pw=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new va(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ya(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function a1(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(c)?"keyboard":"mouse"),this._mostRecentTarget=ya(c))},this._onTouchstart=c=>{!function hy(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(c)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ya(c)):this._modality.next("keyboard")},this._options={...l1,...s},this.modalityDetected=this._modality.pipe(Kp(1)),this.modalityChanged=this.modalityDetected.pipe(wa()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ou),r.addEventListener("mousedown",this._onMousedown,ou),r.addEventListener("touchstart",this._onTouchstart,ou)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ou),document.removeEventListener("mousedown",this._onMousedown,ou),document.removeEventListener("touchstart",this._onTouchstart,ou))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss),d.LFG(d.R0b),d.LFG(ge),d.LFG(Rw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lw=new d.OlP("cdk-focus-monitor-default-options"),tg=fw({passive:!0,capture:!0});let as=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new sn.x,this._rootNodeFocusAndBlurListener=h=>{for(let _=ya(h);_;_=_.parentElement)"focus"===h.type?this._onFocus(h,_):this._onBlur(h,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=ny(t);if(!this._platform.isBrowser||1!==r.nodeType)return zr(null);const s=function _S(n){if(function gw(){if(null==jp){const n=typeof document<"u"?document.head:null;jp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return jp}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new sn.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ny(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=ny(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=ya(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,tg),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,tg)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tg),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tg),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Ss),d.LFG(Pw),d.LFG(ge,8),d.LFG(Lw,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bw="cdk-high-contrast-black-on-white",Uw="cdk-high-contrast-white-on-black",jw="cdk-high-contrast-active";let fy=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(Da).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(jw,Bw,Uw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(jw,Bw):2===i&&t.add(jw,Uw)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u1=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fy))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[sy]}),n})();var Hw=U(5577),d1=U(1144),Ms=U(576);const h1=["addListener","removeListener"],f1=["addEventListener","removeEventListener"],ng=["on","off"];function xi(n,e,t,i){if((0,Ms.m)(t)&&(i=t,t=void 0),i)return xi(n,e,t).pipe(Oc(i));const[r,s]=function _V(n){return(0,Ms.m)(n.addEventListener)&&(0,Ms.m)(n.removeEventListener)}(n)?f1.map(c=>h=>n[c](e,h,t)):function mV(n){return(0,Ms.m)(n.addListener)&&(0,Ms.m)(n.removeListener)}(n)?h1.map(gh(n,e)):function py(n){return(0,Ms.m)(n.on)&&(0,Ms.m)(n.off)}(n)?ng.map(gh(n,e)):[];if(!r&&(0,d1.z)(n))return(0,Hw.z)(c=>xi(c,e,t))((0,jr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ri.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function gh(n,e){return t=>i=>n[t](e,i)}const au={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=au;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new lh.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=au;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=au;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class $w extends su{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Gw extends ch{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=au.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(au.cancelAnimationFrame(t),e._scheduled=void 0)}});let lu,jo=1;const xl={};function cu(n){return n in xl&&(delete xl[n],!0)}const p1={setImmediate(n){const e=jo++;return xl[e]=!0,lu||(lu=Promise.resolve()),lu.then(()=>cu(e)&&n()),e},clearImmediate(n){cu(n)}},{setImmediate:qw,clearImmediate:g1}=p1,ig={setImmediate(...n){const{delegate:e}=ig;return(e?.setImmediate||qw)(...n)},clearImmediate(n){const{delegate:e}=ig;return(e?.clearImmediate||g1)(n)},delegate:void 0};new class m1 extends su{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class mh extends ch{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ig.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(ig.clearImmediate(t),e._scheduled=void 0)}});var _1=U(3532);function rg(n=0,e,t=eV){let i=-1;return null!=e&&((0,_1.K)(e)?t=e:i=e),new ri.y(r=>{let s=function y1(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function gy(n,e=dh){return function bV(n){return(0,cr.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,t.next(_)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,bn.x)(t,_=>{i=!0,r=_,s||(0,jr.Xf)(n(_)).subscribe(s=(0,bn.x)(t,h,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>rg(n,e))}const my=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function v1(){return(0,d.f3M)(ge)}}),_y=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yy=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function b1(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_y.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(my,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),E1=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new sn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ri.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(gy(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):zr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(wi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ny(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>xi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Ss),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Os=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new sn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(gy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ss),d.LFG(d.R0b),d.LFG(ge,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[_h,Rl,_h,Rl]}),n})();class ag{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class lg extends ag{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class wy extends ag{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Qw extends ag{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class cg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof lg?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof wy?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Qw?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Jw extends cg{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ey=(()=>{class n extends cg{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=s=>{const c=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(ge))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),hu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var Th=U(6451);const Ih=pw();class ug{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Yn(-this._previousScrollPosition.left),e.style.top=Yn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Ih&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ih&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class N1{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dg{enable(){}disable(){}attach(){}}function Sh(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Dy(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class tE{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Sh(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cy=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new dg,this.close=c=>new N1(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new ug(this._viewportRuler,this._document),this.reposition=c=>new tE(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(E1),d.LFG(Os),d.LFG(d.R0b),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ty{constructor(e){if(this.scrollStrategy=new dg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Iy{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Sy=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iE=(()=>{class n extends Sy{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const h=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rE=(()=>{class n extends Sy{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ya(s)},this._clickListener=s=>{const c=ya(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(h))break;const C=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>C.next(s)):C.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(Ss),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hg=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Qd()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),Qd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(Ss))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fu{constructor(e,t,i,r,s,c,h,p,_,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=h,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new sn.x,this._attachments=new sn.x,this._detachments=new sn.x,this._locationChanges=lh.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new sn.x,this._outsidePointerEvents=new sn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Oi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Yn(this._config.width),e.height=Yn(this._config.height),e.minWidth=Yn(this._config.minWidth),e.minHeight=Yn(this._config.minHeight),e.maxWidth=Yn(this._config.maxWidth),e.maxHeight=Yn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=sh(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(qn((0,Th.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ay="cdk-overlay-connected-position-bounding-box",Ny=/([A-Za-z%]+)$/;class fg{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new sn.x,this._resizeSubscription=lh.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Ay),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),_=this._getOverlayPoint(p,t,h),b=this._getOverlayFit(_,t,i,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:h,overlayRect:t})}if(s.length){let h=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ta(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ay),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?c:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=Oy(t);let{x:c,y:h}=e,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(h+=_);let N=0-h,x=h+s.height-i.height,V=this._subtractOverflows(s.width,0-c,c+s.width-i.width),j=this._subtractOverflows(s.height,N,x),J=V*j;return{visibleArea:J,isCompletelyWithinViewport:s.width*s.height===J,fitsInViewportVertically:j===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=My(this._overlayRef.getConfig().minHeight),h=My(this._overlayRef.getConfig().minWidth),_=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Oy(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),_=Math.max(s.left-i.left-e.x,0);let b=0,C=0;return b=r.width<=s.width?_||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,C=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:C},{x:e.x+b,y:e.y+C}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Iy(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,h,b,C,N;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const x=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;s=2*x,c=e.y-x,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)N=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)C=e.x,b=i.right-e.x;else{const x=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;b=2*x,C=e.x-x,b>V&&!this._isInitialRender&&!this._growAfterOpen&&(C=e.x-V/2)}return{top:c,left:C,bottom:h,right:N,width:b,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Yn(i.height),r.top=Yn(i.top),r.bottom=Yn(i.bottom),r.width=Yn(i.width),r.left=Yn(i.left),r.right=Yn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Yn(s)),c&&(r.maxWidth=Yn(c))}this._lastBoundingBoxSize=i,Ta(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ta(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ta(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Ta(i,this._getExactOverlayY(t,e,b)),Ta(i,this._getExactOverlayX(t,e,b))}else i.position="static";let h="",p=this._getOffset(t,"x"),_=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),_&&(h+=`translateY(${_}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Yn(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Yn(c.maxWidth):s&&(i.maxWidth="")),Ta(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Yn(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Yn(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Dy(e,i),isOriginOutsideView:Sh(e,i),isOverlayClipped:Dy(t,i),isOverlayOutsideView:Sh(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&sh(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ta(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function My(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Ny);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Oy(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const xy="cdk-global-overlay-wrapper";class sE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(xy),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),b=this._xPosition,C=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let x="",V="",j="";p?j="flex-start":"center"===b?(j="center",N?V=C:x=C):N?"left"===b||"end"===b?(j="flex-end",x=C):("right"===b||"start"===b)&&(j="flex-start",V=C):"left"===b||"start"===b?(j="flex-start",x=C):("right"===b||"end"===b)&&(j="flex-end",V=C),e.position=this._cssPosition,e.marginLeft=p?"0":x,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":V,t.justifyContent=j,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(xy),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let oE=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new sE}flexibleConnectedTo(t){return new fg(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Os),d.LFG(ge),d.LFG(Ss),d.LFG(hg))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SV=0,pu=(()=>{class n{constructor(t,i,r,s,c,h,p,_,b,C,N,x){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=h,this._ngZone=p,this._document=_,this._directionality=b,this._location=C,this._outsideClickDispatcher=N,this._animationsModuleType=x}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Ty(t);return c.direction=c.direction||this._directionality.value,new fu(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+SV++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new Jw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cy),d.LFG(hg),d.LFG(d._Vd),d.LFG(oE),d.LFG(iE),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ge),d.LFG(yy),d.LFG(Se),d.LFG(rE),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const k1={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[pu],useFactory:function lE(n){return()=>n.scrollStrategies.reposition()}};let cE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[pu,k1],imports:[_h,hu,kl,kl]}),n})();function uE(n){return new ri.y(e=>{(0,jr.Xf)(n()).subscribe(e)})}function dE(n,e){}class Ah{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let hE=(()=>{class n extends cg{constructor(t,i,r,s,c,h,p,_){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=h,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const C=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),C},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Hp(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=Hp();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Hp())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(eg),d.Y36(ge,8),d.Y36(Ah),d.Y36(Uo),d.Y36(d.R0b),d.Y36(fu),d.Y36(as))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&d.Gf(Ey,7),2&t){let r;d.iGM(r=d.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&d.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&d.YNc(0,dE,0,0,"ng-template",0)},dependencies:[Ey],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Ry{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new sn.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!KS(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const ky=new d.OlP("DialogScrollStrategy"),F1=new d.OlP("DialogData"),fE=new d.OlP("DefaultDialogConfig"),Py={provide:ky,deps:[pu],useFactory:function MV(n){return()=>n.scrollStrategies.block()}};let Fy=0,Rs=(()=>{class n{constructor(t,i,r,s,c,h){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=uE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hh(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new Ah,...i}).id=i.id||"cdk-dialog-"+Fy++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),h=new Ry(c,i),p=this._attachContainer(c,h,i);return h.containerInstance=p,this._attachDialogContent(t,h,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Ly(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){Ly(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),Ly(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new Ty({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:Ah,useValue:r},{provide:Ry,useValue:i},{provide:fu,useValue:t}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,c.push(...r.container.providers(r))):h=hE;const p=new lg(h,r.viewContainerRef,d.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return t.attach(p).instance}_attachDialogContent(t,i,r,s){if(t instanceof d.Rgc){const c=this._createInjector(s,i,r,void 0);let h={$implicit:s.data,dialogRef:i};s.templateContext&&(h={...h,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new wy(t,null,h,c))}else{const c=this._createInjector(s,i,r,this._injector),h=r.attachComponentPortal(new lg(t,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(t,i,r,s){const c=t.injector||t.viewContainerRef?.injector,h=[{provide:F1,useValue:t.data},{provide:Ry,useValue:i}];return t.providers&&("function"==typeof t.providers?h.push(...t.providers(i,t,r)):h.push(...t.providers)),t.direction&&(!c||!c.get(yy,null,d.XFs.Optional))&&h.push({provide:yy,useValue:{value:t.direction,change:zr()}}),d.zs3.create({parent:c||s,providers:h})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pu),d.LFG(d.zs3),d.LFG(fE,8),d.LFG(n,12),d.LFG(hg),d.LFG(ky))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Ly(n,e){let t=n.length;for(;t--;)e(n[t])}let pE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Rs,Py],imports:[cE,hu,u1,hu]}),n})();const Mh=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Vy(){return!0}});let mE=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Qd()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fy),d.LFG(Mh,8),d.LFG(ge))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[_h,_h]}),n})();class cA{}const Ia="*";function CE(n,e){return{type:7,name:n,definitions:e,options:{}}}function Gy(n,e=null){return{type:4,styles:e,timings:n}}function uA(n,e=null){return{type:3,steps:n,options:e}}function Tt(n,e=null){return{type:2,steps:n,options:e}}function mu(n){return{type:6,styles:n,offset:null}}function TE(n,e,t){return{type:0,name:n,styles:e,options:t}}function Pl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Rh(n=null){return{type:9,options:n}}function jn(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function zy(n){Promise.resolve().then(n)}class _u{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zy(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class IE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?zy(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function SE(n,e){}const Fl={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},AE={dialogContainer:CE("dialogContainer",[TE("void, exit",mu({opacity:0,transform:"scale(0.7)"})),TE("enter",mu({transform:"none"})),Pl("* => enter",uA([Gy("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",mu({transform:"none",opacity:1})),jn("@*",Rh(),{optional:!0})]),Fl),Pl("* => void, * => exit",uA([Gy("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",mu({opacity:0})),jn("@*",Rh(),{optional:!0})]),Fl)])};class gg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Fl.params.enterAnimationDuration,this.exitAnimationDuration=Fl.params.exitAnimationDuration}}let dA=(()=>{class n extends hE{constructor(t,i,r,s,c,h,p,_){super(t,i,r,s,c,h,p,_),this._animationStateChanged=new d.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(eg),d.Y36(ge,8),d.Y36(gg),d.Y36(Uo),d.Y36(d.R0b),d.Y36(fu),d.Y36(as))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],features:[d.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),hA=(()=>{class n extends dA{constructor(t,i,r,s,c,h,p,_,b){super(t,i,r,s,c,h,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Fl.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Fl.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(eg),d.Y36(ge,8),d.Y36(gg),d.Y36(Uo),d.Y36(d.R0b),d.Y36(fu),d.Y36(d.sBO),d.Y36(as))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&d.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(d.Ikx("id",i._config.id),d.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),d.d8E("@dialogContainer",i._getAnimationState()))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&d.YNc(0,SE,0,0,"ng-template",0)},dependencies:[Ey],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[AE.dialogContainer]}}),n})();class yu{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new sn.x,this._beforeClosed=new sn.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(wi(r=>"opened"===r.state),Oi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(wi(r=>"closed"===r.state),Oi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Th.T)(this.backdropClick(),this.keydownEvents().pipe(wi(r=>27===r.keyCode&&!this.disableClose&&!KS(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function fA(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(wi(t=>"closing"===t.state),Oi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const pA=new d.OlP("MatDialogData"),gA=new d.OlP("mat-dialog-default-options"),kh=new d.OlP("mat-dialog-scroll-strategy"),ME={provide:kh,deps:[pu],useFactory:function NE(n){return()=>n.scrollStrategies.block()}};let _A=0,Ph=(()=>{class n{constructor(t,i,r,s,c,h,p,_,b,C){this._overlay=t,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new sn.x,this._afterOpenedAtThisLevel=new sn.x,this._idPrefix="mat-dialog-",this.afterAllClosed=uE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hh(void 0))),this._scrollStrategy=h,this._dialog=i.get(Rs)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new gg,...i}).id=i.id||`${this._idPrefix}${_A++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:gg,useValue:i},{provide:Ah,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,h,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),vu=(()=>{class n extends Ph{constructor(t,i,r,s,c,h,p,_){super(t,i,s,h,p,c,yu,hA,pA,_)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pu),d.LFG(d.zs3),d.LFG(Se,8),d.LFG(gA,8),d.LFG(kh),d.LFG(n,12),d.LFG(hg),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),OE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vu,ME],imports:[pE,cE,hu,mE,mE]}),n})(),xE=(()=>{class n{constructor(t){this.dialogRef=t}ngOnInit(){}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(yu))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-feedback-success"]],decls:10,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12","text-center"],["src","assets/success-phone.png","alt","success-img"],[1,"my-5"],[3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._UZ(3,"img",3),d.TgZ(4,"p",4),d._uU(5,"Thank you for your message! "),d._UZ(6,"br"),d._uU(7," We will be in contact soon. "),d.qZA(),d.TgZ(8,"button",5),d.NdJ("click",function(){return i.closeDialog()}),d._uU(9,"CLOSE"),d.qZA()()()())},styles:[".container[_ngcontent-%COMP%]{height:350px;width:550px}button[_ngcontent-%COMP%]{background-color:#11c4b0;border:none;border-radius:80px;color:#fff;padding:10px 15px}p[_ngcontent-%COMP%]{color:#979797;font-weight:500}"]}),n})();const{isArray:wA}=Array;function RE(n){return 1===n.length&&wA(n[0])?n[0]:n}function Fh(...n){const e=(0,Cs.jO)(n),t=RE(n);return t.length?new ri.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<t.length;c++)(0,jr.Xf)(t[c]).subscribe((0,bn.x)(i,h=>{if(r[c].push(h),r.every(p=>p.length)){const p=r.map(_=>_.shift());i.next(e?e(...p):p),r.some((_,b)=>!_.length&&s[b])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):ih.E}function Ps(n,e){return(0,cr.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,bn.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,jr.Xf)(n(p,b)).subscribe(r=(0,bn.x)(i,C=>i.next(e?e(p,C,b,_++):C),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function Wy(n,e,t){const i=(0,Ms.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,cr.e)((r,s)=>{var c;null===(c=i.subscribe)||void 0===c||c.call(i);let h=!0;r.subscribe((0,bn.x)(s,p=>{var _;null===(_=i.next)||void 0===_||_.call(i,p),s.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var _;h=!1,null===(_=i.error)||void 0===_||_.call(i,p),s.error(p)},()=>{var p,_;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(_=i.finalize)||void 0===_||_.call(i)}))}):Ol.y}function Lh(...n){const e=(0,Cs.jO)(n);return(0,cr.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,jr.Xf)(n[p]).subscribe((0,bn.x)(i,_=>{s[p]=_,!h&&!c[p]&&(c[p]=!0,(h=c.every(Ol.y))&&(c=null))},rh.Z));t.subscribe((0,bn.x)(i,p=>{if(h){const _=[p,...s];i.next(e?e(..._):_)}}))})}new ri.y(rh.Z),Math,Math,Math;const rv=["*"],bN=["dialog"];function _B(n,e){1&n&&d._uU(0),2&n&&d.Oqu(100===e.fill?"\u2605":"\u2606")}function SD(n,e){}function yB(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span",2),d._uU(1),d.qZA(),d.TgZ(2,"span",3),d.NdJ("mouseenter",function(){const s=d.CHM(t).index,c=d.oxw();return d.KtG(c.enter(s+1))})("click",function(){const s=d.CHM(t).index,c=d.oxw();return d.KtG(c.handleClick(s+1))}),d.YNc(3,SD,0,0,"ng-template",4),d.qZA()}if(2&n){const t=e.index,i=d.oxw(),r=d.MAs(1);d.xp6(1),d.hij("(",t<i.nextRate?"*":" ",")"),d.xp6(1),d.Udp("cursor",i.isInteractive()?"pointer":"default"),d.xp6(1),d.Q6J("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||r)("ngTemplateOutletContext",i.contexts[t])}}function OD(n,e,t=0){return Math.max(Math.min(n,e),t)}function xD(n){return"string"==typeof n}function Du(n){return null!=n}function qh(n){return(n||document.body).getBoundingClientRect()}const PD={animation:!0,transitionTimerDelayMs:5},us=()=>{},{transitionTimerDelayMs:VN}=PD,zl=new Map,dr=(n,e,t,i)=>{let r=i.context||{};const s=zl.get(e);if(s)switch(i.runningTransition){case"continue":return ih.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),zl.delete(e)}const c=t(e,i.animation,r)||us;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),zr(void 0).pipe(function Vs(n){return e=>new ri.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new sn.x,p=new sn.x,_=h.pipe(function mg(...n){return e=>ah(e,zr(...n))}(!0));zl.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const b=function pv(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const C=xi(e,"transitionend").pipe(qn(_),wi(({target:x})=>x===e));(function EA(...n){return 1===(n=RE(n)).length?(0,jr.Xf)(n[0]):new ri.y(function XV(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,jr.Xf)(n[i]).subscribe((0,bn.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(rg(b+VN).pipe(qn(_)),C,p).pipe(qn(_)).subscribe(()=>{zl.delete(e),n.run(()=>{c(),h.next(),h.complete()})})}),h.asObservable()};let Yh=(()=>{class n{constructor(){this.animation=PD.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),co=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),jN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),Zh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var kn=(()=>{return(n=kn||(kn={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",kn;var n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Iv=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function QD(n){const e=Array.from(n.querySelectorAll(Iv)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let e2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i,W_]}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();class ef{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let F6=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(Oi(1)).subscribe(()=>{dr(this._zone,this._el.nativeElement,(t,i)=>{i&&qh(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return dr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(d.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),d.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class o2{close(e){}dismiss(e){}}class L6{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new sn.x,this._dismissed=new sn.x,this._hidden=new sn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function RD(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():zr(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Fh(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kv=(()=>{return(n=kv||(kv={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",kv;var n})();let V6=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new sn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new sn.x,this.hidden=new sn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":xD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Oi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=Fh(dr(this._zone,t,()=>t.classList.remove("show"),i),dr(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};Fh(dr(this._zone,this._elRef.nativeElement,(s,c)=>{c&&qh(s),s.classList.add("show")},t),dr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{xi(t,"keydown").pipe(qn(this._closed$),wi(r=>r.which===kn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(kv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;xi(this._dialogEl.nativeElement,"mousedown").pipe(qn(this._closed$),Wy(()=>i=!1),Ps(()=>xi(t,"mouseup").pipe(qn(this._closed$),Oi(1))),wi(({target:r})=>t===r)).subscribe(()=>{i=!0}),xi(t,"click").pipe(qn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(kv.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=QD(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&dr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ge),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&d.Gf(bN,7),2&t){let r;d.iGM(r=d.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(d.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),d.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),d.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:rv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&t&&d.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),B6=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U6=(()=>{class n{constructor(t,i,r,s,c,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=h,this._activeWindowCmptHasChanged=new sn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=xi(e,"focusin").pipe(qn(t),(0,hn.U)(s=>s.target));xi(e,"keydown").pipe(qn(t),wi(s=>s.which===kn.Tab),Lh(r)).subscribe(([s,c])=>{const[h,p]=QD(e);(c===h||c===e)&&s.shiftKey&&(p.focus(),s.preventDefault()),c===p&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&xi(e,"click").pipe(qn(t),Lh(r),(0,hn.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:Du(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new o2,p=this._getContentRef(r.injector||t,i,h,r);let _=!1!==r.backdrop?this._attachBackdrop(s):void 0,b=this._attachWindowComponent(s,p.nodes),C=new L6(b,p,_,r.beforeDismiss);return this._registerModalRef(C),this._registerWindowCmpt(b),C.hidden.pipe(Oi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=N=>{C.close(N)},h.dismiss=N=>{C.dismiss(N)},this._applyWindowOptions(b.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),_&&_.instance&&(this._applyBackdropOptions(_.instance,r),_.changeDetectorRef.detectChanges()),b.changeDetectorRef.detectChanges(),C}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,d.LMc)(F6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,d.LMc)(V6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Du(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Du(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof d.Rgc?this._createFromTemplateRef(i,r):xD(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new ef([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new ef([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new ef([[i]])}_createFromComponent(t,i,r,s){const c=d.zs3.create({providers:[{provide:o2,useValue:r}],parent:t}),h=(0,d.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:c}),p=h.location.nativeElement;return s.scrollable&&p.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new ef([[p]],h.hostView,h)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(ge),d.LFG(B6),d.LFG(d.FYo),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j6=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H6=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(U6),d.LFG(j6))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[H6]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),aM=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X6=(()=>{class n{constructor(t,i){this._changeDetectorRef=i,this.contexts=[],this.disabled=!1,this.hover=new d.vpe,this.leave=new d.vpe,this.rateChange=new d.vpe(!0),this.onChange=r=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case kn.ArrowDown:case kn.ArrowLeft:this.update(this.rate-1);break;case kn.ArrowUp:case kn.ArrowRight:this.update(this.rate+1);break;case kn.Home:this.update(0);break;case kn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,i=!0){const r=OD(t,this.max,0);this.isInteractive()&&this.rate!==r&&(this.rate=r,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((i,r)=>i.fill=Math.round(100*OD(t-r,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,i)=>({fill:0,index:i}))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(aM),d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,i,r){if(1&t&&d.Suo(r,d.Rgc,5),2&t){let s;d.iGM(s=d.CRH())&&(i.starTemplateFromContent=s.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,i){1&t&&d.NdJ("blur",function(){return i.handleBlur()})("keydown",function(s){return i.handleKeyDown(s)})("mouseleave",function(){return i.reset()}),2&t&&(d.Ikx("tabindex",i.disabled?-1:0),d.uIk("aria-valuemax",i.max)("aria-valuenow",i.nextRate)("aria-valuetext",i.ariaValueText())("aria-disabled",!!i.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[d._Bn([{provide:Gr,useExisting:(0,d.Gpc)(()=>n),multi:!0}]),d.TTD],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(d.YNc(0,_B,1,1,"ng-template",null,0,d.W1O),d.YNc(2,yB,4,5,"ng-template",1)),2&t&&(d.xp6(2),d.Q6J("ngForOf",i.contexts))},dependencies:[ts,Js],encapsulation:2,changeDetection:0}),n})(),sC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),C2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();new d.OlP("live announcer delay",{providedIn:"root",factory:function nK(){return 100}});let I2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$i]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const iK=[co,jN,Ev,Zh,e2,s2,a2,d2,S2,v2,w2,E2,sC,D2,C2,T2,I2];let A2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[iK,co,jN,Ev,Zh,e2,s2,a2,d2,S2,v2,w2,E2,sC,D2,C2,T2,I2]}),n})();var qt=U(9681);(0,qt.registerVersion)("firebase","9.20.0","app");var Ne=U(5861),F=U(2090),Yr=U(4859),Us=U(1877),Bg=U(8766);const N2="@firebase/installations",O2="w:0.6.4",x2="FIS_v2",Kl=new F.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function R2(n){return n instanceof F.ZR&&n.code.includes("request-failed")}function cM({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function k2(n){return{token:n.token,requestStatus:2,expiresIn:dK(n.expiresIn),creationTime:Date.now()}}function uM(n,e){return dM.apply(this,arguments)}function dM(){return(dM=(0,Ne.Z)(function*(n,e){const i=(yield e.json()).error;return Kl.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function P2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function F2(n,{refreshToken:e}){const t=P2(n);return t.append("Authorization",function hK(n){return`${x2} ${n}`}(e)),t}function hM(n){return fM.apply(this,arguments)}function fM(){return(fM=(0,Ne.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function dK(n){return Number(n.replace("s","000"))}function fK(n,e){return pM.apply(this,arguments)}function pM(){return(pM=(0,Ne.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=cM(n),r=P2(n),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const h={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:x2,appId:n.appId,sdkVersion:O2})},p=yield hM(()=>fetch(i,h));if(p.ok){const _=yield p.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:k2(_.authToken)}}throw yield uM("Create Installation",p)})).apply(this,arguments)}function L2(n){return new Promise(e=>{setTimeout(e,n)})}const gK=/^[cdef][\w-]{21}$/;function mK(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function _K(n){return function pK(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return gK.test(t)?t:""}catch{return""}}function Ug(n){return`${n.appName}!${n.appId}`}const jg=new Map;function V2(n,e){const t=Ug(n);B2(t,e),function bK(n,e){const t=function U2(){return!tf&&"BroadcastChannel"in self&&(tf=new BroadcastChannel("[Firebase] FID Change"),tf.onmessage=n=>{B2(n.data.key,n.data.fid)}),tf}();t&&t.postMessage({key:n,fid:e}),function j2(){0===jg.size&&tf&&(tf.close(),tf=null)}()}(t,e)}function B2(n,e){const t=jg.get(n);if(t)for(const i of t)i(e)}let tf=null;const nf="firebase-installations-store";let mM=null;function _M(){return mM||(mM=(0,Bg.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(nf)}})),mM}function oC(n,e){return yM.apply(this,arguments)}function yM(){return(yM=(0,Ne.Z)(function*(n,e){const t=Ug(n),r=(yield _M()).transaction(nf,"readwrite"),s=r.objectStore(nf),c=yield s.get(t);return yield s.put(e,t),yield r.done,(!c||c.fid!==e.fid)&&V2(n,e.fid),e})).apply(this,arguments)}function vM(n){return bM.apply(this,arguments)}function bM(){return(bM=(0,Ne.Z)(function*(n){const e=Ug(n),i=(yield _M()).transaction(nf,"readwrite");yield i.objectStore(nf).delete(e),yield i.done})).apply(this,arguments)}function Pv(n,e){return wM.apply(this,arguments)}function wM(){return(wM=(0,Ne.Z)(function*(n,e){const t=Ug(n),r=(yield _M()).transaction(nf,"readwrite"),s=r.objectStore(nf),c=yield s.get(t),h=e(c);return void 0===h?yield s.delete(t):yield s.put(h,t),yield r.done,h&&(!c||c.fid!==h.fid)&&V2(n,h.fid),h})).apply(this,arguments)}function EM(n){return DM.apply(this,arguments)}function DM(){return(DM=(0,Ne.Z)(function*(n){let e;const t=yield Pv(n.appConfig,i=>{const r=DK(i),s=CK(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function DK(n){return G2(n||{fid:mK(),registrationStatus:0})}function CK(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Kl.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function TK(n,e){return CM.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:IK(n)}:{installationEntry:e}}function CM(){return(CM=(0,Ne.Z)(function*(n,e){try{const t=yield fK(n,e);return oC(n.appConfig,t)}catch(t){throw R2(t)&&409===t.customData.serverCode?yield vM(n.appConfig):yield oC(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function IK(n){return TM.apply(this,arguments)}function TM(){return(TM=(0,Ne.Z)(function*(n){let e=yield H2(n.appConfig);for(;1===e.registrationStatus;)yield L2(100),e=yield H2(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield EM(n);return i||t}return e})).apply(this,arguments)}function H2(n){return Pv(n,e=>{if(!e)throw Kl.create("installation-not-found");return G2(e)})}function G2(n){return function SK(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function AK(n,e){return IM.apply(this,arguments)}function IM(){return(IM=(0,Ne.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=NK(n,t),r=F2(n,t),s=e.getImmediate({optional:!0});if(s){const _=yield s.getHeartbeatsHeader();_&&r.append("x-firebase-client",_)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:O2,appId:n.appId}})},p=yield hM(()=>fetch(i,h));if(p.ok)return k2(yield p.json());throw yield uM("Generate Auth Token",p)})).apply(this,arguments)}function NK(n,{fid:e}){return`${cM(n)}/${e}/authTokens:generate`}function SM(n){return AM.apply(this,arguments)}function AM(){return(AM=(0,Ne.Z)(function*(n,e=!1){let t;const i=yield Pv(n.appConfig,s=>{if(!z2(s))throw Kl.create("not-registered");const c=s.authToken;if(!e&&xK(c))return s;if(1===c.requestStatus)return t=MK(n,e),s;{if(!navigator.onLine)throw Kl.create("app-offline");const h=kK(s);return t=OK(n,h),h}});return t?yield t:i.authToken})).apply(this,arguments)}function MK(n,e){return NM.apply(this,arguments)}function NM(){return(NM=(0,Ne.Z)(function*(n,e){let t=yield $2(n.appConfig);for(;1===t.authToken.requestStatus;)yield L2(100),t=yield $2(n.appConfig);const i=t.authToken;return 0===i.requestStatus?SM(n,e):i})).apply(this,arguments)}function $2(n){return Pv(n,e=>{if(!z2(e))throw Kl.create("not-registered");return function PK(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function OK(n,e){return MM.apply(this,arguments)}function MM(){return(MM=(0,Ne.Z)(function*(n,e){try{const t=yield AK(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield oC(n.appConfig,i),t}catch(t){if(!R2(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield oC(n.appConfig,i)}else yield vM(n.appConfig);throw t}})).apply(this,arguments)}function z2(n){return void 0!==n&&2===n.registrationStatus}function xK(n){return 2===n.requestStatus&&!function RK(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function kK(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function OM(){return(OM=(0,Ne.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield EM(e);return i?i.catch(console.error):SM(e).catch(console.error),t.fid})).apply(this,arguments)}function xM(){return(xM=(0,Ne.Z)(function*(n,e=!1){const t=n;return yield VK(t),(yield SM(t,e)).token})).apply(this,arguments)}function VK(n){return RM.apply(this,arguments)}function RM(){return(RM=(0,Ne.Z)(function*(n){const{registrationPromise:e}=yield EM(n);e&&(yield e)})).apply(this,arguments)}function FM(n){return Kl.create("missing-app-config-values",{valueName:n})}const W2="installations",GK=n=>{const e=n.getProvider("app").getImmediate(),t=function jK(n){if(!n||!n.options)throw FM("App Configuration");if(!n.name)throw FM("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw FM(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,qt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},$K=n=>{const e=n.getProvider("app").getImmediate(),t=(0,qt._getProvider)(e,W2).getImmediate();return{getId:()=>function FK(n){return OM.apply(this,arguments)}(t),getToken:r=>function LK(n){return xM.apply(this,arguments)}(t,r)}};(function zK(){(0,qt._registerComponent)(new Yr.wA(W2,GK,"PUBLIC")),(0,qt._registerComponent)(new Yr.wA("installations-internal",$K,"PRIVATE"))})(),(0,qt.registerVersion)(N2,"0.6.4"),(0,qt.registerVersion)(N2,"0.6.4","esm2017");const LM="@firebase/remote-config",ds=new F.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class n4{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,Ne.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&c.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(c),s})()}}function i4(n=navigator){return n.languages&&n.languages[0]||n.language}class r4{constructor(e,t,i,r,s,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=c}fetch(e){var t=this;return(0,Ne.Z)(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:i4()},_={method:"POST",headers:h,body:JSON.stringify(p)},b=fetch(c,_),C=new Promise((le,we)=>{e.signal.addEventListener(()=>{const Fe=new Error("The operation was aborted.");Fe.name="AbortError",we(Fe)})});let N;try{yield Promise.race([b,C]),N=yield b}catch(le){let we="fetch-client-network";throw"AbortError"===le?.name&&(we="fetch-timeout"),ds.create(we,{originalErrorMessage:le?.message})}let x=N.status;const V=N.headers.get("ETag")||void 0;let j,J;if(200===N.status){let le;try{le=yield N.json()}catch(we){throw ds.create("fetch-client-parse",{originalErrorMessage:we?.message})}j=le.entries,J=le.state}if("INSTANCE_STATE_UNSPECIFIED"===J?x=500:"NO_CHANGE"===J?x=304:("NO_TEMPLATE"===J||"EMPTY_CONFIG"===J)&&(j={}),304!==x&&200!==x)throw ds.create("fetch-status",{httpStatus:x});return{status:x,eTag:V,config:j}})()}}class a4{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Ne.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,Ne.Z)(function*(){yield function s4(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ds.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function o4(n){if(!(n instanceof F.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const c={throttleEndTimeMillis:Date.now()+(0,F.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(e,c)}})()}}class u4{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function lC(n,e){const t=n.target.error||void 0;return ds.create(e,{originalErrorMessage:t&&t?.message})}const rf="app_namespace_store";class p4{constructor(e,t,i,r=function f4(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(lC(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(rf,{keyPath:"compositeKey"})}}catch(t){e(ds.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Ne.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([rf],"readonly").objectStore(rf),p=t.createCompositeKey(e);try{const _=h.get(p);_.onerror=b=>{s(lC(b,"storage-get"))},_.onsuccess=b=>{const C=b.target.result;r(C?C.value:void 0)}}catch(_){s(ds.create("storage-get",{originalErrorMessage:_?.message}))}})})()}set(e,t){var i=this;return(0,Ne.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,c)=>{const p=r.transaction([rf],"readwrite").objectStore(rf),_=i.createCompositeKey(e);try{const b=p.put({compositeKey:_,value:t});b.onerror=C=>{c(lC(C,"storage-set"))},b.onsuccess=()=>{s()}}catch(b){c(ds.create("storage-set",{originalErrorMessage:b?.message}))}})})()}delete(e){var t=this;return(0,Ne.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([rf],"readwrite").objectStore(rf),p=t.createCompositeKey(e);try{const _=h.delete(p);_.onerror=b=>{s(lC(b,"storage-delete"))},_.onsuccess=()=>{r()}}catch(_){s(ds.create("storage-delete",{originalErrorMessage:_?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class g4{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Ne.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const c=yield i;c&&(e.lastSuccessfulFetchTimestampMillis=c);const h=yield r;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function _4(){return HM.apply(this,arguments)}function HM(){return(HM=(0,Ne.Z)(function*(){if(!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}!function m4(){(0,qt._registerComponent)(new Yr.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ds.create("registration-window");if(!(0,F.hl)())throw ds.create("indexed-db-unavailable");const{projectId:s,apiKey:c,appId:h}=i.options;if(!s)throw ds.create("registration-project-id");if(!c)throw ds.create("registration-api-key");if(!h)throw ds.create("registration-app-id");const p=new p4(h,i.name,t=t||"firebase"),_=new g4(p),b=new Us.Yd(LM);b.logLevel=Us.in.ERROR;const C=new r4(r,qt.SDK_VERSION,t,s,c,h),N=new a4(C,p),x=new n4(N,p,_,b),V=new u4(i,x,_,p,b);return function XK(n){const e=(0,F.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(V),V},"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(LM,"0.4.4"),(0,qt.registerVersion)(LM,"0.4.4","esm2017")}();const y4="/firebase-messaging-sw.js",v4="/firebase-cloud-messaging-push-scope",Z2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Q2="google.c.a.c_id",w4="google.c.a.c_l",E4="google.c.a.ts",D4="google.c.a.e";var Hg=(()=>{return(n=Hg||(Hg={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Hg;var n})();function ql(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function C4(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const GM="fcm_token_details_db",J2="fcm_token_object_Store";function I4(n){return $M.apply(this,arguments)}function $M(){return $M=(0,Ne.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(GM))return null;let e=null;return(yield(0,Bg.X3)(GM,5,{upgrade:(i=(0,Ne.Z)(function*(r,s,c,h){var p;if(s<2||!r.objectStoreNames.contains(J2))return;const _=h.objectStore(J2),b=yield _.index("fcmSenderId").get(n);if(yield _.clear(),b)if(2===s){const C=b;if(!C.auth||!C.p256dh||!C.endpoint)return;e={token:C.fcmToken,createTime:null!==(p=C.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:"string"==typeof C.vapidKey?C.vapidKey:ql(C.vapidKey)}}}else if(3===s){const C=b;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:ql(C.auth),p256dh:ql(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:ql(C.vapidKey)}}}else if(4===s){const C=b;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:ql(C.auth),p256dh:ql(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:ql(C.vapidKey)}}}}),function(s,c,h,p){return i.apply(this,arguments)})})).close(),yield(0,Bg.Lj)(GM),yield(0,Bg.Lj)("fcm_vapid_details_db"),yield(0,Bg.Lj)("undefined"),S4(e)?e:null;var i}),$M.apply(this,arguments)}function S4(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const sf="firebase-messaging-store";let zM=null;function WM(){return zM||(zM=(0,Bg.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(sf)}})),zM}function X2(n){return KM.apply(this,arguments)}function KM(){return(KM=(0,Ne.Z)(function*(n){const e=QM(n),i=yield(yield WM()).transaction(sf).objectStore(sf).get(e);if(i)return i;{const r=yield I4(n.appConfig.senderId);if(r)return yield qM(n,r),r}})).apply(this,arguments)}function qM(n,e){return YM.apply(this,arguments)}function YM(){return(YM=(0,Ne.Z)(function*(n,e){const t=QM(n),r=(yield WM()).transaction(sf,"readwrite");return yield r.objectStore(sf).put(e,t),yield r.done,e})).apply(this,arguments)}function M4(n){return ZM.apply(this,arguments)}function ZM(){return(ZM=(0,Ne.Z)(function*(n){const e=QM(n),i=(yield WM()).transaction(sf,"readwrite");yield i.objectStore(sf).delete(e),yield i.done})).apply(this,arguments)}function QM({appConfig:n}){return n.appId}const hr=new F.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function x4(n,e){return JM.apply(this,arguments)}function JM(){return(JM=(0,Ne.Z)(function*(n,e){const t=yield nO(n),i=tU(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(tO(n.appConfig),r)).json()}catch(c){throw hr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(s.error)throw hr.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw hr.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function R4(n,e){return XM.apply(this,arguments)}function XM(){return(XM=(0,Ne.Z)(function*(n,e){const t=yield nO(n),i=tU(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${tO(n.appConfig)}/${e.token}`,r)).json()}catch(c){throw hr.create("token-update-failed",{errorInfo:c?.toString()})}if(s.error)throw hr.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw hr.create("token-update-no-token");return s.token})).apply(this,arguments)}function eU(n,e){return eO.apply(this,arguments)}function eO(){return(eO=(0,Ne.Z)(function*(n,e){const i={method:"DELETE",headers:yield nO(n)};try{const s=yield(yield fetch(`${tO(n.appConfig)}/${e}`,i)).json();if(s.error)throw hr.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw hr.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function tO({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function nO(n){return iO.apply(this,arguments)}function iO(){return(iO=(0,Ne.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function tU({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Z2&&(r.web.applicationPubKey=i),r}const k4=6048e5;function P4(n){return rO.apply(this,arguments)}function rO(){return(rO=(0,Ne.Z)(function*(n){const e=yield L4(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ql(e.getKey("auth")),p256dh:ql(e.getKey("p256dh"))},i=yield X2(n.firebaseDependencies);if(i){if(V4(i.subscriptionOptions,t))return Date.now()>=i.createTime+k4?F4(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield eU(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return iU(n.firebaseDependencies,t)}return iU(n.firebaseDependencies,t)})).apply(this,arguments)}function nU(n){return sO.apply(this,arguments)}function sO(){return(sO=(0,Ne.Z)(function*(n){const e=yield X2(n.firebaseDependencies);e&&(yield eU(n.firebaseDependencies,e.token),yield M4(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function F4(n,e){return oO.apply(this,arguments)}function oO(){return(oO=(0,Ne.Z)(function*(n,e){try{const t=yield R4(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield qM(n.firebaseDependencies,i),t}catch(t){throw yield nU(n),t}})).apply(this,arguments)}function iU(n,e){return aO.apply(this,arguments)}function aO(){return(aO=(0,Ne.Z)(function*(n,e){const i={token:yield x4(n,e),createTime:Date.now(),subscriptionOptions:e};return yield qM(n,i),i.token})).apply(this,arguments)}function L4(n,e){return lO.apply(this,arguments)}function lO(){return(lO=(0,Ne.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:C4(e)})})).apply(this,arguments)}function V4(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function rU(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function B4(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function U4(n,e){!e.data||(n.data=e.data)}(e,n),function j4(n,e){var t,i,r,s,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const h=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;h&&(n.fcmOptions.link=h);const p=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function H4(n){return"object"==typeof n&&!!n&&Q2 in n}function sU(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function cO(n){return hr.create("missing-app-config-values",{valueName:n})}sU("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sU("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $4{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function G4(n){if(!n||!n.options)throw cO("App Configuration Object");if(!n.name)throw cO("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw cO(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function oU(n){return uO.apply(this,arguments)}function uO(){return(uO=(0,Ne.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(y4,{scope:v4}),n.swRegistration.update().catch(()=>{})}catch(e){throw hr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function z4(n,e){return dO.apply(this,arguments)}function dO(){return(dO=(0,Ne.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield oU(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw hr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function W4(n,e){return hO.apply(this,arguments)}function hO(){return(hO=(0,Ne.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Z2)})).apply(this,arguments)}function fO(){return(fO=(0,Ne.Z)(function*(n,e){if(!navigator)throw hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hr.create("permission-blocked");return yield W4(n,e?.vapidKey),yield z4(n,e?.serviceWorkerRegistration),P4(n)})).apply(this,arguments)}function K4(n,e,t){return pO.apply(this,arguments)}function pO(){return(pO=(0,Ne.Z)(function*(n,e,t){const i=q4(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[Q2],message_name:t[w4],message_time:t[E4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function q4(n){switch(n){case Hg.NOTIFICATION_CLICKED:return"notification_open";case Hg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gO(){return(gO=(0,Ne.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Hg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(rU(t)):n.onMessageHandler.next(rU(t)));const i=t.data;H4(i)&&"1"===i[D4]&&(yield K4(n,t.messageType,i))})).apply(this,arguments)}const lU="@firebase/messaging",Z4=n=>{const e=new $4(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Y4(n,e){return gO.apply(this,arguments)}(e,t)),e},Q4=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function aU(n,e){return fO.apply(this,arguments)}(e,i)}};function uU(){return mO.apply(this,arguments)}function mO(){return(mO=(0,Ne.Z)(function*(){try{yield(0,F.eu)()}catch{return!1}return typeof window<"u"&&(0,F.hl)()&&(0,F.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function J4(){(0,qt._registerComponent)(new Yr.wA("messaging",Z4,"PUBLIC")),(0,qt._registerComponent)(new Yr.wA("messaging-internal",Q4,"PRIVATE")),(0,qt.registerVersion)(lU,"0.12.4"),(0,qt.registerVersion)(lU,"0.12.4","esm2017")}();const cC="analytics",tq="firebase_id",rq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vO="https://www.googletagmanager.com/gtag/js",Yi=new Us.Yd("@firebase/analytics"),hs=new F.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function oq(n){if(!n.startsWith(vO)){const e=hs.create("invalid-gtag-resource",{gtagURL:n});return Yi.warn(e.message),""}return n}function dU(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function lq(n,e){const t=function aq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:oq}),i=document.createElement("script"),r=`${vO}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function uq(n,e,t,i,r,s){return bO.apply(this,arguments)}function bO(){return(bO=(0,Ne.Z)(function*(n,e,t,i,r,s){const c=i[r];try{if(c)yield e[c];else{const p=(yield dU(t)).find(_=>_.measurementId===r);p&&(yield e[p.appId])}}catch(h){Yi.error(h)}n("config",r,s)})).apply(this,arguments)}function dq(n,e,t,i,r){return wO.apply(this,arguments)}function wO(){return(wO=(0,Ne.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let c=r.send_to;Array.isArray(c)||(c=[c]);const h=yield dU(t);for(const p of c){const _=h.find(C=>C.measurementId===p),b=_&&e[_.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){Yi.error(s)}})).apply(this,arguments)}function pq(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vO)&&t.src.includes(n))return t;return null}const hU=new class _q{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function yq(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function vq(n){return EO.apply(this,arguments)}function EO(){return(EO=(0,Ne.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:yq(i)},s=rq.replace("{app-id}",t),c=yield fetch(s,r);if(200!==c.status&&304!==c.status){let h="";try{const p=yield c.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw hs.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()})).apply(this,arguments)}function bq(n){return DO.apply(this,arguments)}function DO(){return(DO=(0,Ne.Z)(function*(n,e=hU,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw hs.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw hs.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Dq;return setTimeout((0,Ne.Z)(function*(){h.abort()}),void 0!==t?t:6e4),fU({appId:i,apiKey:r,measurementId:s},c,h,e)})).apply(this,arguments)}function fU(n,e,t){return CO.apply(this,arguments)}function CO(){return(CO=(0,Ne.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=hU){var s;const{appId:c,measurementId:h}=n;try{yield wq(i,e)}catch(p){if(h)return Yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:h};throw p}try{const p=yield vq(n);return r.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!Eq(_)){if(r.deleteThrottleMetadata(c),h)return Yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:h};throw p}const b=503===Number(null===(s=_?.customData)||void 0===s?void 0:s.httpStatus)?(0,F.$s)(t,r.intervalMillis,30):(0,F.$s)(t,r.intervalMillis),C={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return r.setThrottleMetadata(c,C),Yi.debug(`Calling attemptFetch again in ${b} millis`),fU(n,C,i,r)}})).apply(this,arguments)}function wq(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Eq(n){if(!(n instanceof F.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Dq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let TO,OO;function IO(){return(IO=(0,Ne.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function pU(n){OO=n}function gU(n){TO=n}function Nq(){return xO.apply(this,arguments)}function xO(){return(xO=(0,Ne.Z)(function*(){if(!(0,F.hl)())return Yi.warn(hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,F.eu)()}catch(n){return Yi.warn(hs.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function RO(){return(RO=(0,Ne.Z)(function*(n,e,t,i,r,s,c){var h;const p=bq(n);p.then(x=>{t[x.measurementId]=x.appId,n.options.measurementId&&x.measurementId!==n.options.measurementId&&Yi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Yi.error(x)),e.push(p);const _=Nq().then(x=>{if(x)return i.getId()}),[b,C]=yield Promise.all([p,_]);pq(s)||lq(s,b.measurementId),OO&&(r("consent","default",OO),pU(void 0)),r("js",new Date);const N=null!==(h=c?.config)&&void 0!==h?h:{};return N.origin="firebase",N.update=!0,null!=C&&(N[tq]=C),r("config",b.measurementId,N),TO&&(r("set",TO),gU(void 0)),b.measurementId})).apply(this,arguments)}class Oq{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},mU=[];const _U={};let vU,Zl,uC="dataLayer",kO=!1;function Rq(n,e,t){!function xq(){const n=[];if((0,F.ru)()&&n.push("This is a browser extension environment."),(0,F.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=hs.create("invalid-analytics-context",{errorInfo:e});Yi.warn(t.message)}}();const i=n.options.appId;if(!i)throw hs.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw hs.create("no-api-key");Yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yl[i])throw hs.create("already-exists",{id:i});if(!kO){!function cq(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(uC);const{wrappedGtag:s,gtagCore:c}=function fq(n,e,t,i,r){let s=function(...c){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function hq(n,e,t,i){function s(){return(s=(0,Ne.Z)(function*(c,h,p){try{"event"===c?yield dq(n,e,t,h,p):"config"===c?yield uq(n,e,t,i,h,p):"consent"===c?n("consent","update",p):n("set",h)}catch(_){Yi.error(_)}})).apply(this,arguments)}return function r(c,h,p){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(Yl,mU,_U,uC,"gtag");Zl=s,vU=c,kO=!0}return Yl[i]=function Mq(n,e,t,i,r,s,c){return RO.apply(this,arguments)}(n,mU,_U,e,vU,uC,t),new Oq(n)}function Pq(){return PO.apply(this,arguments)}function PO(){return(PO=(0,Ne.Z)(function*(){if((0,F.ru)()||!(0,F.zI)()||!(0,F.hl)())return!1;try{return yield(0,F.eu)()}catch{return!1}})).apply(this,arguments)}const bU="@firebase/analytics";!function Lq(){(0,qt._registerComponent)(new Yr.wA(cC,(e,{options:t})=>Rq(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,qt._registerComponent)(new Yr.wA("analytics-internal",function n(e){try{const t=e.getProvider(cC).getImmediate();return{logEvent:(i,r,s)=>function Fq(n,e,t,i){n=(0,F.m9)(n),function Cq(n,e,t,i,r){return IO.apply(this,arguments)}(Zl,Yl[n.app.options.appId],e,t,i).catch(r=>Yi.error(r))}(t,i,r,s)}}catch(t){throw hs.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,qt.registerVersion)(bU,"0.9.5"),(0,qt.registerVersion)(bU,"0.9.5","esm2017")}();const Uq=new class Bq extends su{}(class Vq extends ch{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}});var Fv=U(9468),Gg=U(5363);const dC=new d.GfV("7.5.0"),FO="__angularfire_symbol__analyticsIsSupportedValue",LO="__angularfire_symbol__analyticsIsSupported",VO="__angularfire_symbol__remoteConfigIsSupportedValue",BO="__angularfire_symbol__remoteConfigIsSupported",UO="__angularfire_symbol__messagingIsSupportedValue",jO="__angularfire_symbol__messagingIsSupported";globalThis[LO]||(globalThis[LO]=Pq().then(n=>globalThis[FO]=n).catch(()=>globalThis[FO]=!1)),globalThis[jO]||(globalThis[jO]=uU().then(n=>globalThis[UO]=n).catch(()=>globalThis[UO]=!1)),globalThis[BO]||(globalThis[BO]=_4().then(n=>globalThis[VO]=n).catch(()=>globalThis[VO]=!1));const $O=(n,e)=>{const t=e?[e]:(0,qt.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(c=>{i.includes(c)||i.push(c)})}),i};function $g(){}class EU{constructor(e,t=Uq){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(c){r.runGuarded(()=>{e.apply(this,[c])})},t,i)}}class jq{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$g,{},$g,$g)),t.pipe(Wy({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hC=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new EU(Zone.current)),this.insideAngular=t.run(()=>new EU(Zone.current,dh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function af(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Hq(n){return af().ngZone.runOutsideAngular(()=>n())}function lf(n){return af().ngZone.run(()=>n())}function Su(n){return af(),function Gq(n){return function(t){return(t=t.lift(new jq(n.ngZone))).pipe((0,Fv.R)(n.outsideAngular),(0,Gg.Q)(n.insideAngular))}}(af())(n)}const $q=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),lf(()=>n.apply(void 0,i))},fC=(n,e)=>function(){let t;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(t||(t=lf(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$g,{},$g,$g)))),i[s]=$q(i[s],t));const r=Hq(()=>n.apply(this,i));if(!e){if(r instanceof ri.y){const s=af();return r.pipe((0,Fv.R)(s.outsideAngular),(0,Gg.Q)(s.insideAngular))}return lf(()=>r)}return r instanceof ri.y?r.pipe(Su):r instanceof Promise?lf(()=>new Promise((s,c)=>r.then(h=>lf(()=>s(h)),h=>lf(()=>c(h))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:lf(()=>r)};class zg{constructor(e){return e}}class DU{constructor(){return(0,qt.getApps)()}}const zO=new d.OlP("angularfire2._apps"),Wq={provide:zg,useFactory:function zq(n){return n&&1===n.length?n[0]:new zg((0,qt.getApp)())},deps:[[new d.FiY,zO]]},Kq={provide:DU,deps:[[new d.FiY,zO]]};function qq(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new zg(i)}}let Yq=(()=>{class n{constructor(t){(0,qt.registerVersion)("angularfire",dC.full,"core"),(0,qt.registerVersion)("angularfire",dC.full,"app"),(0,qt.registerVersion)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Wq,Kq]}),n})();function Zq(n,...e){return{ngModule:Yq,providers:[{provide:zO,useFactory:qq(n),multi:!0,deps:[d.R0b,d.zs3,hC,...e]}]}}const Qq=fC(qt.initializeApp,!0);U(8277);class TU{constructor(){return $O("auth")}}const qO=new Map,IU={activated:!1,tokenObservers:[]},t5={initialized:!1,enabled:!1};function Ei(n){return qO.get(n)||Object.assign({},IU)}function pC(){return t5}class l5{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function c5(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AU(n){if(!Ei(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function QO(n,e){return JO.apply(this,arguments)}function JO(){return(JO=(0,Ne.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const C=yield r.getHeartbeatsHeader();C&&(i["X-Firebase-Client"]=C)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(C){throw fr.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==c.status)throw fr.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(C){throw fr.create("fetch-parse-error",{originalErrorMessage:C?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(p[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+_,issuedAtTimeMillis:b}})).apply(this,arguments)}function f5(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Lv="firebase-app-check-store";let _C=null;function MU(){return _C||(_C=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(fr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Lv,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),_C)}function XO(){return(XO=(0,Ne.Z)(function*(n,e){const i=(yield MU()).transaction(Lv,"readwrite"),s=i.objectStore(Lv).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;h(fr.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Vv=new Us.Yd("@firebase/app-check");function nx(n,e){return(0,F.hl)()?function _5(n,e){return function OU(n,e){return XO.apply(this,arguments)}(function RU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Vv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kU(){return pC().enabled}function PU(){return rx.apply(this,arguments)}function rx(){return(rx=(0,Ne.Z)(function*(){const n=pC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const D5={error:"UNKNOWN_ERROR"};function C5(n){return F.US.encodeString(JSON.stringify(n),!1)}function yC(n){return sx.apply(this,arguments)}function sx(){return(sx=(0,Ne.Z)(function*(n,e=!1){const t=n.app;AU(t);const i=Ei(t);let s,r=i.token;if(r&&!Wg(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Wg(p)?r=p:yield nx(t,void 0))}if(!e&&r&&Wg(r))return{token:r.token};let h,c=!1;if(kU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=QO(f5(t,yield PU()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield nx(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Ei(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Vv.warn(p.message):Vv.error(p),s=p}return r?s?h=Wg(r)?{token:r.token,internalError:s}:VU(s):(h={token:r.token},i.token=r,yield nx(t,r)):h=VU(s),c&&LU(t,h),h})).apply(this,arguments)}function ax(n,e){const t=Ei(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function FU(n){const{app:e}=n,t=Ei(e);let i=t.tokenRefresher;i||(i=function T5(n){const{app:e}=n;return new l5((0,Ne.Z)(function*(){let i;if(i=Ei(e).token?yield yC(n,!0):yield yC(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ei(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function LU(n,e){const t=Ei(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Wg(n){return n.expireTimeMillis-Date.now()>0}function VU(n){return{token:C5(D5),error:n}}class I5{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ei(this.app);for(const t of e)ax(this.app,t.next);return Promise.resolve()}}const WU="app-check-internal";!function U5(){(0,qt._registerComponent)(new Yr.wA("app-check",n=>function S5(n,e){return new I5(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WU).initialize()})),(0,qt._registerComponent)(new Yr.wA(WU,n=>function A5(n){return{getToken:e=>yC(n,e),addTokenListener:e=>function ox(n,e,t,i){const{app:r}=n,s=Ei(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Wg(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),FU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>FU(n))}(n,"INTERNAL",e),removeTokenListener:e=>ax(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qt.registerVersion)("@firebase/app-check","0.6.5")}();class bC{constructor(){return $O("app-check")}}typeof window<"u"&&window;var vt,z5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ql={},hx=hx||{},Ut=z5||self;function wC(){}function EC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var fx="closure_uid_"+(1e9*Math.random()>>>0),K5=0;function q5(n,e,t){return n.call.apply(n.bind,arguments)}function Y5(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Ir(n,e,t){return(Ir=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?q5:Y5).apply(null,arguments)}function DC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Au(){this.s=this.s,this.o=this.o}Au.prototype.s=!1,Au.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function W5(n){Object.prototype.hasOwnProperty.call(n,fx)&&n[fx]||(n[fx]=++K5)}(this)},Au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function px(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function YU(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(EC(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function Sr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Sr.prototype.h=function(){this.defaultPrevented=!0};var Q5=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",wC,e),Ut.removeEventListener("test",wC,e)}catch{}return n}();function CC(n){return/^[\s\xa0]*$/.test(n)}var ZU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gx(n,e){return n<e?-1:n>e?1:0}function TC(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function Oa(n){return-1!=TC().indexOf(n)}function mx(n){return mx[" "](n),n}mx[" "]=wC;var IC,n,X5=Oa("Opera"),Kg=Oa("Trident")||Oa("MSIE"),QU=Oa("Edge"),_x=QU||Kg,JU=Oa("Gecko")&&!(-1!=TC().toLowerCase().indexOf("webkit")&&!Oa("Edge"))&&!(Oa("Trident")||Oa("MSIE"))&&!Oa("Edge"),eY=-1!=TC().toLowerCase().indexOf("webkit")&&!Oa("Edge");function XU(){var n=Ut.document;return n?n.documentMode:void 0}e:{var yx="",vx=(n=TC(),JU?/rv:([^\);]+)(\)|;)/.exec(n):QU?/Edge\/([\d\.]+)/.exec(n):Kg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eY?/WebKit\/(\S+)/.exec(n):X5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vx&&(yx=vx?vx[1]:""),Kg){var bx=XU();if(null!=bx&&bx>parseFloat(yx)){IC=String(bx);break e}}IC=yx}var tY={};var iY=Ut.document&&Kg&&(XU()||parseInt(IC,10))||void 0;function Uv(n,e){if(Sr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(JU){e:{try{mx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:rY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uv.X.h.call(this)}}pr(Uv,Sr);var rY={2:"touch",3:"pen",4:"mouse"};Uv.prototype.h=function(){Uv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jv="closure_listenable_"+(1e6*Math.random()|0),sY=0;function oY(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++sY,this.ba=this.ea=!1}function SC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Ex(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function tj(n){const e={};for(const t in n)e[t]=n[t];return e}const nj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ij(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<nj.length;s++)t=nj[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function AC(n){this.src=n,this.g={},this.h=0}function Dx(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=qU(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(SC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cx(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}AC.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Cx(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new oY(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var Tx="closure_lm_"+(1e6*Math.random()|0),Ix={};function rj(n,e,t,i,r){if(i&&i.once)return oj(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rj(n,e[s],t,i,r);return null}return t=Mx(t),n&&n[jv]?n.N(e,t,Bv(i)?!!i.capture:!!i,r):sj(n,e,t,!1,i,r)}function sj(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Bv(r)?!!r.capture:!!r,h=Ax(n);if(h||(n[Tx]=h=new AC(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function aY(){const e=lY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Q5||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(lj(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function oj(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oj(n,e[s],t,i,r);return null}return t=Mx(t),n&&n[jv]?n.O(e,t,Bv(i)?!!i.capture:!!i,r):sj(n,e,t,!0,i,r)}function aj(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)aj(n,e[s],t,i,r);else i=Bv(i)?!!i.capture:!!i,t=Mx(t),n&&n[jv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cx(s=n.g[e],t,i,r))&&(SC(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Ax(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cx(e,t,i,r)),(t=-1<n?e[n]:null)&&Sx(t))}function Sx(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[jv])Dx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(lj(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Ax(e))?(Dx(t,n),0==t.h&&(t.src=null,e[Tx]=null)):SC(n)}}}function lj(n){return n in Ix?Ix[n]:Ix[n]="on"+n}function lY(n,e){if(n.ba)n=!0;else{e=new Uv(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Sx(n),n=t.call(i,e)}return n}function Ax(n){return(n=n[Tx])instanceof AC?n:null}var Nx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mx(n){return"function"==typeof n?n:(n[Nx]||(n[Nx]=function(e){return n.handleEvent(e)}),n[Nx])}function Zi(){Au.call(this),this.i=new AC(this),this.P=this,this.I=null}function gr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Sr(e,n);else if(e instanceof Sr)e.target=e.target||n;else{var r=e;ij(e=new Sr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=NC(c,i,!0,e)&&r}if(r=NC(c=e.g=n,i,!0,e)&&r,r=NC(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=NC(c=e.g=t[s],i,!1,e)&&r}function NC(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ba&&c.capture==t){var h=c.listener,p=c.ha||c.src;c.ea&&Dx(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}pr(Zi,Au),Zi.prototype[jv]=!0,Zi.prototype.removeEventListener=function(n,e,t,i){aj(this,n,e,t,i)},Zi.prototype.M=function(){if(Zi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)SC(t[i]);delete n.g[e],n.h--}}this.I=null},Zi.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Zi.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ox=Ut.JSON.stringify;function cY(){var n=dj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var xx,cj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dY,n=>n.reset());class dY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hY(n){Ut.setTimeout(()=>{throw n},0)}function uj(n,e){xx||function fY(){var n=Ut.Promise.resolve(void 0);xx=function(){n.then(pY)}}(),Rx||(xx(),Rx=!0),dj.add(n,e)}var Rx=!1,dj=new class uY{constructor(){this.h=this.g=null}add(e,t){const i=cj.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function pY(){for(var n;n=cY();){try{n.h.call(n.g)}catch(t){hY(t)}var e=cj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Rx=!1}function MC(n,e){Zi.call(this),this.h=n||1,this.g=e||Ut,this.j=Ir(this.lb,this),this.l=Date.now()}function kx(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Px(n,e,t){if("function"==typeof n)t&&(n=Ir(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ir(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function hj(n){n.g=Px(()=>{n.g=null,n.i&&(n.i=!1,hj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pr(MC,Zi),(vt=MC.prototype).ca=!1,vt.R=null,vt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gr(this,"tick"),this.ca&&(kx(this),this.start()))}},vt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.M=function(){MC.X.M.call(this),kx(this),delete this.g};class gY extends Au{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hj(this)}M(){super.M(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hv(n){Au.call(this),this.h=n,this.g={}}pr(Hv,Au);var fj=[];function pj(n,e,t,i){Array.isArray(t)||(t&&(fj[0]=t.toString()),t=fj);for(var r=0;r<t.length;r++){var s=rj(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function gj(n){Ex(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sx(e)},n),n.g={}}function OC(){this.g=!0}function qg(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vY(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Ox(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Hv.prototype.M=function(){Hv.X.M.call(this),gj(this)},Hv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},OC.prototype.Aa=function(){this.g=!1},OC.prototype.info=function(){};var cf={},mj=null;function xC(){return mj=mj||new Zi}function _j(n){Sr.call(this,cf.Pa,n)}function Gv(n){const e=xC();gr(e,new _j(e))}function yj(n,e){Sr.call(this,cf.STAT_EVENT,n),this.stat=e}function Zr(n){const e=xC();gr(e,new yj(e,n))}function vj(n,e){Sr.call(this,cf.Qa,n),this.size=e}function $v(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}cf.Pa="serverreachability",pr(_j,Sr),cf.STAT_EVENT="statevent",pr(yj,Sr),cf.Qa="timingevent",pr(vj,Sr);var RC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},bj={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Fx(){}function Ej(){}Fx.prototype.h=null;var Bx,zv={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Lx(){Sr.call(this,"d")}function Vx(){Sr.call(this,"c")}function kC(){}function Wv(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Hv(this),this.O=bY,this.T=new MC(n=_x?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Dj}function Dj(){this.i=null,this.g="",this.h=!1}pr(Lx,Sr),pr(Vx,Sr),pr(kC,Fx),kC.prototype.g=function(){return new XMLHttpRequest},kC.prototype.i=function(){return{}},Bx=new kC;var bY=45e3,Ux={},PC={};function jx(n,e,t){n.K=1,n.v=BC(Jl(e)),n.s=t,n.P=!0,Cj(n,null)}function Cj(n,e){n.F=Date.now(),Kv(n),n.A=Jl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),kj(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Dj,n.g=rH(n.l,t?e:null,!n.s),0<n.N&&(n.L=new gY(Ir(n.La,n,n.g),n.N)),pj(n.S,n.g,"readystatechange",n.ib),e=n.H?tj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Gv(),function mY(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var _=h[p].split("=");if(1<_.length){var b=_[0];_=_[1];var C=b.split("_");c=2<=C.length&&"type"==C[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Tj(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Ij(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=wY(n,t),r==PC){4==e&&(n.o=4,Zr(14),i=!1),qg(n.j,n.m,null,"[Incomplete Response]");break}if(r==Ux){n.o=4,Zr(15),qg(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}qg(n.j,n.m,r,null),Hx(n,r)}Tj(n)&&r!=PC&&r!=Ux&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Zr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zx(e),e.K=!0,Zr(11))):(qg(n.j,n.m,t,"[Invalid Chunked Response]"),uf(n),qv(n))}function wY(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?PC:(t=Number(e.substring(t,i)),isNaN(t)?Ux:(i+=1)+t>e.length?PC:(e=e.substr(i,t),n.C=i+t,e))}function Kv(n){n.V=Date.now()+n.O,Sj(n,n.O)}function Sj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$v(Ir(n.gb,n),e)}function FC(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function qv(n){0==n.l.G||n.I||eH(n.l,n)}function uf(n){FC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kx(n.T),gj(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Hx(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gx(t.h,n)))if(!n.J&&Gx(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;zC(t),GC(t)}Yx(t),Zr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=$v(Ir(t.cb,t),6e3));if(1>=Lj(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else hf(t,11)}else if((n.J||t.g==n)&&zC(t),!CC(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.T=_[0],_=_[1],2==t.G)if("c"==_[0]){t.I=_[1],t.ka=_[2];const b=_[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const C=_[4];null!=C&&(t.Ca=C,t.j.info("SVER="+t.Ca));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(t.J=i=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const x=n.g;if(x){const V=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.h;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&($x(s,s.h),s.h=null))}if(i.D){const j=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.za=j,Zn(i.F,i.D,j))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=iH(i,i.H?i.ka:null,i.V),c.J){Vj(i.h,c);var h=c,p=i.J;p&&h.setTimeout(p),h.B&&(FC(h),Kv(h)),i.g=c}else Jj(i);0<t.i.length&&$C(t)}else"stop"!=_[0]&&"close"!=_[0]||hf(t,7);else 3==t.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?hf(t,7):qx(t):"noop"!=_[0]&&t.l&&t.l.wa(_),t.A=0)}Gv()}catch{}}function Aj(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(EC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function DY(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(EC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function EY(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(EC(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(vt=Wv.prototype).setTimeout=function(n){this.O=n},vt.ib=function(n){n=n.target;const e=this.L;e&&3==Xl(n)?e.l():this.La(n)},vt.La=function(n){try{if(n==this.g)e:{const b=Xl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||_x||this.g&&(this.h.h||this.g.fa()||Wj(this.g)))){this.I||4!=b||7==e||Gv(),FC(this);var t=this.g.aa();this.Y=t;t:if(Tj(this)){var i=Wj(this.g);n="";var r=i.length,s=4==Xl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uf(this),qv(this);var c="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function _Y(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!CC(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Zr(12),uf(this),qv(this);break e}qg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Hx(this,t)}this.P?(Ij(this,b,c),_x&&this.i&&3==b&&(pj(this.S,this.T,"tick",this.hb),this.T.start())):(qg(this.j,this.m,c,null),Hx(this,c)),4==b&&uf(this),this.i&&!this.I&&(4==b?eH(this.l,this):(this.i=!1,Kv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),uf(this),qv(this)}}}catch{}},vt.hb=function(){if(this.g){var n=Xl(this.g),e=this.g.fa();this.C<e.length&&(FC(this),Ij(this,n,e),this.i&&4!=n&&Kv(this))}},vt.cancel=function(){this.I=!0,uf(this)},vt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function yY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gv(),Zr(17)),uf(this),this.o=2,qv(this)):Sj(this,this.V-n)};var Nj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function df(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof df){this.h=void 0!==e?e:n.h,LC(this,n.j),this.s=n.s,this.g=n.g,VC(this,n.m),this.l=n.l,e=n.i;var t=new Qv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Mj(this,t),this.o=n.o}else n&&(t=String(n).match(Nj))?(this.h=!!e,LC(this,t[1]||"",!0),this.s=Yv(t[2]||""),this.g=Yv(t[3]||"",!0),VC(this,t[4]),this.l=Yv(t[5]||"",!0),Mj(this,t[6]||"",!0),this.o=Yv(t[7]||"")):(this.h=!!e,this.i=new Qv(null,this.h))}function Jl(n){return new df(n)}function LC(n,e,t){n.j=t?Yv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function VC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Mj(n,e,t){e instanceof Qv?(n.i=e,function MY(n,e){e&&!n.j&&(Nu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(xj(this,i),kj(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Zv(e,AY)),n.i=new Qv(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function BC(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Yv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,TY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}df.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zv(e,Oj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zv(e,Oj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zv(t,"/"==t.charAt(0)?SY:IY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zv(t,NY)),n.join("")};var Oj=/[#\/\?@]/g,IY=/[#\?:]/g,SY=/[#\?]/g,AY=/[#\?@]/g,NY=/#/g;function Qv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Nu(n){n.g||(n.g=new Map,n.h=0,n.i&&function CY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function xj(n,e){Nu(n),e=Yg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Rj(n,e){return Nu(n),e=Yg(n,e),n.g.has(e)}function kj(n,e,t){xj(n,e),0<t.length&&(n.i=null,n.g.set(Yg(n,e),px(t)),n.h+=t.length)}function Yg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Pj(n){this.l=n||xY,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ga&&Ut.g.Ga()&&Ut.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vt=Qv.prototype).add=function(n,e){Nu(this),this.i=null,n=Yg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},vt.forEach=function(n,e){Nu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},vt.oa=function(){Nu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},vt.W=function(n){Nu(this);let e=[];if("string"==typeof n)Rj(this,n)&&(e=e.concat(this.g.get(Yg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},vt.set=function(n,e){return Nu(this),this.i=null,Rj(this,n=Yg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},vt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var xY=10;function Fj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Lj(n){return n.h?1:n.g?n.g.size:0}function Gx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $x(n,e){n.g?n.g.add(e):n.h=e}function Vj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Bj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return px(n.i)}function zx(){}function RY(){this.g=new zx}function kY(n,e,t){const i=t||"";try{Aj(n,function(r,s){let c=r;Bv(r)&&(c=Ox(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function UC(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Jv(n){this.l=n.ac||null,this.j=n.jb||!1}function jC(n,e){Zi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Wx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pj.prototype.cancel=function(){if(this.i=Bj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},zx.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},zx.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},pr(Jv,Fx),Jv.prototype.g=function(){return new jC(this.l,this.j)},Jv.prototype.i=function(n){return function(){return n}}({}),pr(jC,Zi);var Wx=0;function Uj(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Xv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,e0(n)}function e0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(vt=jC.prototype).open=function(n,e){if(this.readyState!=Wx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,e0(this)},vt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ut).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xv(this)),this.readyState=Wx},vt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,e0(this)),this.g&&(this.readyState=3,e0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uj(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},vt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xv(this):e0(this),3==this.readyState&&Uj(this)}},vt.Va=function(n){this.g&&(this.response=this.responseText=n,Xv(this))},vt.Ua=function(n){this.g&&(this.response=n,Xv(this))},vt.ga=function(){this.g&&Xv(this)},vt.setRequestHeader=function(n,e){this.v.append(n,e)},vt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var FY=Ut.JSON.parse;function pi(n){Zi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jj,this.K=this.L=!1}pr(pi,Zi);var jj="",LY=/^https?$/i,VY=["POST","PUT"];function Hj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Gj(n),HC(n)}function Gj(n){n.D||(n.D=!0,gr(n,"complete"),gr(n,"error"))}function $j(n){if(n.h&&typeof hx<"u"&&(!n.C[1]||4!=Xl(n)||2!=n.aa()))if(n.v&&4==Xl(n))Px(n.Ha,0,n);else if(gr(n,"readystatechange"),4==Xl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(Nj)[1]||null;if(!r&&Ut.self&&Ut.self.location){var s=Ut.self.location.protocol;r=s.substr(0,s.length-1)}i=!LY.test(r?r.toLowerCase():"")}t=i}if(t)gr(n,"complete"),gr(n,"success");else{n.m=6;try{var c=2<Xl(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",Gj(n)}}finally{HC(n)}}}function HC(n,e){if(n.g){zj(n);const t=n.g,i=n.C[0]?wC:null;n.g=null,n.C=null,e||gr(n,"ready");try{t.onreadystatechange=i}catch{}}}function zj(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Xl(n){return n.g?n.g.readyState:0}function Wj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Kj(n){let e="";return Ex(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Kx(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Kj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function t0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function qj(n){this.Ca=0,this.i=[],this.j=new OC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=t0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=t0("baseRetryDelayMs",5e3,n),this.bb=t0("retryDelaySeedMs",1e4,n),this.$a=t0("forwardChannelMaxRetries",2,n),this.ta=t0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Pj(n&&n.concurrentRequestLimit),this.Fa=new RY,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function qx(n){if(Yj(n),3==n.G){var e=n.U++,t=Jl(n.F);Zn(t,"SID",n.I),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),n0(n,t),(e=new Wv(n,n.j,e,void 0)).K=2,e.v=BC(Jl(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=rH(e.l,null),e.g.da(e.v)),e.F=Date.now(),Kv(e)}nH(n)}function GC(n){n.g&&(Zx(n),n.g.cancel(),n.g=null)}function Yj(n){GC(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),zC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function $C(n){Fj(n.h)||n.m||(n.m=!0,uj(n.Ja,n),n.C=0)}function Zj(n,e){var t;t=e?e.m:n.U++;const i=Jl(n.F);Zn(i,"SID",n.I),Zn(i,"RID",t),Zn(i,"AID",n.T),n0(n,i),n.o&&n.s&&Kx(i,n.o,n.s),t=new Wv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Qj(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),$x(n.h,t),jx(t,i,e)}function n0(n,e){n.ia&&Ex(n.ia,function(t,i){Zn(e,i,t)}),n.l&&Aj({},function(t,i){Zn(e,i,t)})}function Qj(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Ir(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),h=!1;else try{kY(b,c,"req"+_+"_")}catch{i&&i(b)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Jj(n){n.g||n.u||(n.Z=1,uj(n.Ia,n),n.A=0)}function Yx(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=$v(Ir(n.Ia,n),tH(n,n.A)),n.A++,0))}function Zx(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function Xj(n){n.g=new Wv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Jl(n.sa);Zn(e,"RID","rpc"),Zn(e,"SID",n.I),Zn(e,"CI",n.L?"0":"1"),Zn(e,"AID",n.T),Zn(e,"TYPE","xmlhttp"),n0(n,e),n.o&&n.s&&Kx(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=BC(Jl(e)),t.s=null,t.P=!0,Cj(t,n)}function zC(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function eH(n,e){var t=null;if(n.g==e){zC(n),Zx(n),n.g=null;var i=2}else{if(!Gx(n.h,e))return;t=e.D,Vj(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;gr(i=xC(),new vj(i,t)),$C(n)}else Jj(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function UY(n,e){return!(Lj(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=$v(Ir(n.Ja,n,e),tH(n,n.C)),n.C++,0)))}(n,e)||2==i&&Yx(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:hf(n,5);break;case 4:hf(n,10);break;case 3:hf(n,6);break;default:hf(n,2)}}function tH(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function hf(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Ir(n.kb,n);t||(t=new df("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||LC(t,"https"),BC(t)),function PY(n,e){const t=new OC;if(Ut.Image){const i=new Image;i.onload=DC(UC,t,i,"TestLoadImage: loaded",!0,e),i.onerror=DC(UC,t,i,"TestLoadImage: error",!1,e),i.onabort=DC(UC,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=DC(UC,t,i,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Zr(2);n.G=0,n.l&&n.l.va(e),nH(n),Yj(n)}function nH(n){if(n.G=0,n.la=[],n.l){const e=Bj(n.h);(0!=e.length||0!=n.i.length)&&(YU(n.la,e),YU(n.la,n.i),n.h.i.length=0,px(n.i),n.i.length=0),n.l.ua()}}function iH(n,e,t){var i=t instanceof df?Jl(t):new df(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),VC(i,i.m);else{var r=Ut.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new df(null,void 0);i&&LC(s,i),e&&(s.g=e),r&&VC(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Zn(i,t,e),Zn(i,"VER",n.ma),n0(n,i),i}function rH(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Da&&!n.ra?new Jv({jb:!0}):n.ra)).Ka(n.H),e}function sH(){}function WC(){if(Kg&&!(10<=Number(iY)))throw Error("Environmental error: no available transport.")}function js(n,e){Zi.call(this),this.g=new qj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!CC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!CC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zg(this)}function oH(n){Lx.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function aH(){Vx.call(this),this.status=1}function Zg(n){this.g=n}(vt=pi.prototype).Ka=function(n){this.L=n},vt.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bx.g(),this.C=function wj(n){return n.h||(n.h=n.i())}(this.u?this.u:Bx),this.g.onreadystatechange=Ir(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void Hj(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ut.FormData&&n instanceof Ut.FormData,!(0<=qU(VY,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zj(this),0<this.B&&((this.K=function BY(n){return Kg&&function nY(){return function J5(n){var e=tY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ZU(String(IC)).split("."),t=ZU("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=gx(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||gx(0==r[2].length,0==s[2].length)||gx(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ir(this.qa,this)):this.A=Px(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Hj(this,s)}},vt.qa=function(){typeof hx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},vt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gr(this,"complete"),gr(this,"abort"),HC(this))},vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),HC(this,!0)),pi.X.M.call(this)},vt.Ha=function(){this.s||(this.F||this.v||this.l?$j(this):this.fb())},vt.fb=function(){$j(this)},vt.aa=function(){try{return 2<Xl(this)?this.g.status:-1}catch{return-1}},vt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),FY(e)}},vt.Ea=function(){return this.m},vt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=qj.prototype).ma=8,vt.G=1,vt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Wv(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=tj(s),ij(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Qj(this,r,e),Zn(t=Jl(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),n0(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(Kj(s)))+"&"+e:this.o&&Kx(t,this.o,s)),$x(this.h,r),this.Ya&&Zn(t,"TYPE","init"),this.O?(Zn(t,"$req",e),Zn(t,"SID","null"),r.Z=!0,jx(r,t,null)):jx(r,t,e),this.G=2}}else 3==this.G&&(n?Zj(this,n):0==this.i.length||Fj(this.h)||Zj(this))},vt.Ia=function(){if(this.u=null,Xj(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=$v(Ir(this.eb,this),n)}},vt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Zr(10),GC(this),Xj(this))},vt.cb=function(){null!=this.v&&(this.v=null,GC(this),Yx(this),Zr(19))},vt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Zr(2)):(this.j.info("Failed to ping google.com"),Zr(1))},(vt=sH.prototype).xa=function(){},vt.wa=function(){},vt.va=function(){},vt.ua=function(){},vt.Ra=function(){},WC.prototype.g=function(n,e){return new js(n,e)},pr(js,Zi),js.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Zr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=iH(n,null,n.V),$C(n)},js.prototype.close=function(){qx(this.g)},js.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ox(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&$C(e)},js.prototype.M=function(){this.g.l=null,delete this.j,qx(this.g),delete this.g,js.X.M.call(this)},pr(oH,Lx),pr(aH,Vx),pr(Zg,sH),Zg.prototype.xa=function(){gr(this.g,"a")},Zg.prototype.wa=function(n){gr(this.g,new oH(n))},Zg.prototype.va=function(n){gr(this.g,new aH)},Zg.prototype.ua=function(){gr(this.g,"b")},WC.prototype.createWebChannel=WC.prototype.g,js.prototype.send=js.prototype.u,js.prototype.open=js.prototype.m,js.prototype.close=js.prototype.close,RC.NO_ERROR=0,RC.TIMEOUT=8,RC.HTTP_ERROR=6,bj.COMPLETE="complete",Ej.EventType=zv,zv.OPEN="a",zv.CLOSE="b",zv.ERROR="c",zv.MESSAGE="d",Zi.prototype.listen=Zi.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.Oa,pi.prototype.getLastErrorCode=pi.prototype.Ea,pi.prototype.getStatus=pi.prototype.aa,pi.prototype.getResponseJson=pi.prototype.Sa,pi.prototype.getResponseText=pi.prototype.fa,pi.prototype.send=pi.prototype.da,pi.prototype.setWithCredentials=pi.prototype.Ka;var jY=Ql.createWebChannelTransport=function(){return new WC},HY=Ql.getStatEventTarget=function(){return xC()},Qx=Ql.ErrorCode=RC,GY=Ql.EventType=bj,$Y=Ql.Event=cf,lH=Ql.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zY=Ql.FetchXmlHttpFactory=Jv,KC=Ql.WebChannel=Ej,WY=Ql.XhrIo=pi;const cH="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Qg="9.20.0";const Mu=new Us.Yd("@firebase/firestore");function Jx(){return Mu.logLevel}function ke(n,...e){if(Mu.logLevel<=Us.in.DEBUG){const t=e.map(Xx);Mu.debug(`Firestore (${Qg}): ${n}`,...t)}}function Di(n,...e){if(Mu.logLevel<=Us.in.ERROR){const t=e.map(Xx);Mu.error(`Firestore (${Qg}): ${n}`,...t)}}function ec(n,...e){if(Mu.logLevel<=Us.in.WARN){const t=e.map(Xx);Mu.warn(`Firestore (${Qg}): ${n}`,...t)}}function Xx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Qg}) INTERNAL ASSERTION FAILED: `+n;throw Di(e),new Error(e)}function bt(n,e){n||ut()}function Qe(n,e){return n}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class qY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YY{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let c=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ji,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Ne.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ji)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt("string"==typeof i.accessToken),new uH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new Qi(e)}}class ZY{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class QY{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new ZY(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JY{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.T=t.token,new dH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hH{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=XY(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function jt(n,e){return n<e?-1:n>e?1:0}function Jg(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new si(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new si(0,0))}static max(){return new Dt(new si(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class r0{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===r0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof r0?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends r0{construct(e,t,i){return new cn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const e7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends r0{construct(e,t,i){return new Ci(e,t,i)}static isValidIdentifier(e){return e7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Oe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Oe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(cn.fromString(e))}static fromName(e){return new Ze(cn.fromString(e).popFirst(5))}static empty(){return new Ze(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new cn(e.slice()))}}function gH(n){return new Hs(n.readTime,n.key,-1)}class Hs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Hs(Dt.min(),Ze.empty(),-1)}static max(){return new Hs(Dt.max(),Ze.empty(),-1)}}function tR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const mH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ou(n){return nR.apply(this,arguments)}function nR(){return nR=(0,Ne.Z)(function*(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==mH)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),nR.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(r=>r?ne.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,r)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const _=p;t(e[_]).next(b=>{c[_]=b,++h,h===s&&i(c)},b=>r(b))}})}static doWhile(e,t){return new ne((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function xu(n){return"IndexedDbTransactionError"===n.name}let Gs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function a0(n){return null==n}function l0(n){return 0===n&&1/n==-1/0}function TH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gi{constructor(e,t){this.comparator=e,this.root=t||mr.EMPTY}insert(e,t){return new gi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new JC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new JC(this.root,e,this.comparator,!1)}getReverseIterator(){return new JC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new JC(this.root,e,this.comparator,!0)}}class JC{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??mr.RED,this.left=r??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new mr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return mr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1,mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new mr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new gi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SH(this.data.getIterator())}getIteratorFrom(e){return new SH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class SH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new fs([])}unionWith(e){let t=new Sn(Ci.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jg(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class I7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new I7("Invalid base64 string: "+r):r}}(e);return new Hi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const S7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(bt(!!n),"string"==typeof n){let e=0;const t=S7.exec(n);if(bt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mi(n.seconds),nanos:mi(n.nanos)}}function mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function mf(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function c0(n){const e=Ru(n.mapValue.fields.__local_write_time__.timestampValue);return new si(e.seconds,e.nanos)}class A7{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class _f{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _f("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _f&&e.projectId===this.projectId&&e.database===this.database}}const ku_mapValue={fields:{__type__:{stringValue:"__max__"}}};function yf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?function sR(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(n)?4:xH(n)?9007199254740991:10:ut()}function Ra(n,e){if(n===e)return!0;const t=yf(n);if(t!==yf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return c0(n).isEqual(c0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ru(i.timestampValue),c=Ru(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,mf(n.bytesValue).isEqual(mf(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return mi(i.geoPointValue.latitude)===mi(r.geoPointValue.latitude)&&mi(i.geoPointValue.longitude)===mi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return mi(i.integerValue)===mi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=mi(i.doubleValue),c=mi(r.doubleValue);return s===c?l0(s)===l0(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Jg(n.arrayValue.values||[],e.arrayValue.values||[],Ra);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(TH(s)!==TH(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!Ra(s[h],c[h])))return!1;return!0}(n,e);default:return ut()}var r}function u0(n,e){return void 0!==(n.values||[]).find(t=>Ra(t,e))}function Pu(n,e){if(n===e)return 0;const t=yf(n),i=yf(e);if(t!==i)return jt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=mi(r.integerValue||r.doubleValue),h=mi(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return NH(n.timestampValue,e.timestampValue);case 4:return NH(c0(n),c0(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=mf(r),h=mf(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const _=jt(c[p],h[p]);if(0!==_)return _}return jt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=jt(mi(r.latitude),mi(s.latitude));return 0!==c?c:jt(mi(r.longitude),mi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const _=Pu(c[p],h[p]);if(_)return _}return jt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===ku_mapValue&&s===ku_mapValue)return 0;if(r===ku_mapValue)return 1;if(s===ku_mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},_=Object.keys(p);h.sort(),_.sort();for(let b=0;b<h.length&&b<_.length;++b){const C=jt(h[b],_[b]);if(0!==C)return C;const N=Pu(c[h[b]],p[_[b]]);if(0!==N)return N}return jt(h.length,_.length)}(n.mapValue,e.mapValue);default:throw ut()}}function NH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Ru(n),i=Ru(e),r=jt(t.seconds,i.seconds);return 0!==r?r:jt(t.nanos,i.nanos)}function em(n){return oR(n)}function oR(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ru(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?mf(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=oR(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${oR(i.fields[h])}`;return s+"}"}(n.mapValue):ut();var e}function aR(n){return!!n&&"integerValue"in n}function d0(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"mapValue"in n}function h0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=h0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=h0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function xH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!eT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=h0(t)}setAll(e){let t=Ci.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=h0(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());eT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ra(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];eT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){gf(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Xi(h0(this.value))}}function PH(n){const e=[];return gf(n.fields,(t,i)=>{const r=new Ci([t]);if(eT(i)){const s=PH(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new fs(e)}class Hn{constructor(e,t,i,r,s,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Hn(e,0,Dt.min(),Dt.min(),Dt.min(),Xi.empty(),0)}static newFoundDocument(e,t,i,r){return new Hn(e,1,t,Dt.min(),i,r,0)}static newNoDocument(e,t){return new Hn(e,2,t,Dt.min(),Dt.min(),Xi.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,Dt.min(),Dt.min(),Xi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fu{constructor(e,t){this.position=e,this.inclusive=t}}function FH(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):Pu(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function LH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ra(n.position[t],e.position[t]))return!1;return!0}class tm{constructor(e,t="asc"){this.field=e,this.dir=t}}function O7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class VH{}class rn extends VH{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new x7(e,t,i):"array-contains"===t?new P7(e,i):"in"===t?new $H(e,i):"not-in"===t?new F7(e,i):"array-contains-any"===t?new L7(e,i):new rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new R7(e,i):new k7(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pu(t,this.value)):null!==t&&yf(this.value)===yf(t)&&this.matchesComparison(Pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends VH{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new wn(e,t)}matches(e){return nm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function nm(n){return"and"===n.op}function cR(n){return function BH(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}(n)&&nm(n)}function uR(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+em(n.value);if(cR(n))return n.filters.map(e=>uR(e)).join(",");{const e=n.filters.map(t=>uR(t)).join(",");return`${n.op}(${e})`}}function UH(n,e){return n instanceof rn?(t=n,(i=e)instanceof rn&&t.op===i.op&&t.field.isEqual(i.field)&&Ra(t.value,i.value)):n instanceof wn?function(t,i){return i instanceof wn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,c)=>r&&UH(s,i.filters[c]),!0)}(n,e):void ut();var t,i}function HH(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${em(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(HH).join(" ,")+"}"}(n):"Filter";var e}class x7 extends rn{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class R7 extends rn{constructor(e,t){super(e,"in",t),this.keys=GH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k7 extends rn{constructor(e,t){super(e,"not-in",t),this.keys=GH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class P7 extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return d0(t)&&u0(t.arrayValue,this.value)}}class $H extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&u0(this.value.arrayValue,t)}}class F7 extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(u0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!u0(this.value.arrayValue,t)}}class L7 extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!d0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>u0(this.value.arrayValue,i))}}class V7{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.ft=null}}function dR(n,e=null,t=[],i=[],r=null,s=null,c=null){return new V7(n,e,t,i,r,s,c)}function bf(n){const e=Qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>uR(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),a0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>em(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>em(i)).join(",")),e.ft=t}return e.ft}function f0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!O7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!UH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LH(n.startAt,e.startAt)&&LH(n.endAt,e.endAt)}class tc{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.dt=null,this.wt=null}}function qH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wf(n){const e=Qe(n);if(null===e.dt){e.dt=[];const t=function iT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),i=function hR(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new tm(t)),e.dt.push(new tm(Ci.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new tm(Ci.keyField(),s))}}}return e.dt}function Jr(n){const e=Qe(n);if(!e.wt)if("F"===e.limitType)e.wt=dR(e.path,e.collectionGroup,wf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of wf(e))t.push(new tm(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Fu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fu(e.startAt.position,e.startAt.inclusive):null;e.wt=dR(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function rT(n,e,t){return new tc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function p0(n,e){return f0(Jr(n),Jr(e))&&n.limitType===e.limitType}function YH(n){return`${bf(Jr(n))}|lt:${n.limitType}`}function gR(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>HH(i)).join(", ")}]`),a0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>em(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>em(i)).join(",")),`Target(${t})`}(Jr(n))}; limitType=${n.limitType})`}function g0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of wf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=FH(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,wf(t),i)||t.endAt&&!function(r,s,c){const h=FH(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,wf(t),i)));var t,i}function B7(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Pu(h,p):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}class Lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return IH(this.inner)}size(){return this.innerSize}}const U7=new gi(Ze.comparator);function ps(){return U7}const JH=new gi(Ze.comparator);function m0(...n){let e=JH;for(const t of n)e=e.insert(t.key,t);return e}function XH(n){let e=JH;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ka(){return _0()}function eG(){return _0()}function _0(){return new Lu(n=>n.toString(),(n,e)=>n.isEqual(e))}const j7=new gi(Ze.comparator),H7=new Sn(Ze.comparator);function zt(...n){let e=H7;for(const t of n)e=e.add(t);return e}const G7=new Sn(jt);function tG(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l0(e)?"-0":e}}function nG(n){return{integerValue:""+n}}function iG(n,e){return function yH(n){return"number"==typeof n&&Number.isInteger(n)&&!l0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?nG(e):tG(n,e)}class oT{constructor(){this._=void 0}}function $7(n,e,t){return n instanceof rm?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Ef?sG(n,e):n instanceof Df?oG(n,e):function(i,r){const s=rG(i,r),c=aG(s)+aG(i._t);return aR(s)&&aR(i._t)?nG(c):tG(i.serializer,c)}(n,e)}function z7(n,e,t){return n instanceof Ef?sG(n,e):n instanceof Df?oG(n,e):t}function rG(n,e){return n instanceof sm?aR(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class rm extends oT{}class Ef extends oT{constructor(e){super(),this.elements=e}}function sG(n,e){const t=lG(e);for(const i of n.elements)t.some(r=>Ra(r,i))||t.push(i);return{arrayValue:{values:t}}}class Df extends oT{constructor(e){super(),this.elements=e}}function oG(n,e){let t=lG(e);for(const i of n.elements)t=t.filter(r=>!Ra(r,i));return{arrayValue:{values:t}}}class sm extends oT{constructor(e,t){super(),this.serializer=e,this._t=t}}function aG(n){return mi(n.integerValue||n.doubleValue)}function lG(n){return d0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class K7{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class lT{}function cG(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new am(n.key,Qn.none()):new om(n.key,n.data,Qn.none());{const t=n.data,i=Xi.empty();let r=new Sn(Ci.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new nc(n.key,i,new fs(r.toArray()),Qn.none())}}function q7(n,e,t){n instanceof om?function(i,r,s){const c=i.value.clone(),h=hG(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof nc?function(i,r,s){if(!aT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=hG(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(dG(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function v0(n,e,t,i){return n instanceof om?function(r,s,c,h){if(!aT(r.precondition,s))return c;const p=r.value.clone(),_=fG(r.fieldTransforms,h,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof nc?function(r,s,c,h){if(!aT(r.precondition,s))return c;const p=fG(r.fieldTransforms,h,s),_=s.data;return _.setAll(dG(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(c=t,aT(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function Y7(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=rG(i.transform,r||null);null!=s&&(null===t&&(t=Xi.empty()),t.set(i.field,s))}return t||null}function uG(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Jg(t,i,(r,s)=>function W7(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ef&&i instanceof Ef||t instanceof Df&&i instanceof Df?Jg(t.elements,i.elements,Ra):t instanceof sm&&i instanceof sm?Ra(t._t,i._t):t instanceof rm&&i instanceof rm);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class om extends lT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nc extends lT{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dG(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function hG(n,e,t){const i=new Map;bt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,z7(c,h,t[r]))}return i}function fG(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,$7(s,c,e))}return i}class am extends lT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends lT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _R{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&q7(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=v0(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=v0(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=eG();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(r.key)?null:h;const p=cG(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zt())}isEqual(e){return this.batchId===e.batchId&&Jg(this.mutations,e.mutations,(t,i)=>uG(t,i))&&Jg(this.baseMutations,e.baseMutations,(t,i)=>uG(t,i))}}class yR{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){bt(e.mutations.length===i.length);let r=j7;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new yR(e,t,i,r)}}class vR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var ki,un;function pG(n){switch(n){default:return ut();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}(un=ki||(ki={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class iZ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wG(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rZ(n,e){return lm(n,e.toTimestamp())}function Ti(n){return bt(!!n),Dt.fromTimestamp(function(e){const t=Ru(e);return new si(t.seconds,t.nanos)}(n))}function ER(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function E0(n,e){return ER(n.databaseId,e.path)}function DG(n){const e=function EG(n){const e=cn.fromString(n);return bt(function OG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}(e)),e}(n);return 4===e.length?cn.emptyPath():function CG(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}(e)}function TG(n,e,t){return{name:E0(n,e),fields:t.value.mapValue.fields}}function AG(n){let e=DG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){bt(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const C=NG(b);return C instanceof wn&&cR(C)?C.getFilters():[C]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(b=>{return new tm(cm((C=b).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let h=null;t.limit&&(h=function(b){let C;return C="object"==typeof b?b.value:b,a0(C)?null:C}(t.limit));let p=null;var b;t.startAt&&(p=new Fu((b=t.startAt).values||[],!!b.before));let _=null;return t.endAt&&(_=function(b){return new Fu(b.values||[],!b.before)}(t.endAt)),function KH(n,e,t,i,r,s,c,h){return new tc(n,e,t,i,r,s,c,h)}(e,r,c,s,h,"F",p,_)}function NG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cm(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=cm(e.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cm(e.unaryFilter.field);return rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=cm(e.unaryFilter.field);return rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?rn.create(cm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>NG(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function cm(n){return Ci.fromServerFormat(n.fieldPath)}function hZ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}class xG{constructor(e){this.se=e}}function IR(n){const e=AG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rT(e,e.limit,"L"):e}class Sf{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(mi(e.integerValue));else if("doubleValue"in e){const i=mi(e.doubleValue);isNaN(i)?this.ae(t,13):(this.ae(t,15),l0(i)?t.he(0):t.he(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ae(t,20),"string"==typeof i?t.le(i):(t.le(`${i.seconds||""}`),t.he(i.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(mf(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?xH(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ut()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const i=e.fields||{};this.ae(t,55);for(const r of Object.keys(i))this.fe(r,t),this.ue(i[r],t)}ge(e,t){const i=e.values||[];this.ae(t,50);for(const r of i)this.ue(r,t)}_e(e,t){this.ae(t,37),Ze.fromName(e).path.forEach(i=>{this.ae(t,60),this.ye(i,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}Sf.pe=new Sf;class wZ{constructor(){this.He=new xR}addToCollectionParentIndex(e,t){return this.He.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Hs.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class xR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Sn(cn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Sn(cn.comparator)).toArray()}}new Uint8Array(0);class gs{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new gs(e,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);class Nf{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Nf(0)}static bn(){return new Nf(-1)}}class OZ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class n${constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&v0(i.mutation,r,fs.empty(),si.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=zt()){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=m0();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let s=ps();const c=_0(),h=_0();return t.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof nc)?s=s.insert(_.key,_):void 0!==b?(c.set(_.key,b.mutation.getFieldMask()),v0(b.mutation,_,b.mutation.getFieldMask(),si.now())):c.set(_.key,fs.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),t.forEach((_,b)=>{var C;return h.set(_,new OZ(b,null!==(C=c.get(_))&&void 0!==C?C:null))}),h))}recalculateAndSaveOverlays(e,t){const i=_0();let r=new gi((c,h)=>c-h),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const _=t.get(p);if(null===_)return;let b=i.get(p)||fs.empty();b=h.applyToLocalView(_,b),i.set(p,b);const C=(r.get(h.batchId)||zt()).add(p);r=r.insert(h.batchId,C)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,b=p.value,C=eG();b.forEach(N=>{if(!s.has(N)){const x=cG(t.get(N),i.get(N));null!==x&&C.set(N,x),s=s.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,C))}return ne.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function fR(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ne.resolve(ka());let h=-1,p=s;return c.next(_=>ne.forEach(_,(b,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),s.get(b)?ne.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{p=p.insert(b,N)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,p,_,zt())).next(b=>({batchId:h,changes:XH(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=m0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=m0();return this.indexManager.getCollectionParents(e,r).next(c=>ne.forEach(c,h=>{const p=(_=t,b=h.child(r),new tc(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(_=>{_.forEach((b,C)=>{s=s.insert(b,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,p)=>{const _=p.getKey();null===s.get(_)&&(s=s.insert(_,Hn.newInvalidDocument(_)))});let c=m0();return s.forEach((h,p)=>{const _=r.get(h);void 0!==_&&v0(_.mutation,p,fs.empty(),si.now()),g0(t,p)&&(c=c.insert(h,p))}),c})}}class xZ{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ne.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ti(i.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(i=t).name,query:IR(i.bundledQuery),readTime:Ti(i.readTime)}),ne.resolve();var i}}class RZ{constructor(){this.overlays=new gi(Ze.comparator),this.ts=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ka();return ne.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.re(e,t,s)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ts.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const r=ka(),s=t.length+1,c=new Ze(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ne.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new gi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=ka(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const h=ka(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>h.set(_,b)),!(h.size()>=r)););return ne.resolve(h)}re(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ts.get(r.largestBatchId).delete(i.key);this.ts.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new vR(t,i));let s=this.ts.get(t);void 0===s&&(s=zt(),this.ts.set(t,s)),this.ts.set(t,s.add(i.key))}}class RR{constructor(){this.es=new Sn(er.ns),this.ss=new Sn(er.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const i=new er(e,t);this.es=this.es.add(i),this.ss=this.ss.add(i)}os(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.us(new er(e,t))}cs(e,t){e.forEach(i=>this.removeReference(i,t))}hs(e){const t=new Ze(new cn([])),i=new er(t,e),r=new er(t,e+1),s=[];return this.ss.forEachInRange([i,r],c=>{this.us(c),s.push(c.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ze(new cn([])),i=new er(t,e),r=new er(t,e+1);let s=zt();return this.ss.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new er(e,0),i=this.es.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class er{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ze.comparator(e.key,t.key)||jt(e.ds,t.ds)}static rs(e,t){return jt(e.ds,t.ds)||Ze.comparator(e.key,t.key)}}class kZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Sn(er.ns)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const c=new _R(s,t,i,r);this.mutationQueue.push(c);for(const h of r)this._s=this._s.add(new er(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ys(t+1),s=r<0?0:r;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new er(t,0),r=new er(t,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([i,r],c=>{const h=this.gs(c.ds);s.push(h)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Sn(jt);return t.forEach(r=>{const s=new er(r,0),c=new er(r,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,c],h=>{i=i.add(h.ds)})}),ne.resolve(this.ps(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ze.isDocumentKey(s)||(s=s.child(""));const c=new er(new Ze(s),0);let h=new Sn(jt);return this._s.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(h=h.add(p.ds)),!0)},c),ne.resolve(this.ps(h))}ps(e){const t=[];return e.forEach(i=>{const r=this.gs(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){bt(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let i=this._s;return ne.forEach(t.mutations,r=>{const s=new er(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this._s=i})}En(e){}containsKey(e,t){const i=new er(t,0),r=this._s.firstAfterOrEqual(i);return ne.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ne.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PZ{constructor(e){this.Ts=e,this.docs=new gi(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let i=ps();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Hn.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=ps();const c=t.path,h=new Ze(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:b}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||tR(gH(b),i)<=0||(r.has(b.key)||g0(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ut()}Es(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new FZ(this)}getSize(e){return ne.resolve(this.size)}}class FZ extends class AZ{constructor(){this.changes=new Lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Jn.addEntry(e,r)):this.Jn.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class LZ{constructor(e){this.persistence=e,this.As=new Lu(t=>bf(t),f0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new RR,this.targetCount=0,this.bs=Nf.vn()}forEachTarget(e,t){return this.As.forEach((i,r)=>t(r)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Rs&&(this.Rs=t),ne.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Nf(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Sn(t),ne.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.As.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.As.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ne.waitFor(s).next(()=>r)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.As.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.vs.os(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.vs.cs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.vs.fs(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.vs.containsKey(t))}}class i${constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Gs(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new LZ(this),this.indexManager=new wZ,this.remoteDocumentCache=new PZ(i=>this.referenceDelegate.Cs(i)),this.serializer=new xG(t),this.xs=new xZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RZ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ps[e.toKey()];return i||(i=new kZ(t,this.referenceDelegate),this.Ps[e.toKey()]=i),i}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const r=new VZ(this.Vs.next());return this.referenceDelegate.Ns(),i(r).next(s=>this.referenceDelegate.ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(e,t){return ne.or(Object.values(this.Ps).map(i=>()=>i.containsKey(e,t)))}}class VZ extends class i7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class vT{constructor(e){this.persistence=e,this.$s=new RR,this.Ms=null}static Fs(e){return new vT(e)}get Bs(){if(this.Ms)return this.Ms;throw ut()}addReference(e,t,i){return this.$s.addReference(i,t),this.Bs.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.$s.removeReference(i,t),this.Bs.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ne.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(r=>this.Bs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Bs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Bs,i=>{const r=Ze.fromPath(i);return this.Ls(e,r).next(s=>{s||t.removeEntry(r,Dt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(i=>{i?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ne.or([()=>ne.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class LR{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Vi=i,this.Si=r}static Di(e,t){let i=zt(),r=zt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new LR(e,t.fromCache,i,r)}}class s${constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ni(e,t).next(s=>s||this.ki(e,t,r,i)).next(s=>s||this.Oi(e,t))}Ni(e,t){if(qH(t))return ne.resolve(null);let i=Jr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=rT(t,null,"F"),i=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=zt(...s);return this.xi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.$i(t,h);return this.Mi(t,_,c,p.readTime)?this.Ni(e,rT(t,null,"F")):this.Fi(e,_,t,p)}))})))}ki(e,t,i,r){return qH(t)||r.isEqual(Dt.min())?this.Oi(e,t):this.xi.getDocuments(e,i).next(s=>{const c=this.$i(t,s);return this.Mi(t,c,i,r)?this.Oi(e,t):(Jx()<=Us.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gR(t)),this.Fi(e,c,t,function pH(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new si(t+1,0):new si(t,i));return new Hs(r,Ze.empty(),e)}(r,-1)))})}$i(e,t){let i=new Sn(function QH(n){return(e,t)=>{let i=!1;for(const r of wf(n)){const s=B7(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}(e));return t.forEach((r,s)=>{g0(e,s)&&(i=i.add(s))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(e,t){return Jx()<=Us.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",gR(t)),this.xi.getDocumentsMatchingQuery(e,t,Hs.min())}Fi(e,t,i,r){return this.xi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class UZ{constructor(e,t,i,r){this.persistence=e,this.Bi=t,this.serializer=r,this.Li=new gi(jt),this.qi=new Lu(s=>bf(s),f0),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(i)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n$(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function a$(n,e){return VR.apply(this,arguments)}function VR(){return VR=(0,Ne.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Gi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=zt();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){h.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Qi:_,removedBatchIds:c,addedBatchIds:h}))})})}),VR.apply(this,arguments)}function jZ(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ki.newChangeBuffer({trackRemovals:!0});return function(c,h,p,_){const b=p.batch,C=b.keys();let N=ne.resolve();return C.forEach(x=>{N=N.next(()=>_.getEntry(h,x)).next(V=>{const j=p.docVersions.get(x);bt(null!==j),V.version.compareTo(j)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),_.addEntry(V)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(h,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=zt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function l$(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function GZ(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}class $R{constructor(){this.activeTargetIds=function sT(){return G7}()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g${constructor(){this.Br=new $R,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,i){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new $R,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WZ{qr(e){}shutdown(){}}class m${constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CT=null;function WR(){return null===CT?CT=268435456+Math.round(2147483648*Math.random()):CT++,"0x"+CT.toString(16)}const KZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qZ{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Ar="WebChannelConnection";class YZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,i,r,s){const c=WR(),h=this.ao(e,t);ke("RestConnection",`Sending RPC '${e}' ${c}:`,h,i);const p={};return this.ho(p,r,s),this.lo(e,h,p,i).then(_=>(ke("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw ec("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",i),_})}fo(e,t,i,r,s,c){return this.co(e,t,i,r,s)}ho(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ao(e,t){return`${this.ro}/v1/${t}:${KZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,i,r){const s=WR();return new Promise((c,h)=>{const p=new WY;p.setWithCredentials(!0),p.listenOnce(GY.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qx.NO_ERROR:const b=p.getResponseJson();ke(Ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),c(b);break;case Qx.TIMEOUT:ke(Ar,`RPC '${e}' ${s} timed out`),h(new Oe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Qx.HTTP_ERROR:const C=p.getStatus();if(ke(Ar,`RPC '${e}' ${s} failed with status:`,C,"response text:",p.getResponseText()),C>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const x=N?.error;if(x&&x.status&&x.message){const V=function(j){const J=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(J)>=0?J:se.UNKNOWN}(x.status);h(new Oe(V,x.message))}else h(new Oe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Oe(se.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{ke(Ar,`RPC '${e}' ${s} completed.`)}});const _=JSON.stringify(r);ke(Ar,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",_,i,15)})}wo(e,t,i){const r=WR(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jY(),h=HY(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new zY({})),this.ho(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=s.join("");ke(Ar,`Creating RPC '${e}' stream ${r}: ${_}`,p);const b=c.createWebChannel(_,p);let C=!1,N=!1;const x=new qZ({Wr:j=>{N?ke(Ar,`Not sending because RPC '${e}' stream ${r} is closed:`,j):(C||(ke(Ar,`Opening RPC '${e}' stream ${r} transport.`),b.open(),C=!0),ke(Ar,`RPC '${e}' stream ${r} sending:`,j),b.send(j))},Hr:()=>b.close()}),V=(j,J,le)=>{j.listen(J,we=>{try{le(we)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return V(b,KC.EventType.OPEN,()=>{N||ke(Ar,`RPC '${e}' stream ${r} transport opened.`)}),V(b,KC.EventType.CLOSE,()=>{N||(N=!0,ke(Ar,`RPC '${e}' stream ${r} transport closed`),x.so())}),V(b,KC.EventType.ERROR,j=>{N||(N=!0,ec(Ar,`RPC '${e}' stream ${r} transport errored:`,j),x.so(new Oe(se.UNAVAILABLE,"The operation could not be completed")))}),V(b,KC.EventType.MESSAGE,j=>{var J;if(!N){const le=j.data[0];bt(!!le);const we=le,Fe=we.error||(null===(J=we[0])||void 0===J?void 0:J.error);if(Fe){ke(Ar,`RPC '${e}' stream ${r} received error:`,Fe);const Be=Fe.status;let Je=function(Ct){const Pt=ki[Ct];if(void 0!==Pt)return function gG(n){if(void 0===n)return Di("GRPC error has no .code"),se.UNKNOWN;switch(n){case ki.OK:return se.OK;case ki.CANCELLED:return se.CANCELLED;case ki.UNKNOWN:return se.UNKNOWN;case ki.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case ki.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case ki.INTERNAL:return se.INTERNAL;case ki.UNAVAILABLE:return se.UNAVAILABLE;case ki.UNAUTHENTICATED:return se.UNAUTHENTICATED;case ki.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case ki.NOT_FOUND:return se.NOT_FOUND;case ki.ALREADY_EXISTS:return se.ALREADY_EXISTS;case ki.PERMISSION_DENIED:return se.PERMISSION_DENIED;case ki.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case ki.ABORTED:return se.ABORTED;case ki.OUT_OF_RANGE:return se.OUT_OF_RANGE;case ki.UNIMPLEMENTED:return se.UNIMPLEMENTED;case ki.DATA_LOSS:return se.DATA_LOSS;default:return ut()}}(Pt)}(Be),Xe=Fe.message;void 0===Je&&(Je=se.INTERNAL,Xe="Unknown error status: "+Be+" with message "+Fe.message),N=!0,x.so(new Oe(Je,Xe)),b.close()}else ke(Ar,`RPC '${e}' stream ${r} received:`,le),x.io(le)}}),V(h,$Y.STAT_EVENT,j=>{j.stat===lH.PROXY?ke(Ar,`RPC '${e}' stream ${r} detected buffering proxy`):j.stat===lH.NOPROXY&&ke(Ar,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.no()},0),x}}function TT(){return typeof document<"u"?document:null}function R0(n){return new iZ(n,!0)}class KR{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ws=e,this.timerId=t,this._o=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,t-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class JZ extends class ZZ{constructor(e,t,i,r,s,c,h,p){this.Ws=e,this.bo=i,this.Po=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new KR(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,Ne.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,Ne.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var i=this;return(0,Ne.Z)(function*(){i.Bo(),i.Lo(),i.Co.cancel(),i.Vo++,4!==e?i.Co.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),i.Co.Eo()):t&&t.code===se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===t&&this.Ko(i,r)},i=>{e(()=>{const r=new Oe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Go(r)})})}Ko(e,t){const i=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{i(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(r=>{i(()=>this.Go(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}ko(){var e=this;this.state=5,this.Co.Ao((0,Ne.Z)(function*(){e.state=0,e.start()}))}Go(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function aZ(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(i,r){let s=Ti(i.updateTime?i.updateTime:r);return s.isEqual(Dt.min())&&(s=Ti(r)),new K7(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ti(e.commitTime);return this.listener.Zo(i,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=function D0(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function C0(n,e){let t;if(e instanceof om)t={update:TG(n,e.key,e.value)};else if(e instanceof am)t={delete:E0(n,e.key)};else if(e instanceof nc)t={update:TG(n,e.key,e.data),updateMask:hZ(e.fieldMask)};else{if(!(e instanceof mR))return ut();t={verify:E0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof rm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ef)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Df)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sm)return{fieldPath:s.field.canonicalString(),increment:c._t};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:rZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}(this.serializer,i))};this.Fo(t)}}class XZ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.eu=!1}nu(){if(this.eu)throw new Oe(se.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(se.UNKNOWN,r.toString())})}fo(e,t,i,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.fo(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(se.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class t9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Di(t),this.ru=!1):ke("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class n9{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(h=>{i.enqueueAndForget((0,Ne.Z)(function*(){var p;Gu(c)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ne.Z)(function*(_){const b=Qe(_);b.du.add(4),yield pm(b),b.mu.set("Unknown"),b.du.delete(4),yield k0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.mu=new t9(i,r)}}function k0(n){return YR.apply(this,arguments)}function YR(){return YR=(0,Ne.Z)(function*(n){if(Gu(n))for(const e of n.wu)yield e(!0)}),YR.apply(this,arguments)}function pm(n){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Ne.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ZR.apply(this,arguments)}function Gu(n){return 0===Qe(n).du.size}function ST(n,e,t){return ik.apply(this,arguments)}function ik(){return ik=(0,Ne.Z)(function*(n,e,t){if(!xu(e))throw e;n.du.add(1),yield pm(n),n.mu.set("Offline"),t||(t=()=>l$(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield k0(n)}))}),ik.apply(this,arguments)}function b$(n,e){return e().catch(t=>ST(n,t,e))}function gm(n){return rk.apply(this,arguments)}function rk(){return rk=(0,Ne.Z)(function*(n){const e=Qe(n),t=$u(e);let i=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;o9(e);)try{const r=yield GZ(e.localStore,i);if(null===r){0===e.lu.length&&t.$o();break}i=r.batchId,a9(e,r)}catch(r){yield ST(e,r)}w$(e)&&E$(e)}),rk.apply(this,arguments)}function o9(n){return Gu(n)&&n.lu.length<10}function a9(n,e){n.lu.push(e);const t=$u(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function w$(n){return Gu(n)&&!$u(n).xo()&&n.lu.length>0}function E$(n){$u(n).start()}function l9(n){return sk.apply(this,arguments)}function sk(){return sk=(0,Ne.Z)(function*(n){$u(n).tu()}),sk.apply(this,arguments)}function c9(n){return ok.apply(this,arguments)}function ok(){return ok=(0,Ne.Z)(function*(n){const e=$u(n);for(const t of n.lu)e.Yo(t.mutations)}),ok.apply(this,arguments)}function u9(n,e,t){return ak.apply(this,arguments)}function ak(){return ak=(0,Ne.Z)(function*(n,e,t){const i=n.lu.shift(),r=yR.from(i,e,t);yield b$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield gm(n)}),ak.apply(this,arguments)}function d9(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,Ne.Z)(function*(n,e){var t;e&&$u(n).Jo&&(yield(t=(0,Ne.Z)(function*(i,r){if(pG(s=r.code)&&s!==se.ABORTED){const c=i.lu.shift();$u(i).Oo(),yield b$(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield gm(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),w$(n)&&E$(n)}),lk.apply(this,arguments)}function D$(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,Ne.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=Gu(t);t.du.add(3),yield pm(t),i&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield k0(t)}),ck.apply(this,arguments)}function dk(){return dk=(0,Ne.Z)(function*(n,e){const t=Qe(n);e?(t.du.delete(2),yield k0(t)):e||(t.du.add(2),yield pm(t),t.mu.set("Unknown"))}),dk.apply(this,arguments)}function $u(n){return n.pu||(n.pu=function(e,t,i){const r=Qe(e);return r.nu(),new JZ(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{Jr:l9.bind(null,n),Zr:d9.bind(null,n),Xo:c9.bind(null,n),Zo:u9.bind(null,n)}),n.wu.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.pu.Oo(),yield gm(n)):(yield n.pu.stop(),n.lu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class hk{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new hk(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _m(n,e){if(Di("AsyncQueue",`${e}: ${n}`),xu(n))return new Oe(se.UNAVAILABLE,`${e}: ${n}`);throw n}class f9{constructor(){this.queries=new Lu(e=>YH(e),p0),this.onlineState="Unknown",this.Au=new Set}}class b9{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Lu(h=>YH(h),p0),this.ic=new Map,this.rc=new Set,this.oc=new gi(Ze.comparator),this.uc=new Map,this.cc=new RR,this.ac={},this.hc=new Map,this.lc=Nf.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Dk(){return Dk=(0,Ne.Z)(function*(n,e,t){const i=Gk(n);try{const r=yield function(s,c){const h=Qe(s),p=si.now(),_=c.reduce((N,x)=>N.add(x.key),zt());let b,C;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let x=ps(),V=zt();return h.Ki.getEntries(N,_).next(j=>{x=j,x.forEach((J,le)=>{le.isValidDocument()||(V=V.add(J))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,x)).next(j=>{b=j;const J=[];for(const le of c){const we=Y7(le,b.get(le.key).overlayedDocument);null!=we&&J.push(new nc(le.key,we,PH(we.value.mapValue),Qn.exists(!0)))}return h.mutationQueue.addMutationBatch(N,p,J,c)}).next(j=>{C=j;const J=j.applyToLocalDocumentSet(b,V);return h.documentOverlayCache.saveOverlays(N,j.batchId,J)})}).then(()=>({batchId:C.batchId,changes:XH(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.ac[s.currentUser.toKey()];p||(p=new gi(jt)),p=p.insert(c,h),s.ac[s.currentUser.toKey()]=p}(i,r.batchId,t),yield ic(i,r.changes),yield gm(i.remoteStore)}catch(r){const s=_m(r,"Failed to persist write");t.reject(s)}}),Dk.apply(this,arguments)}function O$(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.sc.forEach((s,c)=>{const h=c.view.Ru(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=Qe(s);h.onlineState=c;let p=!1;h.queries.forEach((_,b)=>{for(const C of b.listeners)C.Ru(c)&&(p=!0)}),p&&function _k(n){n.Au.forEach(e=>{e.next()})}(h)}(i.eventManager,e),r.length&&i.nc.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function T9(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,Ne.Z)(function*(n,e){const t=Qe(n),i=e.batch.batchId;try{const r=yield jZ(t.localStore,e);Mk(t,i,null),Nk(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ic(t,r)}catch(r){yield Ou(r)}}),Ik.apply(this,arguments)}function I9(n,e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,Ne.Z)(function*(n,e,t){const i=Qe(n);try{const r=yield function(s,c){const h=Qe(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return h.mutationQueue.lookupMutationBatch(p,c).next(b=>(bt(null!==b),_=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>h.localDocuments.getDocuments(p,_))})}(i.localStore,e);Mk(i,e,t),Nk(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ic(i,r)}catch(r){yield Ou(r)}}),Sk.apply(this,arguments)}function Nk(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function Mk(n,e,t){const i=Qe(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ac[i.currentUser.toKey()]=r}}function ic(n,e,t){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,Ne.Z)(function*(n,e,t){const i=Qe(n),r=[],s=[],c=[];var h;i.sc.isEmpty()||(i.sc.forEach((h,p)=>{c.push(i.dc(p,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=LR.Di(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.nc.zo(r),yield(h=(0,Ne.Z)(function*(p,_){const b=Qe(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ne.forEach(_,N=>ne.forEach(N.Vi,x=>b.persistence.referenceDelegate.addReference(C,N.targetId,x)).next(()=>ne.forEach(N.Si,x=>b.persistence.referenceDelegate.removeReference(C,N.targetId,x)))))}catch(C){if(!xu(C))throw C;ke("LocalStore","Failed to update sequence numbers: "+C)}for(const C of _){const N=C.targetId;if(!C.fromCache){const x=b.Li.get(N),j=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);b.Li=b.Li.insert(N,j)}}}),function(p,_){return h.apply(this,arguments)})(i.localStore,s))}),Rk.apply(this,arguments)}function N9(n,e){return kk.apply(this,arguments)}function kk(){return kk=(0,Ne.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=yield a$(t.localStore,e);t.currentUser=e,(r=t).hc.forEach(c=>{c.forEach(h=>{h.reject(new Oe(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ic(t,i.Qi)}var r}),kk.apply(this,arguments)}function Gk(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}class $k{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.serializer=R0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function o$(n,e,t,i){return new UZ(n,e,t,i)}(this.persistence,new s$,e.initialUser,this.serializer)}createPersistence(e){return new i$(vT.Fs,this.serializer)}createSharedClientState(e){return new g$}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wm{initialize(e,t){var i=this;return(0,Ne.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>O$(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=N9.bind(null,i.syncEngine),yield function uk(n,e){return dk.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new f9}createDatastore(e){const t=R0(e.databaseInfo.databaseId),i=new YZ(e.databaseInfo);return new XZ(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>O$(this.syncEngine,h,0),c=m$.D()?new m$:new WZ,new n9(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,_){const b=new b9(i,r,s,c,h,p);return _&&(b.fc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const i=Qe(t);ke("RemoteStore","RemoteStore shutting down."),i.du.add(5),yield pm(i),i._u.shutdown(),i.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class H9{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=hH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ne.Z)(function*(h){ke("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=_m(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function NT(n,e){return zk.apply(this,arguments)}function zk(){return zk=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ne.Z)(function*(s){i.isEqual(s)||(yield a$(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),zk.apply(this,arguments)}function Wk(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qk(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>D$(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>D$(e.remoteStore,s)),n._onlineComponents=e}),Kk.apply(this,arguments)}function V$(n){return"FirebaseError"===n.name?n.code===se.FAILED_PRECONDITION||n.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qk(n){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Ne.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!V$(t))throw t;ec("Error using user provided cache. Falling back to memory cache: "+t),yield NT(n,new $k)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield NT(n,new $k);return n._offlineComponents}),Yk.apply(this,arguments)}function Zk(){return Zk=(0,Ne.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wk(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield Wk(n,new wm))),n._onlineComponents}),Zk.apply(this,arguments)}function Qk(n){return function MT(n){return Zk.apply(this,arguments)}(n).then(e=>e.syncEngine)}const $$=new Map;function Xk(n,e,t){if(!t)throw new Oe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z$(n){if(!Ze.isDocumentKey(n))throw new Oe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function W$(n){if(Ze.isDocumentKey(n))throw new Oe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xT(n);throw new Oe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class q${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Q9(n,e,t,i){if(!0===e&&!0===i)throw new Oe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KY;switch(t.type){case"firstParty":return new QY(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$$.get(e);t&&(ke("ComponentProvider","Removing Datastore"),$$.delete(e),t.terminate())}(this),Promise.resolve()}}class Ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}}class _r{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _r(this.firestore,e,this._query)}}class Fa extends _r{constructor(e,t,i){super(e,t,function im(n){return new tc(n)}(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new Ze(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function X9(n,e,...t){if(n=(0,F.m9)(n),Xk("collection","path",e),n instanceof F0){const i=cn.fromString(e,...t);return W$(i),new Fa(n,null,i)}{if(!(n instanceof Ii||n instanceof Fa))throw new Oe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return W$(i),new Fa(n.firestore,null,i)}}class tQ{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new KR(this,"async_queue_retry"),this.qc=()=>{const t=TT();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=TT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=TT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new ji;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!xu(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(i=>{throw this.Mc=i,this.Fc=!1,Di("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Fc=!1,i))));return this.Nc=t,t}enqueueAfterDelay(e,t,i){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const r=hk.createAndSchedule(this,e,t,i,s=>this.Qc(s));return this.$c.push(r),r}Uc(){this.Mc&&ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}class Gn extends F0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new tQ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z$(this),this._firestoreClient.terminate()}}function iQ(n,e){const t="object"==typeof n?n:(0,qt.getApp)(),i="string"==typeof n?n:e||"(default)",r=(0,qt._getProvider)(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,F.P0)("firestore");s&&function J9(n,e,t,i={}){var r;const s=(n=an(n,F0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Qi.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qi(p)}n._authCredentials=new qY(new uH(c,h))}}(r,...s)}return r}function Z$(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new A7(n._databaseId,h,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var h,_;n._firestoreClient=new H9(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Of{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Of(Hi.fromBase64String(e))}catch(t){throw new Oe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Of(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class X${constructor(e){this._methodName=e}}class tP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const sQ=/^__.*__$/;class oQ{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new nc(e,this.data,this.fieldMask,t,this.fieldTransforms):new om(e,this.data,t,this.fieldTransforms)}}function tz(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class RT{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new RT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.ea(e),r}na(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:i,ta:!1});return r.Jc(),r}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return PT(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(tz(this.Yc)&&sQ.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class aQ{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||R0(e)}ua(e,t,i,r=!1){return new RT({Yc:e,methodName:t,oa:i,path:Ci.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cm(n){const e=n._freezeSettings(),t=R0(n._databaseId);return new aQ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nP(n,e,t,i,r,s={}){const c=n.ua(s.merge||s.mergeFields?2:0,e,t,r);rP("Data must be an object, but it was:",c,i);const h=oz(i,c);let p,_;if(s.merge)p=new fs(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const C of s.mergeFields){const N=B0(e,C,t);if(!c.contains(N))throw new Oe(se.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);lz(b,N)||b.push(N)}p=new fs(b),_=c.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,_=c.fieldTransforms;return new oQ(new Xi(h),p,_)}function xf(n,e){if(az(n=(0,F.m9)(n)))return rP("Unsupported field value:",e,n),oz(n,e);if(n instanceof X$)return function(t,i){if(!tz(i.Yc))throw i.ia(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ia(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=xf(c,i.sa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iG(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=si.fromDate(t);return{timestampValue:lm(i.serializer,r)}}if(t instanceof si){const r=new si(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lm(i.serializer,r)}}if(t instanceof tP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Of)return{bytesValue:wG(i.serializer,t._byteString)};if(t instanceof Ii){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ER(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ia(`Unsupported field value: ${xT(t)}`)}(n,e)}function oz(n,e){const t={};return IH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(n,(i,r)=>{const s=xf(r,e.Xc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function az(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof si||n instanceof tP||n instanceof Of||n instanceof Ii||n instanceof X$)}function rP(n,e,t){if(!az(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=xT(t);throw e.ia("an object"===i?n+" a custom object":n+" "+i)}var i}function B0(n,e,t){if((e=(0,F.m9)(e))instanceof Dm)return e._internalPath;if("string"==typeof e)return function kT(n,e,t){if(e.search(dQ)>=0)throw PT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dm(...e.split("."))._internalPath}catch{throw PT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e);throw PT("Field path arguments must be of type string or ",n,!1,void 0,t)}const dQ=new RegExp("[~\\*/\\[\\]]");function PT(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Oe(se.INVALID_ARGUMENT,h+n+p)}function lz(n,e){return n.some(t=>t.isEqual(e))}function _Q(n,e){const t=an(n.firestore,Gn),i=function eQ(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=hH.A()),Xk("doc","path",e),n instanceof F0){const i=cn.fromString(e,...t);return z$(i),new Ii(n,null,new Ze(i))}{if(!(n instanceof Ii||n instanceof Fa))throw new Oe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(e,...t));return z$(i),new Ii(n.firestore,n instanceof Fa?n.converter:null,new Ze(i))}}(n),r=function oP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e);return function H0(n,e){return function(t,i){const r=new ji;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function D9(n,e,t){return Dk.apply(this,arguments)}(yield Qk(t),i,r)})),r.promise}(function Pi(n){return n._firestoreClient||Z$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(n),e)}(t,[nP(Cm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Qn.exists(!1))]).then(()=>i)}!function(n,e=!0){Qg=qt.SDK_VERSION,(0,qt._registerComponent)(new Yr.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new Gn(new YY(t.getProvider("auth-internal")),new JY(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(cH,"3.10.1",n),(0,qt.registerVersion)(cH,"3.10.1","esm2017")}();class G0{constructor(e){return e}}const _z="firestore",lP=new d.OlP("angularfire2.firestore-instances");function NQ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new G0(i)}}const MQ={provide:class SQ{constructor(){return $O(_z)}},deps:[[new d.FiY,lP]]},OQ={provide:G0,useFactory:function AQ(n,e){const t=function GO(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(c=>c.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(_z,n,e);return t&&new G0(t)},deps:[[new d.FiY,lP],zg]};let xQ=(()=>{class n{constructor(){(0,qt.registerVersion)("angularfire",dC.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OQ,MQ]}),n})();function RQ(n,...e){return{ngModule:xQ,providers:[{provide:lP,useFactory:NQ(n),multi:!0,deps:[d.R0b,d.zs3,hC,DU,[new d.FiY,TU],[new d.FiY,bC],...e]}]}}const kQ=fC(_Q,!0),PQ=fC(X9,!0),FQ=fC(iQ,!0);let yz=(()=>{class n{constructor(t=(0,d.f3M)(G0)){this.firestore=t}addDocumentToCollection(t,i){const r=PQ(this.firestore,t);return kQ(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(G0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function LQ(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1,"\u2605"),d.qZA()),2&n&&d.ekj("filled",100===e.fill)}function VQ(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1,"\u2605"),d.qZA()),2&n&&d.ekj("filled",100===e.fill)}function BQ(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1,"\u2605"),d.qZA()),2&n&&d.ekj("filled",100===e.fill)}let UQ=(()=>{class n{constructor(t,i,r){this.config=t,this.dialog=i,this.firestore=r,t.max=5;const s={overallRating:new Vo(0),paymentRating:new Vo(0),customerServiceRating:new Vo(0),comment:new Vo(null)};this.feedbackForm=new Al(s)}ngOnInit(){}postFeedback(){this.firestore.addDocumentToCollection("feedback",this.feedbackForm.value).then(i=>this.dialog.open(xE)).catch(i=>alert(`ERROR CODE: ${i?.code}. There was an error posting your feedback. Please, try again later.`))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(aM),d.Y36(vu),d.Y36(yz))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-feedback-form"]],decls:30,vars:2,consts:[["src","assets/SolaVieveLogo.png","id","logo","alt","logo"],[1,"container","my-4"],[1,"row"],[1,"col-md-2","col-0"],["id","form-container",1,"col-md-8","col-12","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-5"],["formControlName","overallRating"],[1,"mb-4"],["formControlName","paymentRating"],["formControlName","customerServiceRating"],["formControlName","comment","placeholder","Type your comment here...",1,"form-control","mb-4"],["type","submit",3,"disabled"]],template:function(t,i){1&t&&(d._UZ(0,"img",0)(1,"hr"),d.TgZ(2,"div",1)(3,"div",2),d._UZ(4,"div",3),d.TgZ(5,"div",4)(6,"form",5),d.NdJ("ngSubmit",function(){return i.postFeedback()}),d.TgZ(7,"h1",6),d._uU(8,"Leave a feedback!"),d.qZA(),d.TgZ(9,"p"),d._uU(10,"Rate your experience from 0 to 5 stars:"),d.qZA(),d.TgZ(11,"ngb-rating",7),d.YNc(12,LQ,2,2,"ng-template"),d.qZA(),d._UZ(13,"hr",8),d.TgZ(14,"p"),d._uU(15,"How satisfied are you with the payment process?"),d.qZA(),d.TgZ(16,"ngb-rating",9),d.YNc(17,VQ,2,2,"ng-template"),d.qZA(),d._UZ(18,"hr",8),d.TgZ(19,"p"),d._uU(20,"How satisfied are you with our customer service?"),d.qZA(),d.TgZ(21,"ngb-rating",10),d.YNc(22,BQ,2,2,"ng-template"),d.qZA(),d._UZ(23,"hr",8),d.TgZ(24,"p",8),d._uU(25,"Please leave a comment about your experience below:"),d.qZA(),d._UZ(26,"textarea",11),d.TgZ(27,"button",12),d._uU(28,"SEND FEEDBACK"),d.qZA()()(),d._UZ(29,"div",3),d.qZA()()),2&t&&(d.xp6(6),d.Q6J("formGroup",i.feedbackForm),d.xp6(21),d.Q6J("disabled",!i.feedbackForm.valid))},dependencies:[X6,Jc,pl,Ud,$r,Xc,Bp],styles:["#logo[_ngcontent-%COMP%]{left:32px;top:18px}ngb-rating[_ngcontent-%COMP%]{color:#d3d3d3;font-size:80px;max-width:100%}.filled[_ngcontent-%COMP%]{color:#11c4b0}textarea[_ngcontent-%COMP%]{resize:none;max-width:900px;min-height:200px;box-shadow:0 0 12px #0000003f}textarea[_ngcontent-%COMP%]::placeholder{color:#c8c8c8}textarea[_ngcontent-%COMP%]:focus{border-color:#11c4b0;box-shadow:0 0 5px 1px #11c4b0}button[_ngcontent-%COMP%]{background-color:#11c4b0;border:none;border-radius:80px;color:#fff;padding:10px 15px}button[_ngcontent-%COMP%]:disabled{background-color:#d3d3d3}h1[_ngcontent-%COMP%]{font-weight:700}p[_ngcontent-%COMP%]{font-weight:500;margin-bottom:3px}#form-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto}"]}),n})(),jQ=(()=>{class n{constructor(){this.title="solavieve-challenge"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"app-feedback-form")},dependencies:[UQ]}),n})();const vz_firebase={projectId:"solavieve-challenge",appId:"1:498768889993:web:8416e25a0181ee12235e58",storageBucket:"solavieve-challenge.appspot.com",apiKey:"AIzaSyDpdLcvSTgEXpXUl2g18GGjP7Fx4KeRwXY",authDomain:"solavieve-challenge.firebaseapp.com",messagingSenderId:"498768889993"};let HQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[aM],imports:[A2,sC,A2,sC]}),n})(),GQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[W_,uw,W_,uw]}),n})(),$Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[yz],imports:[$i,HQ,GQ]}),n})(),zQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[OE,OE]}),n})();function bz(n){return new d.vHH(3e3,!1)}function IJ(){return typeof window<"u"&&typeof window.document<"u"}function cP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wu(n){switch(n.length){case 0:return new _u;case 1:return n[0];default:return new IE(n)}}function wz(n,e,t,i,r=new Map,s=new Map){const c=[],h=[];let p=-1,_=null;if(i.forEach(b=>{const C=b.get("offset"),N=C==p,x=N&&_||new Map;b.forEach((V,j)=>{let J=j,le=V;if("offset"!==j)switch(J=e.normalizePropertyName(J,c),le){case"!":le=r.get(j);break;case Ia:le=s.get(j);break;default:le=e.normalizeStyleValue(j,J,le,c)}x.set(J,le)}),N||h.push(x),_=x,p=C}),c.length)throw function pJ(n){return new d.vHH(3502,!1)}();return h}function uP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&dP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&dP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&dP(t,"destroy",n)))}}function dP(n,e,t){const s=hP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function hP(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function $s(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Ez(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let fP=(n,e)=>!1,Dz=(n,e,t)=>[],Cz=null;function pP(n){const e=n.parentNode||n.host;return e===Cz?null:e}(cP()||typeof Element<"u")&&(IJ()?(Cz=(()=>document.documentElement)(),fP=(n,e)=>{for(;e;){if(e===n)return!0;e=pP(e)}return!1}):fP=(n,e)=>n.contains(e),Dz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let kf=null,Tz=!1;const Iz=fP,Sz=Dz;let Az=(()=>{class n{validateStyleProperty(t){return function AJ(n){kf||(kf=function NJ(){return typeof document<"u"?document.body:null}()||{},Tz=!!kf.style&&"WebkitAppearance"in kf.style);let e=!0;return kf.style&&!function SJ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kf.style,!e&&Tz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kf.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Iz(t,i)}getParentElement(t){return pP(t)}query(t,i,r){return Sz(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new _u(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),gP=(()=>{class n{}return n.NOOP=new Az,n})();const mP="ng-enter",HT="ng-leave",GT="ng-trigger",$T=".ng-trigger",Mz="ng-animating",_P=".ng-animating";function rc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yP(parseFloat(e[1]),e[2])}function yP(n,e){return"s"===e?1e3*n:n}function zT(n,e,t){return n.hasOwnProperty("duration")?n:function xJ(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(bz()),{duration:0,delay:0,easing:""};r=yP(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=yP(parseFloat(p),h[4]));const _=h[5];_&&(c=_)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function WQ(){return new d.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function KQ(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,bz())}return{duration:r,delay:s,easing:c}}(n,e,t)}function $0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Oz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ku(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Rz(n,e,t){return t?e+":"+t+";":""}function kz(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Rz(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Rz(0,FJ(t),n.style[t]));n.setAttribute("style",e)}function La(n,e,t){n.style&&(e.forEach((i,r)=>{const s=bP(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),cP()&&kz(n))}function Pf(n,e){n.style&&(e.forEach((t,i)=>{const r=bP(i);n.style[r]=""}),cP()&&kz(n))}function z0(n){return Array.isArray(n)?1==n.length?n[0]:Tt(n):n}const vP=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pz(n){let e=[];if("string"==typeof n){let t;for(;t=vP.exec(n);)e.push(t[1]);vP.lastIndex=0}return e}function W0(n,e,t){const i=n.toString(),r=i.replace(vP,(s,c)=>{let h=e[c];return null==h&&(t.push(function YQ(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function WT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const PJ=/-+([a-z0-9])/g;function bP(n){return n.replace(PJ,(...e)=>e[1].toUpperCase())}function FJ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ZQ(n){return new d.vHH(3004,!1)}()}}function Fz(n,e){return window.getComputedStyle(n)[e]}function HJ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function GJ(n,e,t){if(":"==n[0]){const p=function $J(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function uJ(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function cJ(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(Lz(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(Lz(c,r))}(i,t,e)):t.push(n),t}const ZT=new Set(["true","1"]),QT=new Set(["false","0"]);function Lz(n,e){const t=ZT.has(n)||QT.has(n),i=ZT.has(e)||QT.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?ZT.has(n):QT.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?ZT.has(e):QT.has(e)),c&&h}}const zJ=new RegExp("s*:selfs*,?","g");function wP(n,e,t,i){return new WJ(n).build(e,t,i)}class WJ{constructor(e){this._driver=e}build(e,t,i){const r=new YJ(t);return this._resetContextStyleTimingState(r),zs(this,z0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function JQ(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,t))}),p.name=_}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function XQ(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Pz(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(WT(s.values()),t.errors.push(function eJ(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=zs(this,z0(e.animation),t);return{type:1,matchers:HJ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ff(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>zs(this,i,t)),options:Ff(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=zs(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Ff(e.options)}}visitAnimate(e,t){const i=function QJ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return EP(zT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=EP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=zT(t,e);return EP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:mu({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};i.easing&&(_.easing=i.easing),c=mu(_)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Ia?i.push(h):t.errors.push(new d.vHH(3002,!1)):i.push(Oz(h));let s=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const _=t.collectedStyles.get(t.currentQuerySelector),b=_.get(p);let C=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function nJ(n,e,t,i,r){return new d.vHH(3010,!1)}()),C=!1),s=b.startTime),C&&_.set(p,{startTime:s,endTime:r}),t.options&&function kJ(n,e,t){const i=e.params||{},r=Pz(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function qQ(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function iJ(){return new d.vHH(3011,!1)}()),i;let s=0;const c=[];let h=!1,p=!1,_=0;const b=e.steps.map(le=>{const we=this._makeStyleAst(le,t);let Fe=null!=we.offset?we.offset:function ZJ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(we.styles),Be=0;return null!=Fe&&(s++,Be=we.offset=Fe),p=p||Be<0||Be>1,h=h||Be<_,_=Be,c.push(Be),we});p&&t.errors.push(function rJ(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function sJ(){return new d.vHH(3200,!1)}());const C=e.steps.length;let N=0;s>0&&s<C?t.errors.push(function oJ(){return new d.vHH(3202,!1)}()):0==s&&(N=1/(C-1));const x=C-1,V=t.currentTime,j=t.currentAnimateTimings,J=j.duration;return b.forEach((le,we)=>{const Fe=N>0?we==x?1:N*we:c[we],Be=Fe*J;t.currentTime=V+j.delay+Be,j.duration=Be,this._validateStyleAst(le,t),le.offset=Fe,i.styles.push(le)}),i}visitReference(e,t){return{type:8,animation:zs(this,z0(e.animation),t),options:Ff(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ff(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ff(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function KJ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(zJ,"")),n=n.replace(/@\*/g,$T).replace(/@\w+/g,t=>$T+"-"+t.slice(1)).replace(/:animating/g,_P),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,$s(t.collectedStyles,t.currentQuerySelector,new Map);const h=zs(this,z0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Ff(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function aJ(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:zT(e.timings,t.errors,!0);return{type:12,animation:zs(this,z0(e.animation),t),timings:i,options:null}}}class YJ{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ff(n){return n?(n=$0(n)).params&&(n.params=function qJ(n){return n?$0(n):null}(n.params)):n={},n}function EP(n,e,t){return{duration:n,delay:e,easing:t}}function DP(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class JT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const eX=new RegExp(":enter","g"),nX=new RegExp(":leave","g");function CP(n,e,t,i,r,s=new Map,c=new Map,h,p,_=[]){return(new iX).buildKeyframes(n,e,t,i,r,s,c,h,p,_)}class iX{buildKeyframes(e,t,i,r,s,c,h,p,_,b=[]){_=_||new JT;const C=new TP(e,t,_,r,s,b,[]);C.options=p;const N=p.delay?rc(p.delay):0;C.currentTimeline.delayNextStep(N),C.currentTimeline.setStyles([c],null,C.errors,p),zs(this,i,C);const x=C.timelines.filter(V=>V.containsAnimation());if(x.length&&h.size){let V;for(let j=x.length-1;j>=0;j--){const J=x[j];if(J.element===t){V=J;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([h],null,C.errors,p)}return x.length?x.map(V=>V.buildKeyframes()):[DP(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:rc(W0(s,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?rc(i.duration):null,h=null!=i.delay?rc(i.delay):null;return 0!==c&&e.forEach(p=>{const _=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),zs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=XT);const c=rc(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>zs(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?rc(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),zs(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return zT(t.params?W0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?rc(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=XT);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((_,b)=>{t.currentQueryIndex=b;const C=t.createSubContext(e.options,_);s&&C.delayNextStep(s),_===t.element&&(p=C.currentTimeline),zs(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const C=b.currentTime;zs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const XT={};class TP{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new eI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=rc(i.duration)),null!=i.delay&&(r.delay=rc(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=W0(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new TP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=XT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new rX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(eX,"."+this._enterClassName)).replace(nX,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),h.push(..._)}return!s&&0==h.length&&c.push(function lJ(n){return new d.vHH(3014,!1)}()),h}}class eI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new eI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ia),this._currentKeyframe.set(t,Ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function sX(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Ia)}else Ku(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const _=W0(p,s,i);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ia),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const _=Ku(h,new Map,this._backFill);_.forEach((b,C)=>{"!"===b?e.add(C):b===Ia&&t.add(C)}),i||_.set("offset",p/this.duration),r.push(_)});const s=e.size?WT(e.values()):[],c=t.size?WT(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return DP(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class rX extends eI{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=Ku(e[0]);p.set("offset",0),s.push(p);const _=Ku(e[0]);_.set("offset",Uz(h)),s.push(_);const b=e.length-1;for(let C=1;C<=b;C++){let N=Ku(e[C]);const x=N.get("offset");N.set("offset",Uz((t+x*i)/c)),s.push(N)}i=c,t=0,r="",e=s}return DP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Uz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IP{}const oX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class aX extends IP{normalizePropertyName(e,t){return bP(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(oX.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function QQ(n,e){return new d.vHH(3005,!1)}())}return c+s}}function jz(n,e,t,i,r,s,c,h,p,_,b,C,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:C,errors:N}}const SP={};class Hz{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function lX(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,h,p,_,b){const C=[],N=this.ast.options&&this.ast.options.params||SP,V=this.buildStyles(i,h&&h.params||SP,C),j=p&&p.params||SP,J=this.buildStyles(r,j,C),le=new Set,we=new Map,Fe=new Map,Be="void"===r,Je={params:cX(j,N),delay:this.ast.options?.delay},Xe=b?[]:CP(e,t,this.ast.animation,s,c,V,J,Je,_,C);let Ct=0;if(Xe.forEach(En=>{Ct=Math.max(En.duration+En.delay,Ct)}),C.length)return jz(t,this._triggerName,i,r,Be,V,J,[],[],we,Fe,Ct,C);Xe.forEach(En=>{const Dn=En.element,Xn=$s(we,Dn,new Set);En.preStyleProps.forEach(ai=>Xn.add(ai));const vr=$s(Fe,Dn,new Set);En.postStyleProps.forEach(ai=>vr.add(ai)),Dn!==t&&le.add(Dn)});const Pt=WT(le.values());return jz(t,this._triggerName,i,r,Be,V,J,Xe,Pt,we,Fe,Ct)}}function cX(n,e){const t=$0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class uX{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=$0(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=W0(c,r,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),i.set(p,c)})}),i}}class hX{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new uX(r.style,r.options&&r.options.params||{},i))}),Gz(this.states,"true","1"),Gz(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Hz(e,r,this.states))}),this.fallbackTransition=function fX(n,e,t){return new Hz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Gz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pX=new JT;class gX{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=wP(this._driver,t,i,[]);if(i.length)throw function gJ(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=wz(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=CP(this._driver,t,s,mP,HT,new Map,new Map,i,pX,r),c.forEach(b=>{const C=$s(h,b.element,new Map);b.postStyleProps.forEach(N=>C.set(N,null))})):(r.push(function mJ(){return new d.vHH(3300,!1)}()),c=[]),r.length)throw function _J(n){return new d.vHH(3504,!1)}();h.forEach((b,C)=>{b.forEach((N,x)=>{b.set(x,this._driver.computeStyle(C,x,Ia))})});const _=Wu(c.map(b=>{const C=h.get(b.element);return this._buildPlayer(b,new Map,C)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yJ(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=hP(t,"","","");return uP(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const $z="ng-animate-queued",AP="ng-animate-disabled",bX=[],zz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uo="__ng_removed";class NP{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function TX(n){return n??null}(i?e.value:e),i){const s=$0(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const K0="void",MP=new NP(K0);class EX{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ho(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function vJ(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function bJ(n){return new d.vHH(3303,!1)}();if(!function IX(n){return"start"==n||"done"==n}(i))throw function wJ(n,e){return new d.vHH(3400,!1)}();const s=$s(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=$s(this._engine.statesByElement,e,new Map);return h.has(t)||(ho(e,GT),ho(e,GT+"-"+t),h.set(t,MP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function EJ(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new OP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ho(e,GT),ho(e,GT+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const _=new NP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),h.set(t,_),p||(p=MP),_.value!==K0&&p.value===_.value){if(!function NX(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,_.params)){const j=[],J=s.matchStyles(p.value,p.params,j),le=s.matchStyles(_.value,_.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Pf(e,J),La(e,le)})}return}const N=$s(this._engine.playersByElement,e,[]);N.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let x=s.matchTransition(p.value,_.value,e,_.params),V=!1;if(!x){if(!r)return;x=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:x,fromState:p,toState:_,player:c,isFallbackTransition:V}),V||(ho(e,$z),c.onStart(()=>{Sm(e,$z)})),c.onDone(()=>{let j=this.players.indexOf(c);j>=0&&this.players.splice(j,1);const J=this._engine.playersByElement.get(e);if(J){let le=J.indexOf(c);le>=0&&J.splice(le,1)}}),this.players.push(c),N.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,$T,!0);i.forEach(r=>{if(r[uo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(e,_,K0,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Wu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||MP,b=new NP(K0),C=new OP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:_,toState:b,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[uo];(!s||s===zz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ho(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=hP(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,uP(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class DX{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new EX(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const _=i.indexOf(p);i.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(tI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!tI(t))return;const s=t[uo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ho(e,AP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sm(e,AP))}removeNode(e,t,i,r){if(tI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[uo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return tI(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,$T,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_P,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[uo];if(t&&t.setForRemoval){if(e[uo]=zz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(AP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ho(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Wu(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function DJ(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new JT,r=[],s=new Map,c=[],h=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(tt=>{b.add(tt);const dt=this.driver.query(tt,".ng-animate-queued",!0);for(let Nt=0;Nt<dt.length;Nt++)b.add(dt[Nt])});const C=this.bodyNode,N=Array.from(this.statesByElement.keys()),x=qz(N,this.collectedEnterElements),V=new Map;let j=0;x.forEach((tt,dt)=>{const Nt=mP+j++;V.set(dt,Nt),tt.forEach(Wt=>ho(Wt,Nt))});const J=[],le=new Set,we=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const dt=this.collectedLeaveElements[tt],Nt=dt[uo];Nt&&Nt.setForRemoval&&(J.push(dt),le.add(dt),Nt.hasAnimation?this.driver.query(dt,".ng-star-inserted",!0).forEach(Wt=>le.add(Wt)):we.add(dt))}const Fe=new Map,Be=qz(N,Array.from(le));Be.forEach((tt,dt)=>{const Nt=HT+j++;Fe.set(dt,Nt),tt.forEach(Wt=>ho(Wt,Nt))}),e.push(()=>{x.forEach((tt,dt)=>{const Nt=V.get(dt);tt.forEach(Wt=>Sm(Wt,Nt))}),Be.forEach((tt,dt)=>{const Nt=Fe.get(dt);tt.forEach(Wt=>Sm(Wt,Nt))}),J.forEach(tt=>{this.processLeaveNode(tt)})});const Je=[],Xe=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(Nt=>{const Wt=Nt.player,li=Nt.element;if(Je.push(Wt),this.collectedEnterElements.length){const Si=li[uo];if(Si&&Si.setForMove){if(Si.previousTriggersValues&&Si.previousTriggersValues.has(Nt.triggerName)){const es=Si.previousTriggersValues.get(Nt.triggerName),Mr=this.statesByElement.get(Nt.element);if(Mr&&Mr.has(Nt.triggerName)){const Um=Mr.get(Nt.triggerName);Um.value=es,Mr.set(Nt.triggerName,Um)}}return void Wt.destroy()}}const ys=!C||!this.driver.containsElement(C,li),Gi=Fe.get(li),qs=V.get(li),vn=this._buildInstruction(Nt,i,qs,Gi,ys);if(vn.errors&&vn.errors.length)return void Xe.push(vn);if(ys)return Wt.onStart(()=>Pf(li,vn.fromStyles)),Wt.onDestroy(()=>La(li,vn.toStyles)),void r.push(Wt);if(Nt.isFallbackTransition)return Wt.onStart(()=>Pf(li,vn.fromStyles)),Wt.onDestroy(()=>La(li,vn.toStyles)),void r.push(Wt);const Qo=[];vn.timelines.forEach(Si=>{Si.stretchStartingKeyframe=!0,this.disabledNodes.has(Si.element)||Qo.push(Si)}),vn.timelines=Qo,i.append(li,vn.timelines),c.push({instruction:vn,player:Wt,element:li}),vn.queriedElements.forEach(Si=>$s(h,Si,[]).push(Wt)),vn.preStyleProps.forEach((Si,es)=>{if(Si.size){let Mr=p.get(es);Mr||p.set(es,Mr=new Set),Si.forEach((Um,Yf)=>Mr.add(Yf))}}),vn.postStyleProps.forEach((Si,es)=>{let Mr=_.get(es);Mr||_.set(es,Mr=new Set),Si.forEach((Um,Yf)=>Mr.add(Yf))})});if(Xe.length){const tt=[];Xe.forEach(dt=>{tt.push(function CJ(n,e){return new d.vHH(3505,!1)}())}),Je.forEach(dt=>dt.destroy()),this.reportError(tt)}const Ct=new Map,Pt=new Map;c.forEach(tt=>{const dt=tt.element;i.has(dt)&&(Pt.set(dt,dt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Ct))}),r.forEach(tt=>{const dt=tt.element;this._getPreviousPlayers(dt,!1,tt.namespaceId,tt.triggerName,null).forEach(Wt=>{$s(Ct,dt,[]).push(Wt),Wt.destroy()})});const En=J.filter(tt=>Zz(tt,p,_)),Dn=new Map;Kz(Dn,this.driver,we,_,Ia).forEach(tt=>{Zz(tt,p,_)&&En.push(tt)});const vr=new Map;x.forEach((tt,dt)=>{Kz(vr,this.driver,new Set(tt),p,"!")}),En.forEach(tt=>{const dt=Dn.get(tt),Nt=vr.get(tt);Dn.set(tt,new Map([...Array.from(dt?.entries()??[]),...Array.from(Nt?.entries()??[])]))});const ai=[],Ha=[],Ga={};c.forEach(tt=>{const{element:dt,player:Nt,instruction:Wt}=tt;if(i.has(dt)){if(b.has(dt))return Nt.onDestroy(()=>La(dt,Wt.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Wt.totalTime),void r.push(Nt);let li=Ga;if(Pt.size>1){let Gi=dt;const qs=[];for(;Gi=Gi.parentNode;){const vn=Pt.get(Gi);if(vn){li=vn;break}qs.push(Gi)}qs.forEach(vn=>Pt.set(vn,li))}const ys=this._buildAnimation(Nt.namespaceId,Wt,Ct,s,vr,Dn);if(Nt.setRealPlayer(ys),li===Ga)ai.push(Nt);else{const Gi=this.playersByElement.get(li);Gi&&Gi.length&&(Nt.parentPlayer=Wu(Gi)),r.push(Nt)}}else Pf(dt,Wt.fromStyles),Nt.onDestroy(()=>La(dt,Wt.toStyles)),Ha.push(Nt),b.has(dt)&&r.push(Nt)}),Ha.forEach(tt=>{const dt=s.get(tt.element);if(dt&&dt.length){const Nt=Wu(dt);tt.setRealPlayer(Nt)}}),r.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<J.length;tt++){const dt=J[tt],Nt=dt[uo];if(Sm(dt,HT),Nt&&Nt.hasAnimation)continue;let Wt=[];if(h.size){let ys=h.get(dt);ys&&ys.length&&Wt.push(...ys);let Gi=this.driver.query(dt,_P,!0);for(let qs=0;qs<Gi.length;qs++){let vn=h.get(Gi[qs]);vn&&vn.length&&Wt.push(...vn)}}const li=Wt.filter(ys=>!ys.destroyed);li.length?SX(this,dt,li):this.processLeaveNode(dt)}return J.length=0,ai.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const dt=this.players.indexOf(tt);this.players.splice(dt,1)}),tt.play()}),ai}elementContainsData(e,t){let i=!1;const r=t[uo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==K0;h.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const _=p.element,b=_!==s,C=$s(i,_,[]);this._getPreviousPlayers(_,b,c,h,t.toState).forEach(x=>{const V=x.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),x.destroy(),C.push(x)})}Pf(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,_=[],b=new Set,C=new Set,N=t.timelines.map(V=>{const j=V.element;b.add(j);const J=j[uo];if(J&&J.removedBeforeQueried)return new _u(V.duration,V.delay);const le=j!==p,we=function AX(n){const e=[];return Yz(n,e),e}((i.get(j)||bX).map(Ct=>Ct.getRealPlayer())).filter(Ct=>!!Ct.element&&Ct.element===j),Fe=s.get(j),Be=c.get(j),Je=wz(0,this._normalizer,0,V.keyframes,Fe,Be),Xe=this._buildPlayer(V,Je,we);if(V.subTimeline&&r&&C.add(j),le){const Ct=new OP(e,h,j);Ct.setRealPlayer(Xe),_.push(Ct)}return Xe});_.forEach(V=>{$s(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function CX(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),b.forEach(V=>ho(V,Mz));const x=Wu(N);return x.onDestroy(()=>{b.forEach(V=>Sm(V,Mz)),La(p,t.toStyles)}),C.forEach(V=>{$s(r,V,[]).push(x)}),x}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new _u(e.duration,e.delay)}}class OP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new _u,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>uP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$s(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function tI(n){return n&&1===n.nodeType}function Wz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Kz(n,e,t,i,r){const s=[];t.forEach(p=>s.push(Wz(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(C=>{const N=e.computeStyle(_,C,r);b.set(C,N),(!N||0==N.length)&&(_[uo]=wX,c.push(_))}),n.set(_,b)});let h=0;return t.forEach(p=>Wz(p,s[h++])),c}function qz(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const _=h.parentNode;return p=t.has(_)?_:r.has(_)?1:c(_),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function ho(n,e){n.classList?.add(e)}function Sm(n,e){n.classList?.remove(e)}function SX(n,e,t){Wu(t).onDone(()=>n.processLeaveNode(e))}function Yz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof IE?Yz(i.players,e):e.push(i)}}function Zz(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class nI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new DX(e,t,i),this._timelineEngine=new gX(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],b=wP(this._driver,s,p,[]);if(p.length)throw function fJ(n,e){return new d.vHH(3404,!1)}();h=function dX(n,e,t){return new hX(n,e,t)}(r,b,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=Ez(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=Ez(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let OX=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&La(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(La(this._element,this._initialStyles),this._endStyles&&(La(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Pf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pf(this._element,this._endStyles),this._endStyles=null),La(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xP(n){let e=null;return n.forEach((t,i)=>{(function xX(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Qz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Fz(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RX{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Iz(e,t)}getParentElement(e){return pP(e)}query(e,t,i){return Sz(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(x=>x instanceof Qz);(function LJ(n,e){return 0===n||0===e})(i,r)&&b.forEach(x=>{x.currentSnapshot.forEach((V,j)=>_.set(j,V))});let C=function RJ(n){return n.length?n[0]instanceof Map?n:n.map(e=>Oz(e)):[]}(t).map(x=>Ku(x));C=function VJ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(h=>c.set(h,Fz(n,h)))}}return e}(e,C,_);const N=function MX(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=xP(e[0]),e.length>1&&(i=xP(e[e.length-1]))):e instanceof Map&&(t=xP(e)),t||i?new OX(n,t,i):null}(e,C);return new Qz(e,C,p,N)}}let kX=(()=>{class n extends cA{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Tt(t):t;return Jz(this._renderer,null,i,"register",[r]),new PX(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ge))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class PX extends class Hy{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new FX(this._id,e,t||{},this._renderer)}}class FX{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Jz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Jz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Xz="@.disabled";let LX=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new eW("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,h,t,b.name,b)};return i.data.animation.forEach(p),new VX(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(nI),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class eW{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Xz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class VX extends eW{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Xz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function BX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function UX(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let jX=(()=>{class n extends nI{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ge),d.LFG(gP),d.LFG(IP),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const tW=[{provide:cA,useClass:kX},{provide:IP,useFactory:function HX(){return new aX}},{provide:nI,useClass:jX},{provide:d.FYo,useFactory:function GX(n,e,t){return new LX(n,e,t)},deps:[Cc,nI,d.R0b]}],RP=[{provide:gP,useFactory:()=>new RX},{provide:d.QbO,useValue:"BrowserAnimations"},...tW],nW=[{provide:gP,useClass:Az},{provide:d.QbO,useValue:"NoopAnimations"},...tW];let $X=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nW:RP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:RP,imports:[d_]}),n})();var iW=U(3099);function zX(n,e,t,i,r){return(s,c)=>{let h=t,p=e,_=0;s.subscribe((0,bn.x)(c,b=>{const C=_++;p=h?n(p,b,C):(h=!0,b),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function rW(n,e){return(0,cr.e)(zX(n,e,arguments.length>=2,!0))}var Va=U(2011),KX=(U(9568),U(3942));const sW="@firebase/database";let kP="";function aW(n){kP=n}class qX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class YX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const lW=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qX(e)}}catch{}return new YX},Lf=lW("localStorage"),PP=lW("sessionStorage"),Am=new Us.Yd("@firebase/database"),cW=function(){let n=1;return function(){return n++}}(),uW=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const i=t.digest();return F.US.encodeByteArray(i)},q0=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=q0.apply(null,i):e+="object"==typeof i?(0,F.Wl)(i):i,e+=" "}return e};let Vf=null,dW=!0;const hW=function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Am.logLevel=Us.in.VERBOSE,Vf=Am.log.bind(Am),e&&PP.set("logging_enabled",!0)):"function"==typeof n?Vf=n:(Vf=null,PP.remove("logging_enabled"))},tr=function(...n){if(!0===dW&&(dW=!1,null===Vf&&!0===PP.get("logging_enabled")&&hW(!0)),Vf){const e=q0.apply(null,n);Vf(e)}},Y0=function(n){return function(...e){tr(n,...e)}},FP=function(...n){const e="FIREBASE INTERNAL ERROR: "+q0(...n);Am.error(e)},Ba=function(...n){const e=`FIREBASE FATAL ERROR: ${q0(...n)}`;throw Am.error(e),new Error(e)},Nr=function(...n){const e="FIREBASE WARNING: "+q0(...n);Am.warn(e)},rI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qu="[MIN_NAME]",sc="[MAX_NAME]",Bf=function(n,e){if(n===e)return 0;if(n===qu||e===sc)return-1;if(e===qu||n===sc)return 1;{const t=gW(n),i=gW(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},JX=function(n,e){return n===e?0:n<e?-1:1},Z0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(e))},LP=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,F.Wl)(e[i]),t+=":",t+=LP(n[e[i]]);return t+="}",t},fW=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const pW=function(n){(0,F.hu)(!rI(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let C="";for(p=0;p<64;p+=8){let N=parseInt(b.substr(p,8),2).toString(16);1===N.length&&(N="0"+N),C+=N}return C.toLowerCase()},nee=new RegExp("^-?(0*)\\d{1,10}$"),gW=function(n){if(nee.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Nm=function(n){try{n()}catch(e){setTimeout(()=>{throw Nr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Q0=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class oee{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Nr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aee{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nr(e)}}let J0=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const bW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DW="websocket",CW="long_polling";class BP{constructor(e,t,i,r,s=!1,c="",h=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lf.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lf.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function TW(n,e,t){let i;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===DW)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==CW)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lee(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return nr(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class cee{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const UP={},jP={};function HP(n){const e=n.toString();return UP[e]||(UP[e]=new cee),UP[e]}class dee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Nm(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Yu{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Y0(e),this.stats_=HP(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),TW(t,CW,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GP((...s)=>{const[c,h,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&bW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yu.forceAllow_=!0}static forceDisallow(){Yu.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Yu.forceAllow_&&(Yu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,F.h$)(t),r=fW(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class GP{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=cW(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=GP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){tr("frame writing exception"),h.stack&&tr(h.stack),tr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||tr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{tr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let oI=null;typeof MozWebSocket<"u"?oI=MozWebSocket:typeof WebSocket<"u"&&(oI=WebSocket);let Mm=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Y0(this.connId),this.stats_=HP(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const h={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&bW.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),TW(t,DW,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lf.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${kP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new oI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==oI&&!n.forceDisallow_}static previouslyFailed(){return Lf.isInMemoryStorage||!0===Lf.get("previous_websocket_failure")}markConnectionHealthy(){Lf.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,F.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=fW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),xW=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Yu,Mm]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Mm&&Mm.isAvailable();let r=i&&!Mm.previouslyFailed();if(t.webSocketOnly&&(i||Nr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Mm];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class BW{constructor(e,t,i,r,s,c,h,p,_,b){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Y0("c:"+this.id+":"),this.transportManager_=new xW(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Q0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Z0("t",e),i=Z0("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Z0("t",e),i=Z0("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Z0("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?FP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Nr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Q0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class UW{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class jW{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class aI extends jW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new aI}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class yn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function pn(){return new yn("")}function Qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zu(n){return n.pieces_.length-n.pieceNum_}function Nn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new yn(n.pieces_,e)}function zP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function X0(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function $W(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new yn(e,0)}function Jn(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof yn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new yn(t,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function Xr(n,e){const t=Qt(n),i=Qt(e);if(null===t)return e;if(t===i)return Xr(Nn(n),Nn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Ree(n,e){const t=X0(n,0),i=X0(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Bf(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function WP(n,e){if(Zu(n)!==Zu(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function fo(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Zu(n)>Zu(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class kee{constructor(e,t){this.errorPrefix_=t,this.parts_=X0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);zW(this)}}function zW(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Uf(n))}function Uf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class KP extends jW{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new KP}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const eb=1e3;let cI,jf=(()=>{class n extends UW{constructor(t,i,r,s,c,h,p,_){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=Y0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");KP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&aI.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,F.Wl)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new F.BH,r={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),t.onComplete&&t.onComplete(b,_))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const r=(0,F.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Nr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,F.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):FP("Unrecognized action received from server: "+(0,F.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eb,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=eb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ne.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};t.realtime_={close:b,sendRequest:function(x){(0,F.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(x)}};const N=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[x,V]=yield Promise.all([t.authTokenProvider_.getToken(N),t.appCheckTokenProvider_.getToken(N)]);p?tr("getToken() completed but was canceled"):(tr("getToken() completed. Creating connection."),t.authToken_=x&&x.accessToken,t.appCheckToken_=V&&V.token,_=new BW(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,j=>{Nr(j+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(x){t.log_("Failed to get token: "+x),p||(t.repoInfo_.nodeAdmin&&Nr(x),b())}}})()}interrupt(t){tr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){tr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=eb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>LP(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new yn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){tr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){tr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+kP.replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=aI.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new tn(e,t)}}class lI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new tn(qu,e),r=new tn(qu,t);return 0!==this.compare(i,r)}minPost(){return tn.MIN}}class qW extends lI{static get __EMPTY_NODE(){return cI}static set __EMPTY_NODE(e){cI=e}compare(e,t){return Bf(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return tn.MIN}maxPost(){return new tn(sc,cI)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new tn(e,cI)}toString(){return".key"}}const Ua=new qW;class uI{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let YP,Ko=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??ms.EMPTY_NODE,this.right=c??ms.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ms.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ms.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ms{constructor(e,t=ms.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ms(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ko.BLACK,null,null))}remove(e){return new ms(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ko.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new uI(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new uI(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new uI(this.root_,null,this.comparator_,!0,e)}}function Hee(n,e){return Bf(n.name,e.name)}function qP(n,e){return Bf(n,e)}ms.EMPTY_NODE=new class jee{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ko(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const YW=function(n){return"number"==typeof n?"number:"+pW(n):"string:"+n},ZW=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===YP||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===YP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QW,JW,XW,Om=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ZW(this.priorityNode_)}static set __childrenNodeConstructor(t){QW=t}static get __childrenNodeConstructor(){return QW}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Jt(t)?this:".priority"===Qt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Qt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Zu(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+YW(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?pW(this.value_):this.value_,this.lazyHash_=uW(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Pn=new class Wee extends lI{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Bf(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(sc,new Om("[PRIORITY-POST]",XW))}makePost(e,t){const i=JW(e);return new tn(t,new Om("[PRIORITY-POST]",i))}toString(){return".priority"}},Kee=Math.log(2);class qee{constructor(e){this.count=parseInt(Math.log(e+1)/Kee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dI=function(n,e,t,i){n.sort(e);const r=function(p,_){const b=_-p;let C,N;if(0===b)return null;if(1===b)return C=n[p],N=t?t(C):C,new Ko(N,C.node,Ko.BLACK,null,null);{const x=parseInt(b/2,10)+p,V=r(p,x),j=r(x+1,_);return C=n[x],N=t?t(C):C,new Ko(N,C.node,Ko.BLACK,V,j)}},h=function(p){let _=null,b=null,C=n.length;const N=function(V,j){const J=C-V,le=C;C-=V;const we=r(J+1,le),Fe=n[J],Be=t?t(Fe):Fe;x(new Ko(Be,Fe.node,j,null,we))},x=function(V){_?(_.left=V,_=V):(b=V,_=V)};for(let V=0;V<p.count;++V){const j=p.nextBitIsOne(),J=Math.pow(2,p.count-(V+1));j?N(J,Ko.BLACK):(N(J,Ko.BLACK),N(J,Ko.RED))}return b}(new qee(n.length));return new ms(i||e,h)};let ZP;const xm={};class oc{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(xm&&Pn,"ChildrenNode.ts has not been loaded"),ZP=ZP||new oc({".priority":xm},{".priority":Pn}),ZP}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ms?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==Ua,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(tn.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?dI(i,e.getCompare()):xm;const p=e.toString(),_=Object.assign({},this.indexSet_);_[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new oc(b,_)}addToIndexes(e,t){const i=(0,F.UI)(this.indexes_,(r,s)=>{const c=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(c,"Missing index implementation for "+s),r===xm){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(tn.Wrap);let _=p.getNext();for(;_;)_.name!==e.name&&h.push(_),_=p.getNext();return h.push(e),dI(h,c.getCompare())}return xm}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new tn(e.name,h))),p.insert(e,e.node)}});return new oc(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,F.UI)(this.indexes_,r=>{if(r===xm)return r;{const s=t.get(e.name);return s?r.remove(new tn(e.name,s)):r}});return new oc(i,this.indexSet_)}}let tb,Gt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZW(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tb||(tb=new n(new ms(qP),null,oc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tb}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?tb:i}}getChild(t){const i=Qt(t);return null===i?this:this.getImmediateChild(i).getChild(Nn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new tn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?tb:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=Qt(t);if(null===r)return i;{(0,F.hu)(".priority"!==Qt(t)||1===Zu(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Nn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Pn,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+YW(this.getPriority().val())+":"),this.forEachChild(Pn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":uW(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new tn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new tn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new tn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===nb?-1:0}withIndex(t){if(t===Ua||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ua||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Pn),s=i.getIterator(Pn);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===Ua?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const nb=new class Yee extends Gt{constructor(){super(new ms(qP),Gt.EMPTY_NODE,oc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Gt.EMPTY_NODE}isEmpty(){return!1}};function oi(n,e=null){if(null===n)return Gt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,F.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Om(n,oi(e));if(n instanceof Array){let t=Gt.EMPTY_NODE;return nr(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=oi(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(oi(e))}{const t=[];let i=!1;if(nr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=oi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new tn(c,p)))}}),0===t.length)return Gt.EMPTY_NODE;const s=dI(t,Hee,c=>c.name,qP);if(i){const c=dI(t,Pn.getCompare());return new Gt(s,oi(e),new oc({".priority":c},{".priority":Pn}))}return new Gt(s,oi(e),oc.Default)}}Object.defineProperties(tn,{MIN:{value:new tn(qu,Gt.EMPTY_NODE)},MAX:{value:new tn(sc,nb)}}),qW.__EMPTY_NODE=Gt.EMPTY_NODE,Om.__childrenNodeConstructor=Gt,function Gee(n){YP=n}(nb),function zee(n){XW=n}(nb),function $ee(n){JW=n}(oi);class QP extends lI{constructor(e){super(),this.indexPath_=e,(0,F.hu)(!Jt(e)&&".priority"!==Qt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Bf(e.name,t.name):s}makePost(e,t){const i=oi(e),r=Gt.EMPTY_NODE.updateChild(this.indexPath_,i);return new tn(t,r)}maxPost(){const e=Gt.EMPTY_NODE.updateChild(this.indexPath_,nb);return new tn(sc,e)}toString(){return X0(this.indexPath_,0).join("/")}}const JP=new class Qee extends lI{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Bf(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(e,t){const i=oi(e);return new tn(t,i)}toString(){return".value"}};function e3(n){return{type:"value",snapshotNode:n}}function Rm(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function ib(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rb(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class XP{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,F.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(ib(t,h)):(0,F.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Rm(t,i)):c.trackChildChange(rb(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Pn,(r,s)=>{t.hasChild(r)||i.trackChildChange(ib(r,s))}),t.isLeafNode()||t.forEachChild(Pn,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(rb(r,s,c))}else i.trackChildChange(Rm(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Gt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sb{constructor(e){this.indexedFilter_=new XP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sb.getStartPost_(e),this.endPost_=sb.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,c){return this.matches(new tn(t,i))||(i=Gt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Gt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Gt.EMPTY_NODE);const s=this;return t.forEachChild(Pn,(c,h)=>{s.matches(new tn(c,h))||(r=r.updateImmediateChild(c,Gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Xee{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new sb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new tn(t,i))||(i=Gt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Gt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(Gt.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const h=s.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,Gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const C=this.index_.getCompare();c=(N,x)=>C(x,N)}else c=this.index_.getCompare();const h=e;(0,F.hu)(h.numChildren()===this.limit_,"");const p=new tn(t,i),_=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(h.hasChild(t)){const C=h.getImmediateChild(t);let N=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=N&&(N.name===t||h.hasChild(N.name));)N=r.getChildAfterChild(this.index_,N,this.reverse_);const x=null==N?1:c(N,p);if(b&&!i.isEmpty()&&x>=0)return s?.trackChildChange(rb(t,i,C)),h.updateImmediateChild(t,i);{s?.trackChildChange(ib(t,C));const j=h.updateImmediateChild(t,Gt.EMPTY_NODE);return null!=N&&this.rangedFilter_.matches(N)?(s?.trackChildChange(Rm(N.name,N.node)),j.updateImmediateChild(N.name,N.node)):j}}return i.isEmpty()?e:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(ib(_.name,_.node)),s.trackChildChange(Rm(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(_.name,Gt.EMPTY_NODE)):e}}class hI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const e=new hI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eF(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function tF(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function fI(n,e){const t=n.copy();return t.index_=e,t}function t3(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Pn?t="$priority":n.index_===JP?t="$value":n.index_===Ua?t="$key":((0,F.hu)(n.index_ instanceof QP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,F.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function n3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Pn&&(e.i=n.index_.toString()),e}class pI extends UW{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Y0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,F.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=pI.getListenId_(e,i),h={};this.listens_[c]=h;const p=t3(e._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let C=b;if(404===_&&(C=null,_=null),null===_&&this.onDataUpdate_(s,C,!1,i),(0,F.DV)(this.listens_,c)===h){let N;N=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(N,null)}})}unlisten(e,t){const i=pI.getListenId_(e,t);delete this.listens_[i]}get(e){const t=t3(e._queryParams),i=e._path.toString(),r=new F.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,F.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,F.cI)(h.responseText)}catch{Nr("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Nr("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class ste{constructor(){this.rootNode_=Gt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function gI(){return{value:null,children:new Map}}function km(n,e,t){if(Jt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Qt(e);n.children.has(i)||n.children.set(i,gI()),km(n.children.get(i),e=Nn(e),t)}}function nF(n,e){if(Jt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Pn,(i,r)=>{km(n,new yn(i),r)}),nF(n,e)}}if(n.children.size>0){const t=Qt(e);return e=Nn(e),n.children.has(t)&&nF(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function iF(n,e,t){null!==n.value?t(e,n.value):function ote(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{iF(r,new yn(e.toString()+"/"+i),t)})}class ate{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class ute{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ate(e);const i=1e4+2e4*Math.random();Q0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;nr(e,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Q0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var po=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(po||(po={})),po))();function oF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class mI{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=po.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new yn(e));return new mI(pn(),t,this.revert)}}return(0,F.hu)(Qt(this.path)===e,"operationForChild called for unrelated child."),new mI(Nn(this.path),this.affectedTree,this.revert)}}class ob{constructor(e,t){this.source=e,this.path=t,this.type=po.LISTEN_COMPLETE}operationForChild(e){return Jt(this.path)?new ob(this.source,pn()):new ob(this.source,Nn(this.path))}}class Hf{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=po.OVERWRITE}operationForChild(e){return Jt(this.path)?new Hf(this.source,pn(),this.snap.getImmediateChild(e)):new Hf(this.source,Nn(this.path),this.snap)}}class Pm{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=po.MERGE}operationForChild(e){if(Jt(this.path)){const t=this.children.subtree(new yn(e));return t.isEmpty()?null:t.value?new Hf(this.source,pn(),t.value):new Pm(this.source,pn(),t)}return(0,F.hu)(Qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pm(this.source,Nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Qu{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Jt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Qt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class dte{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ab(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function pte(n,e,t){if(null==e.childName||null==t.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new tn(e.childName,e.snapshotNode),r=new tn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function fte(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(_=>{_.respondsTo(h.type)&&e.push(_.createEvent(p,n.query_))})})}function _I(n,e){return{eventCache:n,serverCache:e}}function lb(n,e,t,i){return _I(new Qu(e,t,i),n.serverCache)}function s3(n,e,t,i){return _I(n.eventCache,new Qu(e,t,i))}function yI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Gf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aF;class Fn{constructor(e,t=(()=>(aF||(aF=new ms(JX)),aF))()){this.value=e,this.children=t}static fromObject(e){let t=new Fn(null);return nr(e,(i,r)=>{t=t.set(new yn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:pn(),value:this.value};if(Jt(e))return null;{const i=Qt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Nn(e),t);return null!=s?{path:Jn(new yn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Jt(e))return this;{const t=Qt(e),i=this.children.get(t);return null!==i?i.subtree(Nn(e)):new Fn(null)}}set(e,t){if(Jt(e))return new Fn(t,this.children);{const i=Qt(e),s=(this.children.get(i)||new Fn(null)).set(Nn(e),t),c=this.children.insert(i,s);return new Fn(this.value,c)}}remove(e){if(Jt(e))return this.children.isEmpty()?new Fn(null):new Fn(null,this.children);{const t=Qt(e),i=this.children.get(t);if(i){const r=i.remove(Nn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Fn(null):new Fn(this.value,s)}return this}}get(e){if(Jt(e))return this.value;{const t=Qt(e),i=this.children.get(t);return i?i.get(Nn(e)):null}}setTree(e,t){if(Jt(e))return t;{const i=Qt(e),s=(this.children.get(i)||new Fn(null)).setTree(Nn(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Fn(this.value,c)}}fold(e){return this.fold_(pn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Jn(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,pn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Jt(e))return null;{const s=Qt(e),c=this.children.get(s);return c?c.findOnPath_(Nn(e),Jn(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,pn(),t)}foreachOnPath_(e,t,i){if(Jt(e))return this;{this.value&&i(t,this.value);const r=Qt(e),s=this.children.get(r);return s?s.foreachOnPath_(Nn(e),Jn(t,r),i):new Fn(null)}}foreach(e){this.foreach_(pn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Jn(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class qo{constructor(e){this.writeTree_=e}static empty(){return new qo(new Fn(null))}}function cb(n,e,t){if(Jt(e))return new qo(new Fn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=Xr(r,e);return s=s.updateChild(c,t),new qo(n.writeTree_.set(r,s))}{const r=new Fn(t),s=n.writeTree_.setTree(e,r);return new qo(s)}}}function lF(n,e,t){let i=n;return nr(t,(r,s)=>{i=cb(i,Jn(e,r),s)}),i}function o3(n,e){if(Jt(e))return qo.empty();{const t=n.writeTree_.setTree(e,new Fn(null));return new qo(t)}}function cF(n,e){return null!=$f(n,e)}function $f(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Xr(t.path,e)):null}function a3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Pn,(i,r)=>{e.push(new tn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new tn(i,r.value))}),e}function Ju(n,e){if(Jt(e))return n;{const t=$f(n,e);return new qo(null!=t?new Fn(t):n.writeTree_.subtree(e))}}function uF(n){return n.writeTree_.isEmpty()}function Fm(n,e){return l3(pn(),n.writeTree_,e)}function l3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=l3(Jn(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Jn(n,".priority"),i)),t}}function vI(n,e){return f3(e,n)}function bte(n,e){if(n.snap)return fo(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&fo(Jn(n.path,t),e))return!0;return!1}function Ete(n){return n.visible}function c3(n,e,t){let i=qo.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)fo(t,c)?(h=Xr(t,c),i=cb(i,h,s.snap)):fo(c,t)&&(h=Xr(c,t),i=cb(i,pn(),s.snap.getChild(h)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(fo(t,c))h=Xr(t,c),i=lF(i,h,s.children);else if(fo(c,t))if(h=Xr(c,t),Jt(h))i=lF(i,pn(),s.children);else{const p=(0,F.DV)(s.children,Qt(h));if(p){const _=p.getChild(Nn(h));i=cb(i,pn(),_)}}}}}return i}function u3(n,e,t,i,r){if(i||r){const s=Ju(n.visibleWrites,e);return!r&&uF(s)?t:r||null!=t||cF(s,pn())?Fm(c3(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(fo(_.path,e)||fo(e,_.path))},e),t||Gt.EMPTY_NODE):null}{const s=$f(n.visibleWrites,e);if(null!=s)return s;{const c=Ju(n.visibleWrites,e);return uF(c)?t:null!=t||cF(c,pn())?Fm(c,t||Gt.EMPTY_NODE):null}}}function bI(n,e,t,i){return u3(n.writeTree,n.treePath,e,t,i)}function dF(n,e){return function Dte(n,e,t){let i=Gt.EMPTY_NODE;const r=$f(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Pn,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Ju(n.visibleWrites,e);return t.forEachChild(Pn,(c,h)=>{const p=Fm(Ju(s,new yn(c)),h);i=i.updateImmediateChild(c,p)}),a3(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return a3(Ju(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function d3(n,e,t,i){return function Cte(n,e,t,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Jn(e,t);if(cF(n.visibleWrites,s))return null;{const c=Ju(n.visibleWrites,s);return uF(c)?r.getChild(t):Fm(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function wI(n,e){return function Ite(n,e){return $f(n.visibleWrites,e)}(n.writeTree,Jn(n.treePath,e))}function hF(n,e,t){return function Tte(n,e,t,i){const r=Jn(e,t),s=$f(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?Fm(Ju(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function h3(n,e){return f3(Jn(n.treePath,e),n.writeTree)}function f3(n,e){return{treePath:n,writeTree:e}}class Mte{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,F.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,rb(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,ib(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Rm(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,rb(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const p3=new class Ote{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class fF{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Qu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hF(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gf(this.viewCache_),s=function Nte(n,e,t,i,r,s){return function Ste(n,e,t,i,r,s,c){let h;const p=Ju(n.visibleWrites,e),_=$f(p,pn());if(null!=_)h=_;else{if(null==t)return[];h=Fm(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const b=[],C=c.getCompare(),N=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let x=N.getNext();for(;x&&b.length<r;)0!==C(x,i)&&b.push(x),x=N.getNext();return b}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function g3(n,e,t,i,r,s){const c=e.eventCache;if(null!=wI(i,t))return e;{let h,p;if(Jt(t))if((0,F.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Gf(e),C=dF(i,_ instanceof Gt?_:Gt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),C,s)}else{const _=bI(i,Gf(e));h=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const _=Qt(t);if(".priority"===_){(0,F.hu)(1===Zu(t),"Can't have a priority with additional path components");const b=c.getNode();p=e.serverCache.getNode();const C=d3(i,t,b,p);h=null!=C?n.filter.updatePriority(b,C):c.getNode()}else{const b=Nn(t);let C;if(c.isCompleteForChild(_)){p=e.serverCache.getNode();const N=d3(i,t,c.getNode(),p);C=null!=N?c.getNode().getImmediateChild(_).updateChild(b,N):c.getNode().getImmediateChild(_)}else C=hF(i,_,e.serverCache);h=null!=C?n.filter.updateChild(c.getNode(),_,C,b,r,s):c.getNode()}}return lb(e,h,c.isFullyInitialized()||Jt(t),n.filter.filtersNodes())}}function EI(n,e,t,i,r,s,c,h){const p=e.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(Jt(t))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(t,i);_=b.updateFullNode(p.getNode(),x,null)}else{const x=Qt(t);if(!p.isCompleteForPath(t)&&Zu(t)>1)return e;const V=Nn(t),J=p.getNode().getImmediateChild(x).updateChild(V,i);_=".priority"===x?b.updatePriority(p.getNode(),J):b.updateChild(p.getNode(),x,J,V,p3,null)}const C=s3(e,_,p.isFullyInitialized()||Jt(t),b.filtersNodes());return g3(n,C,t,r,new fF(r,C,s),h)}function pF(n,e,t,i,r,s,c){const h=e.eventCache;let p,_;const b=new fF(r,e,s);if(Jt(t))_=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=lb(e,_,!0,n.filter.filtersNodes());else{const C=Qt(t);if(".priority"===C)_=n.filter.updatePriority(e.eventCache.getNode(),i),p=lb(e,_,h.isFullyInitialized(),h.isFiltered());else{const N=Nn(t),x=h.getNode().getImmediateChild(C);let V;if(Jt(N))V=i;else{const j=b.getCompleteChild(C);V=null!=j?".priority"===zP(N)&&j.getChild($W(N)).isEmpty()?j:j.updateChild(N,i):Gt.EMPTY_NODE}p=x.equals(V)?e:lb(e,n.filter.updateChild(h.getNode(),C,V,N,b,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function m3(n,e){return n.eventCache.isCompleteForChild(e)}function _3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function gF(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,p=e;_=Jt(t)?i:new Fn(null).setTree(t,i);const b=e.serverCache.getNode();return _.children.inorderTraversal((C,N)=>{if(b.hasChild(C)){const V=_3(0,e.serverCache.getNode().getImmediateChild(C),N);p=EI(n,p,new yn(C),V,r,s,c,h)}}),_.children.inorderTraversal((C,N)=>{const x=!e.serverCache.isCompleteForChild(C)&&null===N.value;if(!b.hasChild(C)&&!x){const j=_3(0,e.serverCache.getNode().getImmediateChild(C),N);p=EI(n,p,new yn(C),j,r,s,c,h)}}),p}class Ute{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new XP(i.getIndex()),s=function ete(n){return n.loadsAllData()?new XP(n.getIndex()):n.hasLimit()?new Xee(n):new sb(n)}(i);this.processor_=function xte(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Gt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Gt.EMPTY_NODE,h.getNode(),null),b=new Qu(p,c.isFullyInitialized(),r.filtersNodes()),C=new Qu(_,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=_I(C,b),this.eventGenerator_=new dte(this.query_)}get query(){return this.query_}}function Gte(n,e){const t=Gf(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Jt(e)&&!t.getImmediateChild(Qt(e)).isEmpty())?t.getChild(e):null}function y3(n){return 0===n.eventRegistrations_.length}function v3(n,e,t){const i=[];if(t){(0,F.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function b3(n,e,t,i){e.type===po.MERGE&&null!==e.source.queryId&&((0,F.hu)(Gf(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(yI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function kte(n,e,t,i,r){const s=new Mte;let c,h;if(t.type===po.OVERWRITE){const _=t;_.source.fromUser?c=pF(n,e,_.path,_.snap,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered()&&!Jt(_.path),c=EI(n,e,_.path,_.snap,i,r,h,s))}else if(t.type===po.MERGE){const _=t;_.source.fromUser?c=function Fte(n,e,t,i,r,s,c){let h=e;return i.foreach((p,_)=>{const b=Jn(t,p);m3(e,Qt(b))&&(h=pF(n,h,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Jn(t,p);m3(e,Qt(b))||(h=pF(n,h,b,_,r,s,c))}),h}(n,e,_.path,_.children,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),h=_.source.tagged||e.serverCache.isFiltered(),c=gF(n,e,_.path,_.children,i,r,h,s))}else if(t.type===po.ACK_USER_WRITE){const _=t;c=_.revert?function Bte(n,e,t,i,r,s){let c;if(null!=wI(i,t))return e;{const h=new fF(i,e,r),p=e.eventCache.getNode();let _;if(Jt(t)||".priority"===Qt(t)){let b;if(e.serverCache.isFullyInitialized())b=bI(i,Gf(e));else{const C=e.serverCache.getNode();(0,F.hu)(C instanceof Gt,"serverChildren would be complete if leaf node"),b=dF(i,C)}_=n.filter.updateFullNode(p,b,s)}else{const b=Qt(t);let C=hF(i,b,e.serverCache);null==C&&e.serverCache.isCompleteForChild(b)&&(C=p.getImmediateChild(b)),_=null!=C?n.filter.updateChild(p,b,C,Nn(t),h,s):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Gt.EMPTY_NODE,Nn(t),h,s):p,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=bI(i,Gf(e)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=wI(i,pn()),lb(e,_,c,n.filter.filtersNodes())}}(n,e,_.path,i,r,s):function Lte(n,e,t,i,r,s,c){if(null!=wI(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Jt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return EI(n,e,t,p.getNode().getChild(t),r,s,h,c);if(Jt(t)){let _=new Fn(null);return p.getNode().forEachChild(Ua,(b,C)=>{_=_.set(new yn(b),C)}),gF(n,e,t,_,r,s,h,c)}return e}{let _=new Fn(null);return i.foreach((b,C)=>{const N=Jn(t,b);p.isCompleteForPath(N)&&(_=_.set(b,p.getNode().getChild(N)))}),gF(n,e,t,_,r,s,h,c)}}(n,e,_.path,_.affectedTree,i,r,s)}else{if(t.type!==po.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+t.type);c=function Vte(n,e,t,i,r){const s=e.serverCache;return g3(n,s3(e,s.getNode(),s.isFullyInitialized()||Jt(t),s.isFiltered()),t,i,p3,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function Pte(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=yI(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(e3(yI(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function Rte(n,e){(0,F.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,w3(n,s.changes,s.viewCache.eventCache.getNode(),null)}function w3(n,e,t,i){return function hte(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function Jee(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),ab(n,r,"child_removed",e,i,t),ab(n,r,"child_added",e,i,t),ab(n,r,"child_moved",s,i,t),ab(n,r,"child_changed",e,i,t),ab(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let DI,TI;class E3{constructor(){this.views=new Map}}function mF(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),b3(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(b3(c,e,t,i));return s}}function D3(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=bI(t,r?i:null),p=!1;h?p=!0:i instanceof Gt?(h=dF(t,i),p=!1):(h=Gt.EMPTY_NODE,p=!1);const _=_I(new Qu(h,p,!1),new Qu(i,r,!1));return new Ute(e,_)}return c}function C3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Xu(n,e){let t=null;for(const i of n.views.values())t=t||Gte(i,e);return t}function T3(n,e){return e._queryParams.loadsAllData()?CI(n):n.views.get(e._queryIdentifier)}function I3(n,e){return null!=T3(n,e)}function ed(n){return null!=CI(n)}function CI(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Xte=1;class S3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fn(null),this.pendingWriteTree_=function Ate(){return{visibleWrites:qo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _F(n,e,t,i,r){return function mte(n,e,t,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=cb(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Lm(n,new Hf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function td(n,e,t=!1){const i=function yte(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function vte(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,F.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&bte(h,i.path)?r=!1:fo(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function wte(n){n.visibleWrites=c3(n.allWrites,Ete,pn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=o3(n.visibleWrites,i.path):nr(i.children,p=>{n.visibleWrites=o3(n.visibleWrites,Jn(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Fn(null);return null!=i.snap?s=s.set(pn(),!0):nr(i.children,c=>{s=s.set(new yn(c),!0)}),Lm(n,new mI(i.path,s,t))}return[]}function ub(n,e,t){return Lm(n,new Hf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function II(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let h=[];if(c&&("default"===e._queryIdentifier||I3(c,e))){const p=function Zte(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=ed(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(v3(_,t,i)),y3(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(v3(p,t,i)),y3(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!ed(n)&&s.push(new(function Kte(){return(0,F.hu)(DI,"Reference.ts has not been loaded"),DI}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function qte(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(h=p.events,!r){const b=-1!==_.findIndex(N=>N._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(s,(N,x)=>ed(x));if(b&&!C){const N=n.syncPointTree_.subtree(s);if(!N.isEmpty()){const x=function one(n){return n.fold((e,t,i)=>{if(t&&ed(t))return[CI(t)];{let r=[];return t&&(r=C3(t)),nr(i,(s,c)=>{r=r.concat(c)}),r}})}(N);for(let V=0;V<x.length;++V){const j=x[V],J=j.query,le=O3(n,j);n.listenProvider_.startListening(hb(J),db(n,J),le.hashFn,le.onComplete)}}}!C&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(hb(e),null):_.forEach(N=>{const x=n.queryToTagMap.get(AI(N));n.listenProvider_.stopListening(hb(N),x)}))}!function ane(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=AI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return h}function A3(n,e,t,i){const r=vF(n,i);if(null!=r){const s=bF(r),c=s.path,h=s.queryId,p=Xr(c,e);return wF(n,c,new Hf(oF(h),p,t))}return[]}function yF(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(N,x)=>{const V=Xr(N,r);s=s||Xu(x,V),c=c||ed(x)});let p,h=n.syncPointTree_.get(r);h?(c=c||ed(h),s=s||Xu(h,pn())):(h=new E3,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?p=!0:(p=!1,s=Gt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((x,V)=>{const j=Xu(V,pn());j&&(s=s.updateImmediateChild(x,j))}));const _=I3(h,e);if(!_&&!e._queryParams.loadsAllData()){const N=AI(e);(0,F.hu)(!n.queryToTagMap.has(N),"View does not exist, but we have a tag");const x=function lne(){return Xte++}();n.queryToTagMap.set(N,x),n.tagToQueryMap.set(x,N)}let C=function Yte(n,e,t,i,r,s){const c=D3(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function $te(n,e){n.eventRegistrations_.push(e)}(c,t),function zte(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Pn,(s,c)=>{i.push(Rm(s,c))}),t.isFullyInitialized()&&i.push(e3(t.getNode())),w3(n,i,t.getNode(),e)}(c,t)}(h,e,t,vI(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const N=T3(h,e);C=C.concat(function cne(n,e,t){const i=e._path,r=db(n,e),s=O3(n,t),c=n.listenProvider_.startListening(hb(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!ed(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((_,b,C)=>{if(!Jt(_)&&b&&ed(b))return[CI(b).query];{let N=[];return b&&(N=N.concat(C3(b).map(x=>x.query))),nr(C,(x,V)=>{N=N.concat(V)}),N}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(hb(b),db(n,b))}}return c}(n,e,N))}return C}function SI(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const _=Xu(h,Xr(c,e));if(_)return _});return u3(r,e,s,t,!0)}function Lm(n,e){return N3(e,n.syncPointTree_,null,vI(n.pendingWriteTree_,pn()))}function N3(n,e,t,i){if(Jt(n.path))return M3(n,e,t,i);{const r=e.get(pn());null==t&&null!=r&&(t=Xu(r,pn()));let s=[];const c=Qt(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const _=t?t.getImmediateChild(c):null,b=h3(i,c);s=s.concat(N3(h,p,_,b))}return r&&(s=s.concat(mF(r,n,i,t))),s}}function M3(n,e,t,i){const r=e.get(pn());null==t&&null!=r&&(t=Xu(r,pn()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,_=h3(i,c),b=n.operationForChild(c);b&&(s=s.concat(M3(b,h,p,_)))}),r&&(s=s.concat(mF(r,n,i,t))),s}function O3(n,e){const t=e.query,i=db(n,t);return{hashFn:()=>(function jte(n){return n.viewCache_.serverCache.getNode()}(e)||Gt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function ine(n,e,t){const i=vF(n,t);if(i){const r=bF(i),s=r.path,c=r.queryId,h=Xr(s,e);return wF(n,s,new ob(oF(c),h))}return[]}(n,t._path,i):function nne(n,e){return Lm(n,new ob({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function tee(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return II(n,t,null,s)}}}}function db(n,e){const t=AI(e);return n.queryToTagMap.get(t)}function AI(n){return n._path.toString()+"$"+n._queryIdentifier}function vF(n,e){return n.tagToQueryMap.get(e)}function bF(n){const e=n.indexOf("$");return(0,F.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new yn(n.substr(0,e))}}function wF(n,e,t){const i=n.syncPointTree_.get(e);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),mF(i,t,vI(n.pendingWriteTree_,e),null)}function hb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Jte(){return(0,F.hu)(TI,"Reference.ts has not been loaded"),TI}())(n._repo,n._path):n}class EF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new EF(t)}node(){return this.node_}}class DF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Jn(this.path_,e);return new DF(this.syncTree_,t)}node(){return SI(this.syncTree_,this.path_)}}const x3=function(n,e,t){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?dne(n[".sv"],e,t):"object"==typeof n[".sv"]?hne(n[".sv"],e):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},dne=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},hne=function(n,e,t){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},R3=function(n,e,t,i){return TF(e,new DF(t,n),i)},CF=function(n,e,t){return TF(n,new EF(e),t)};function TF(n,e,t){const i=n.getPriority().val(),r=x3(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=x3(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new Om(h,oi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Om(r))),c.forEachChild(Pn,(h,p)=>{const _=TF(p,e.getImmediateChild(h),t);_!==p&&(s=s.updateImmediateChild(h,_))}),s}}class IF{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function NI(n,e){let t=e instanceof yn?e:new yn(e),i=n,r=Qt(t);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new IF(r,i,s),t=Nn(t),r=Qt(t)}return i}function zf(n){return n.node.value}function SF(n,e){n.node.value=e,AF(n)}function k3(n){return n.node.childCount>0}function MI(n,e){nr(n.node.children,(t,i)=>{e(new IF(t,n,i))})}function P3(n,e,t,i){t&&!i&&e(n),MI(n,r=>{P3(r,e,!0,i)}),t&&i&&e(n)}function fb(n){return new yn(null===n.parent?n.name:fb(n.parent)+"/"+n.name)}function AF(n){null!==n.parent&&function gne(n,e,t){const i=function fne(n){return void 0===zf(n)&&!k3(n)}(t),r=(0,F.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,AF(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,AF(n))}(n.parent,n.name,n)}const mne=/[\[\].#$\/\u0000-\u001F\u007F]/,_ne=/[\[\].#$\u0000-\u001F\u007F]/,NF=10485760,OI=function(n){return"string"==typeof n&&0!==n.length&&!mne.test(n)},F3=function(n){return"string"==typeof n&&0!==n.length&&!_ne.test(n)},pb=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!rI(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},ja=function(n,e,t,i){i&&void 0===e||gb((0,F.gK)(n,"value"),e,t)},gb=function(n,e,t){const i=t instanceof yn?new kee(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Uf(i));if("function"==typeof e)throw new Error(n+"contains a function "+Uf(i)+" with contents = "+e.toString());if(rI(e))throw new Error(n+"contains "+e.toString()+" "+Uf(i));if("string"==typeof e&&e.length>NF/3&&(0,F.ug)(e)>NF)throw new Error(n+"contains a string greater than "+NF+" utf8 bytes "+Uf(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(nr(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!OI(c)))throw new Error(n+" contains an invalid key ("+c+") "+Uf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pee(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,F.ug)(e),zW(n)})(i,c),gb(n,h,i),function Fee(n){const e=n.parts_.pop();n.byteLength_-=(0,F.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Uf(i)+" in addition to actual children.")}},L3=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,F.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];nr(e,(c,h)=>{const p=new yn(c);if(gb(r,h,Jn(t,p)),".priority"===zP(p)&&!pb(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=X0(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!OI(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ree);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&fo(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},MF=function(n,e,t){if(!t||void 0!==e){if(rI(e))throw new Error((0,F.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pb(e))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mb=function(n,e,t,i){if(!(i&&void 0===t||OI(t)))throw new Error((0,F.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_b=function(n,e,t,i){if(!(i&&void 0===t||F3(t)))throw new Error((0,F.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},go=function(n,e){if(".info"===Qt(e))throw new Error(n+" failed = Can't modify data under /.info/")},V3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!OI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),F3(n)}(t))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xI(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!WP(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function B3(n,e,t){xI(n,t),U3(n,i=>WP(i,e))}function Ws(n,e,t){xI(n,t),U3(n,i=>fo(i,e)||fo(e,i))}function U3(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Ene(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Ene(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Vf&&tr("event: "+t.toString()),Nm(i)}}}const j3="repo_interrupt";class Cne{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gI(),this.transactionQueueTree_=new IF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function H3(n){const t=n.infoData_.getNode(new yn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function yb(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:H3(n)})}function G3(n,e,t,i,r){n.dataUpdateCount++;const s=new yn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,F.UI)(t,_=>oi(_));c=function rne(n,e,t,i){const r=vF(n,i);if(r){const s=bF(r),c=s.path,h=s.queryId,p=Xr(c,e),_=Fn.fromObject(t);return wF(n,c,new Pm(oF(h),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=oi(t);c=A3(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(t,_=>oi(_));c=function tne(n,e,t){const i=Fn.fromObject(t);return Lm(n,new Pm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=oi(t);c=ub(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=Bm(n,s)),Ws(n.eventQueue_,h,c)}function $3(n,e){OF(n,"connected",e),!1===e&&function Nne(n){Vm(n,"onDisconnectEvents");const e=yb(n),t=gI();iF(n.onDisconnect_,pn(),(r,s)=>{const c=R3(r,s,n.serverSyncTree_,e);km(t,r,c)});let i=[];iF(t,pn(),(r,s)=>{i=i.concat(ub(n.serverSyncTree_,r,s));const c=PF(n,r);Bm(n,c)}),n.onDisconnect_=gI(),Ws(n.eventQueue_,pn(),i)}(n)}function OF(n,e,t){const i=new yn("/.info/"+e),r=oi(t);n.infoData_.updateSnapshot(i,r);const s=ub(n.infoSyncTree_,i,r);Ws(n.eventQueue_,i,s)}function RI(n){return n.nextWriteId_++}function xF(n,e,t,i,r){Vm(n,"set",{path:e.toString(),value:t,priority:i});const s=yb(n),c=oi(t,i),h=SI(n.serverSyncTree_,e),p=CF(c,h,s),_=RI(n),b=_F(n.serverSyncTree_,e,p,_,!0);xI(n.eventQueue_,b),n.server_.put(e.toString(),c.val(!0),(N,x)=>{const V="ok"===N;V||Nr("set at "+e+" failed: "+N);const j=td(n.serverSyncTree_,_,!V);Ws(n.eventQueue_,e,j),nd(0,r,N,x)});const C=PF(n,e);Bm(n,C),Ws(n.eventQueue_,C,[])}function Mne(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&nF(n.onDisconnect_,e),nd(0,t,i,r)})}function z3(n,e,t,i){const r=oi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&km(n.onDisconnect_,e,r),nd(0,i,s,c)})}function RF(n,e,t){let i;i=".info"===Qt(e._path)?II(n.infoSyncTree_,e,t):II(n.serverSyncTree_,e,t),B3(n.eventQueue_,e._path,i)}function W3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(j3)}function Vm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),tr(t,...e)}function nd(n,e,t,i){e&&Nm(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function kF(n,e,t){return SI(n.serverSyncTree_,e,t)||Gt.EMPTY_NODE}function kI(n,e=n.transactionQueueTree_){if(e||PI(n,e),zf(e)){const t=q3(n,e);(0,F.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Fne(n,e,t){const i=t.map(_=>_.currentWriteId),r=kF(n,e,i);let s=r;const c=r.hash();for(let _=0;_<t.length;_++){const b=t[_];(0,F.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const C=Xr(e,b.path);s=s.updateChild(C,b.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,_=>{Vm(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const C=[];for(let N=0;N<t.length;N++)t[N].status=2,b=b.concat(td(n.serverSyncTree_,t[N].currentWriteId)),t[N].onComplete&&C.push(()=>t[N].onComplete(null,!0,t[N].currentOutputSnapshotResolved)),t[N].unwatcher();PI(n,NI(n.transactionQueueTree_,e)),kI(n,n.transactionQueueTree_),Ws(n.eventQueue_,e,b);for(let N=0;N<C.length;N++)Nm(C[N])}else{if("datastale"===_)for(let C=0;C<t.length;C++)t[C].status=3===t[C].status?4:0;else{Nr("transaction at "+p.toString()+" failed: "+_);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=_}Bm(n,e)}},c)}(n,fb(e),t)}else k3(e)&&MI(e,t=>{kI(n,t)})}function Bm(n,e){const t=K3(n,e),i=fb(t);return function Lne(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],_=Xr(t,p.path);let C,b=!1;if((0,F.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,C=p.abortReason,r=r.concat(td(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,C="maxretry",r=r.concat(td(n.serverSyncTree_,p.currentWriteId,!0));else{const N=kF(n,p.path,c);p.currentInputSnapshot=N;const x=e[h].update(N.val());if(void 0!==x){gb("transaction failed: Data returned ",x,p.path);let V=oi(x);"object"==typeof x&&null!=x&&(0,F.r3)(x,".priority")||(V=V.updatePriority(N.getPriority()));const J=p.currentWriteId,le=yb(n),we=CF(V,N,le);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=we,p.currentWriteId=RI(n),c.splice(c.indexOf(J),1),r=r.concat(_F(n.serverSyncTree_,p.path,we,p.currentWriteId,p.applyLocally)),r=r.concat(td(n.serverSyncTree_,J,!0))}else b=!0,C="nodata",r=r.concat(td(n.serverSyncTree_,p.currentWriteId,!0))}Ws(n.eventQueue_,t,r),r=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===C?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(C),!1,null)))}PI(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Nm(i[h]);kI(n,n.transactionQueueTree_)}(n,q3(n,t),i),i}function K3(n,e){let t,i=n.transactionQueueTree_;for(t=Qt(e);null!==t&&void 0===zf(i);)i=NI(i,t),t=Qt(e=Nn(e));return i}function q3(n,e){const t=[];return Y3(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Y3(n,e,t){const i=zf(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);MI(e,r=>{Y3(n,r,t)})}function PI(n,e){const t=zf(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,SF(e,t.length>0?t:void 0)}MI(e,i=>{PI(n,i)})}function PF(n,e){const t=fb(K3(n,e)),i=NI(n.transactionQueueTree_,e);return function pne(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{FF(n,r)}),FF(n,i),P3(i,r=>{FF(n,r)}),t}function FF(n,e){const t=zf(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,F.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,F.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(td(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?SF(e,void 0):t.length=s+1,Ws(n.eventQueue_,fb(e),r);for(let c=0;c<i.length;c++)Nm(i[c])}}const LF=function(n,e){const t=Une(n),i=t.namespace;return"firebase.com"===t.domain&&Ba(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ba("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new yn(t.pathString)}},Une=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(h=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),e=n.substring(0,Math.min(b,C)),b<C&&(r=function Vne(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(b,C)));const N=function Bne(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Nr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,C)));_=e.indexOf(":"),_>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(_+1),10)):_=e.length;const x=e.slice(0,_);if("localhost"===x.toLowerCase())t="localhost";else if(x.split(".").length<=2)t=x;else{const V=e.indexOf(".");i=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=i}"ns"in N&&(s=N.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}},Z3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",jne=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Z3.charAt(t%64),t=Math.floor(t/64);(0,F.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Z3.charAt(e[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class Q3{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class J3{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class X3{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new F.BH;return Mne(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){go("OnDisconnect.remove",this._path);const e=new F.BH;return z3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){go("OnDisconnect.set",this._path),ja("OnDisconnect.set",e,this._path,!1);const t=new F.BH;return z3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){go("OnDisconnect.setWithPriority",this._path),ja("OnDisconnect.setWithPriority",e,this._path,!1),MF("OnDisconnect.setWithPriority",t,!1);const i=new F.BH;return function One(n,e,t,i,r){const s=oi(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&km(n.onDisconnect_,e,s),nd(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){go("OnDisconnect.update",this._path),L3("OnDisconnect.update",e,this._path,!1);const t=new F.BH;return function xne(n,e,t,i){if((0,F.xb)(t))return tr("onDisconnect().update() called with empty data.  Don't do anything."),void nd(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&nr(t,(c,h)=>{const p=oi(h);km(n.onDisconnect_,Jn(e,c),p)}),nd(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class _s{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:zP(this._path)}get ref(){return new mo(this._repo,this._path)}get _queryIdentifier(){const e=n3(this._queryParams),t=LP(e);return"{}"===t?"default":t}get _queryObject(){return n3(this._queryParams)}isEqual(e){if(!((e=(0,F.m9)(e))instanceof _s))return!1;const t=this._repo===e._repo,i=WP(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function xee(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function FI(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function id(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ua){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==qu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==sc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Pn){if(null!=e&&!pb(e)||null!=t&&!pb(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof QP||n.getIndex()===JP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function LI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class mo extends _s{constructor(e,t){super(e,t,new hI,!1)}get parent(){const e=$W(this._path);return null===e?null:new mo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Wf{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new yn(e),i=Kf(this.ref,e);return new Wf(this._node.getChild(t),i,Pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Wf(r,Kf(this.ref,i),Pn)))}hasChild(e){const t=new yn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function e8(n,e){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==e?Kf(n._root,e):n._root}function t8(n,e){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const t=LF(e,n._repo.repoInfo_.nodeAdmin);V3("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Ba("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),e8(n,t.path.toString())}function Kf(n,e){return null===Qt((n=(0,F.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_b("child","path",t,!1)):_b("child","path",e,!1),new mo(n._repo,Jn(n._path,e));var t}function BF(n,e){n=(0,F.m9)(n),go("set",n._path),ja("set",e,n._path,!1);const t=new F.BH;return xF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Wne(n,e){L3("update",e,n._path,!1);const t=new F.BH;return function Ane(n,e,t,i){Vm(n,"update",{path:e.toString(),value:t});let r=!0;const s=yb(n),c={};if(nr(t,(h,p)=>{r=!1,c[h]=R3(Jn(e,h),oi(p),n.serverSyncTree_,s)}),r)tr("update() called with empty data.  Don't do anything."),nd(0,i,"ok",void 0);else{const h=RI(n),p=function ene(n,e,t,i){!function _te(n,e,t,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=lF(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Fn.fromObject(t);return Lm(n,new Pm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);xI(n.eventQueue_,p),n.server_.merge(e.toString(),t,(_,b)=>{const C="ok"===_;C||Nr("update at "+e+" failed: "+_);const N=td(n.serverSyncTree_,h,!C),x=N.length>0?Bm(n,e):e;Ws(n.eventQueue_,x,N),nd(0,i,_,b)}),nr(t,_=>{const b=PF(n,Jn(e,_));Bm(n,b)}),Ws(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Kne(n){n=(0,F.m9)(n);const e=new VF(()=>{}),t=new vb(e);return function Sne(n,e,t){const i=function sne(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(_,b)=>{const C=Xr(_,t);i=i||Xu(b,C)});let r=n.syncPointTree_.get(t);r?i=i||Xu(r,pn()):(r=new E3,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Qu(i,!0,!1):null;return function Hte(n){return yI(n.viewCache_)}(D3(r,e,vI(n.pendingWriteTree_,e._path),s?c.getNode():Gt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=oi(r).withIndex(e._queryParams.getIndex());let c;if(yF(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=ub(n.serverSyncTree_,e._path,s);else{const h=db(n.serverSyncTree_,e);c=A3(n.serverSyncTree_,e._path,s,h)}return Ws(n.eventQueue_,e._path,c),II(n.serverSyncTree_,e,t,null,!0),s},r=>(Vm(n,"get for query "+(0,F.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Wf(i,new mo(n._repo,n._path),n._queryParams.getIndex()))}class vb{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Q3("value",this,new Wf(e.snapshotNode,new mo(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new J3(this,e,t):null}matches(e){return e instanceof vb&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class VI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new J3(this,e,t):null}createEvent(e,t){(0,F.hu)(null!=e.childName,"Child events should have a childName.");const i=Kf(new mo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Q3(e.type,this,new Wf(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof VI&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bb(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,_=(b,C)=>{RF(n._repo,n,h),p(b,C)};_.userCallback=t.userCallback,_.context=t.context,t=_}const c=new VF(t,s||void 0),h="value"===e?new vb(c):new VI(e,c);return function Rne(n,e,t){let i;i=".info"===Qt(e._path)?yF(n.infoSyncTree_,e,t):yF(n.serverSyncTree_,e,t),B3(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>RF(n._repo,n,h)}function UF(n,e,t,i){return bb(n,"value",e,t,i)}function n8(n,e,t,i){return bb(n,"child_added",e,t,i)}function i8(n,e,t,i){return bb(n,"child_changed",e,t,i)}function r8(n,e,t,i){return bb(n,"child_moved",e,t,i)}function s8(n,e,t,i){return bb(n,"child_removed",e,t,i)}function o8(n,e,t){let i=null;const r=t?new VF(t):null;"value"===e?i=new vb(r):e&&(i=new VI(e,r)),RF(n._repo,n,i)}class Yo{}class a8 extends Yo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ja("endAt",this._value,e._path,!0);const t=tF(e._queryParams,this._value,this._key);if(LI(t),id(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)}}class Yne extends Yo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ja("endBefore",this._value,e._path,!1);const t=function rte(n,e,t){let i;return i=tF(n,e,n.index_===Ua||t?t:qu),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(LI(t),id(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)}}class l8 extends Yo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ja("startAt",this._value,e._path,!0);const t=eF(e._queryParams,this._value,this._key);if(LI(t),id(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)}}class Jne extends Yo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){ja("startAfter",this._value,e._path,!1);const t=function ite(n,e,t){let i;return i=eF(n,e,n.index_===Ua||t?t:sc),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(LI(t),id(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _s(e._repo,e._path,t,e._orderByCalled)}}class eie extends Yo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(e._repo,e._path,function tte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class nie extends Yo{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _s(e._repo,e._path,function nte(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class rie extends Yo{constructor(e){super(),this._path=e}_apply(e){FI(e,"orderByChild");const t=new yn(this._path);if(Jt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new QP(t),r=fI(e._queryParams,i);return id(r),new _s(e._repo,e._path,r,!0)}}class oie extends Yo{_apply(e){FI(e,"orderByKey");const t=fI(e._queryParams,Ua);return id(t),new _s(e._repo,e._path,t,!0)}}class lie extends Yo{_apply(e){FI(e,"orderByPriority");const t=fI(e._queryParams,Pn);return id(t),new _s(e._repo,e._path,t,!0)}}class uie extends Yo{_apply(e){FI(e,"orderByValue");const t=fI(e._queryParams,JP);return id(t),new _s(e._repo,e._path,t,!0)}}class hie extends Yo{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(ja("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new a8(this._value,this._key)._apply(new l8(this._value,this._key)._apply(e))}}function Zo(n,...e){let t=(0,F.m9)(n);for(const i of e)t=i._apply(t);return t}(function Wte(n){(0,F.hu)(!DI,"__referenceConstructor has already been defined"),DI=n})(mo),function Qte(n){(0,F.hu)(!TI,"__referenceConstructor has already been defined"),TI=n}(mo);const jF={};function u8(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Ba("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=LF(s,r),h=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${h.namespace}`,c=LF(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new J0(J0.OWNER):new aee(n.name,n.options,e);V3("Invalid Firebase Database URL",c),Jt(c.path)||Ba("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function _ie(n,e,t,i){let r=jF[e.name];r||(r={},jF[e.name]=r);let s=r[n.toURLString()];return s&&Ba("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Cne(n,false,t,i),r[n.toURLString()]=s,s}(h,n,b,new oee(n.name,t));return new vie(C,n)}class vie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Tne(n,e,t){if(n.stats_=HP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new pI(n.repoInfo_,(i,r,s,c)=>{G3(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>$3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new jf(n.repoInfo_,e,(i,r,s,c)=>{G3(n,i,r,s,c)},i=>{$3(n,i)},i=>{!function Ine(n,e){nr(e,(t,i)=>{OF(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function uee(n,e){const t=n.toString();return jP[t]||(jP[t]=e()),jP[t]}(n.repoInfo_,()=>new ute(n.stats_,n.server_)),n.infoData_=new ste,n.infoSyncTree_=new S3({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=ub(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),OF(n,"connected",!1),n.serverSyncTree_=new S3({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const _=c(h,p);Ws(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mo(this._repo,pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function mie(n,e){const t=jF[e];(!t||t[n.key]!==n)&&Ba(`Database ${e}(${n.repoInfo_}) has already been deleted.`),W3(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ba("Cannot call "+e+" on a deleted database.")}}function d8(){xW.IS_TRANSPORT_INITIALIZED&&Nr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function bie(){d8(),Yu.forceDisallow()}function wie(){d8(),Mm.forceDisallow(),Yu.forceAllow()}function Cie(n,e){hW(n,e)}const Iie={".sv":"timestamp"};class Nie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}jf.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},jf.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Tie(n){aW(qt.SDK_VERSION),(0,qt._registerComponent)(new Yr.wA("database",(e,{instanceIdentifier:t})=>u8(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,qt.registerVersion)(sW,"0.14.4",n),(0,qt.registerVersion)(sW,"0.14.4","esm2017")}();const Rie=new Us.Yd("@firebase/database-compat"),f8=function(n){Rie.warn("FIREBASE WARNING: "+n)};class Fie{constructor(e){this._delegate=e}cancel(e){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,f8("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Lie{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class rd{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),_b("DataSnapshot.child","path",e,!1),new rd(this._database,this._delegate.child(e))}hasChild(e){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),_b("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new rd(this._database,t)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ks(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class yr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",t,!1);const c=yr.getCancelAndContextArgs_("Query.on",i,r),h=(_,b)=>{t.call(c.context,new rd(this.database,_),b)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return UF(this._delegate,h,p),t;case"child_added":return n8(this._delegate,h,p),t;case"child_removed":return s8(this._delegate,h,p),t;case"child_changed":return i8(this._delegate,h,p),t;case"child_moved":return r8(this._delegate,h,p),t;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,F.Wj)("Query.off","callback",t,!0),(0,F.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,o8(this._delegate,e,r)}else o8(this._delegate,e)}get(){return Kne(this._delegate).then(e=>new rd(this.database,e))}once(e,t,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",t,!0);const s=yr.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,h=(_,b)=>{const C=new rd(this.database,_);t&&t.call(s.context,C,b),c.resolve(C)};h.userCallback=t,h.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(e){case"value":UF(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":n8(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":s8(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":i8(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":r8(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new yr(this.database,Zo(this._delegate,function tie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eie(n)}(e)))}limitToLast(e){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new yr(this.database,Zo(this._delegate,function iie(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nie(n)}(e)))}orderByChild(e){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new yr(this.database,Zo(this._delegate,function sie(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _b("orderByChild","path",n,!1),new rie(n)}(e)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new yr(this.database,Zo(this._delegate,function aie(){return new oie}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new yr(this.database,Zo(this._delegate,function cie(){return new lie}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new yr(this.database,Zo(this._delegate,function die(){return new uie}()))}startAt(e=null,t){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new yr(this.database,Zo(this._delegate,function Qne(n=null,e){return mb("startAt","key",e,!0),new l8(n,e)}(e,t)))}startAfter(e=null,t){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new yr(this.database,Zo(this._delegate,function Xne(n,e){return mb("startAfter","key",e,!0),new Jne(n,e)}(e,t)))}endAt(e=null,t){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new yr(this.database,Zo(this._delegate,function qne(n,e){return mb("endAt","key",e,!0),new a8(n,e)}(e,t)))}endBefore(e=null,t){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new yr(this.database,Zo(this._delegate,function Zne(n,e){return mb("endBefore","key",e,!0),new Yne(n,e)}(e,t)))}equalTo(e,t){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new yr(this.database,Zo(this._delegate,function fie(n,e){return mb("equalTo","key",e,!0),new hie(n,e)}(e,t)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof yr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,F.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,F.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ks(this.database,new mo(this._delegate._repo,this._delegate._path))}}class Ks extends yr{constructor(e,t){super(e,new _s(t._repo,t._path,new hI,!1)),this.database=e,this._delegate=t}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ks(this.database,Kf(this._delegate,e))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ks(this.database,e):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Ks(this.database,this._delegate.root)}set(e,t){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",t,!0);const i=BF(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,f8("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}go("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",t,!0);const i=Wne(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function zne(n,e,t){if(go("setWithPriority",n._path),ja("setWithPriority",e,n._path,!1),MF("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return xF(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",e,!0);const t=function Gne(n){return go("remove",n._path),BF(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,F.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Mie(n,e,t){var i;if(n=(0,F.m9)(n),go("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new F.BH,h=UF(n,()=>{});return function Pne(n,e,t,i,r,s){Vm(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:cW(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=kF(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{gb("transaction failed: Data returned ",p,c.path),c.status=0;const _=NI(n.transactionQueueTree_,e),b=zf(_)||[];let C;b.push(c),SF(_,b),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(C=(0,F.DV)(p,".priority"),(0,F.hu)(pb(C),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):C=(SI(n.serverSyncTree_,e)||Gt.EMPTY_NODE).getPriority().val();const N=yb(n),x=oi(p,C),V=CF(x,h,N);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=V,c.currentWriteId=RI(n);const j=_F(n.serverSyncTree_,e,V,c.currentWriteId,c.applyLocally);Ws(n.eventQueue_,e,j),kI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,_,b)=>{let C=null;p?s.reject(p):(C=new Wf(b,new mo(n._repo,n._path),Pn),s.resolve(new Nie(_,C)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new Lie(s.committed,new rd(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",t,!0);const i=function $ne(n,e){n=(0,F.m9)(n),go("setPriority",n._path),MF("setPriority",e,!1);const t=new F.BH;return xF(n._repo,Jn(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",t,!0);const i=function Hne(n,e){n=(0,F.m9)(n),go("push",n._path),ja("push",e,n._path,!0);const t=H3(n._repo),i=jne(t),r=Kf(n,i),s=Kf(n,i);let c;return c=null!=e?BF(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new Ks(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new Ks(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return go("Reference.onDisconnect",this._delegate._path),new Fie(new X3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wb{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:bie,forceLongPolling:wie}}useEmulator(e,t,i={}){!function h8(n,e,t,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ba("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ba('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new J0(J0.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new J0(c)}!function gie(n,e,t,i){n.repoInfo_=new BP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,F.Dv)("database.ref",0,1,arguments.length),e instanceof Ks){const t=t8(this._delegate,e.toString());return new Ks(this,t)}{const t=e8(this._delegate,e);return new Ks(this,t)}}refFromURL(e){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=t8(this._delegate,e);return new Ks(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Eie(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),W3(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Die(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function kne(n){n.persistentConnection_&&n.persistentConnection_.resume(j3)}(n._repo)}(this._delegate)}}wb.ServerValue={TIMESTAMP:function Sie(){return Iie}(),increment:n=>function Aie(n){return{".sv":{increment:n}}}(n)};var Bie=Object.freeze({__proto__:null,initStandalone:function Vie({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){aW(t);const c=new Yr.zt("auth-internal",new Yr.H0("database-standalone"));return c.setComponent(new Yr.wA("auth-internal",()=>i,"PRIVATE")),{instance:new wb(u8(n,c,void 0,e,s),n),namespace:r}}});const Uie=wb.ServerValue;!function jie(n){n.INTERNAL.registerComponent(new Yr.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new wb(r,i)},"PUBLIC").setServiceProps({Reference:Ks,Query:yr,Database:wb,DataSnapshot:rd,enableLogging:Cie,INTERNAL:Bie,ServerValue:Uie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(KX.Z);class Hie extends sn.x{constructor(e=1/0,t=1/0,i=Yp){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}function p8(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,iW.B)({connector:()=>new Hie(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const g8=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $ie(n){return(0,cr.e)((e,t)=>{let i=!1;e.subscribe((0,bn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function zie(n=Wie){return(0,cr.e)((e,t)=>{let i=!1;e.subscribe((0,bn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Wie(){return new g8}function m8(n,e){return(0,Ms.m)(e)?Ps(()=>n,e):Ps(()=>n)}var qie=U(9260);const _8=new d.OlP("angularfire2.auth.use-emulator"),y8=new d.OlP("angularfire2.auth.settings"),v8=new d.OlP("angularfire2.auth.tenant-id"),b8=new d.OlP("angularfire2.auth.langugage-code"),w8=new d.OlP("angularfire2.auth.use-device-language"),E8=new d.OlP("angularfire.auth.persistence"),D8=(n,e,t,i,r,s,c,h)=>(0,Va.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let C8=(()=>{class n{constructor(t,i,r,s,c,h,p,_,b,C,N,x){const V=new sn.x,j=zr(void 0).pipe((0,Gg.Q)(c.outsideAngular),Ps(()=>s.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,hn.U)(()=>(0,Va.on)(t,s,i)),(0,hn.U)(J=>D8(J,s,h,_,b,C,p,N)),p8({bufferSize:1,refCount:!1}));if(function lp(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=zr(null);else{j.pipe(function Kie(n,e){const t=arguments.length>=2;return i=>i.pipe(n?wi((r,s)=>n(r,s,i)):Ol.y,Oi(1),t?$ie(e):zie(()=>new g8))}()).subscribe();const le=j.pipe(Ps(Be=>Be.getRedirectResult().then(Je=>Je,()=>null)),Su,p8({bufferSize:1,refCount:!1})),we=j.pipe(Ps(Be=>new ri.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Be.onAuthStateChanged(Xe=>Je.next(Xe),Xe=>Je.error(Xe),()=>Je.complete()))})))),Fe=j.pipe(Ps(Be=>new ri.y(Je=>({unsubscribe:s.runOutsideAngular(()=>Be.onIdTokenChanged(Xe=>Je.next(Xe),Xe=>Je.error(Xe),()=>Je.complete()))}))));this.authState=le.pipe(m8(we),(0,Fv.R)(c.outsideAngular),(0,Gg.Q)(c.insideAngular)),this.user=le.pipe(m8(Fe),(0,Fv.R)(c.outsideAngular),(0,Gg.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ps(Be=>Be?(0,Ur.D)(Be.getIdToken()):zr(null))),this.idTokenResult=this.user.pipe(Ps(Be=>Be?(0,Ur.D)(Be.getIdTokenResult()):zr(null))),this.credential=(0,Th.T)(le,V,this.authState.pipe(wi(Be=>!Be))).pipe((0,hn.U)(Be=>Be?.user?Be:null),(0,Fv.R)(c.outsideAngular),(0,Gg.Q)(c.insideAngular))}return(0,Va.pX)(this,j,s,{spy:{apply:(J,le,we)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&we.then(Fe=>V.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Va.Dh),d.LFG(Va.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(hC),d.LFG(_8,8),d.LFG(y8,8),d.LFG(v8,8),d.LFG(b8,8),d.LFG(w8,8),d.LFG(E8,8),d.LFG(bC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function T8(n){return null==n}function I8(n){return"function"==typeof n.set}function S8(n,e){return I8(e)?e:n.ref(e)}function A8(n,e){if(function Zie(n){return"string"==typeof n}(n))return e.stringCase();if(I8(n))return e.firebaseCase();if(function Qie(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Eb(n,e,t="on",i=dh){return new ri.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,hn.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,iW.B)())}function N8(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function ere(n,e){const{payload:t,prevKey:i,key:r}=e,s=N8(n,r),c=function Xie(n,e){if(T8(e))return 0;{const t=N8(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function M8(n){return(T8(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function O8(n,e,t){return function Jie(n,e,t){return Eb(n,"value","once",t).pipe(Ps(i=>{const r=[zr(i)];return e.forEach(s=>r.push(Eb(n,s,"on",t))),(0,Th.T)(...r).pipe(rW(ere,[]))}),wa())}(n,e=M8(e),t)}function x8(n,e,t){const i=(e=M8(e)).map(r=>Eb(n,r,"on",t));return(0,Th.T)(...i)}function R8(n,e){return function(i,r){return A8(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function rre(n){return function(t){return t?A8(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function k8(n,e){return function(){return Eb(n,"value","on",e)}}const are=new d.OlP("angularfire2.realtimeDatabaseURL"),lre=new d.OlP("angularfire2.database.use-emulator");let cre=(()=>{class n{constructor(t,i,r,s,c,h,p,_,b,C,N,x,V,j,J){this.schedulers=h;const le=p,we=(0,Va.on)(t,c,i);_&&D8(we,c,b,N,x,V,C,j),this.database=(0,Va.cc)(`${we.name}.database.${r}`,"AngularFireDatabase",we.name,()=>{const Fe=c.runOutsideAngular(()=>we.database(r||void 0));return le&&Fe.useEmulator(...le),Fe},[le])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>S8(this.database,t));let s=r;return i&&(s=i(r)),function sre(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:R8(i,"update"),set:R8(i,"set"),push:r=>i.push(r),remove:rre(i),snapshotChanges:r=>O8(n,r,t).pipe(Su),stateChanges:r=>x8(n,r,t).pipe(Su),auditTrail:r=>function tre(n,e,t){return function ire(n,e,t){return function nre(n,e){return Eb(n,"value","on",e).pipe((0,hn.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(Lh(e),(0,hn.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function WX(n){return(0,cr.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,bn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,hn.U)(r=>r.actions))}(n,x8(n,e).pipe(rW((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Su),valueChanges:(r,s)=>O8(n,r,t).pipe((0,hn.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Su)}}(s,this)}object(t){return function ore(n,e){return{query:n,snapshotChanges:()=>k8(n,e.schedulers.outsideAngular)().pipe(Su),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>k8(n,e.schedulers.outsideAngular)().pipe(Su,(0,hn.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>S8(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Va.Dh),d.LFG(Va.xv,8),d.LFG(are,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(hC),d.LFG(lre,8),d.LFG(C8,8),d.LFG(_8,8),d.LFG(y8,8),d.LFG(v8,8),d.LFG(b8,8),d.LFG(w8,8),d.LFG(E8,8),d.LFG(bC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ure=(()=>{class n{constructor(){qie.Z.registerVersion("angularfire",dC.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[cre]}),n})(),dre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[jQ]}),n.\u0275inj=d.cJS({imports:[d_,$X,Zq(()=>Qq(vz_firebase)),RQ(()=>FQ()),ure,$Q,zQ]}),n})();(0,d.G48)(),Ub().bootstrapModule(dre).catch(n=>console.error(n))},8306:(Et,Me,U)=>{U.d(Me,{y:()=>W});var d=U(930),$=U(727),B=U(8822),oe=U(4671);var ge=U(2416),Ee=U(576),Pe=U(2806);let W=(()=>{class xe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ie=new xe;return ie.source=this,ie.operator=Ue,ie}subscribe(Ue,ie,ce){const st=function Ge(xe){return xe&&xe instanceof d.Lv||function ee(xe){return xe&&(0,Ee.m)(xe.next)&&(0,Ee.m)(xe.error)&&(0,Ee.m)(xe.complete)}(xe)&&(0,$.Nn)(xe)}(Ue)?Ue:new d.Hp(Ue,ie,ce);return(0,Pe.x)(()=>{const{operator:ht,source:Se}=this;st.add(ht?ht.call(st,Se):Se?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ie){Ue.error(ie)}}forEach(Ue,ie){return new(ie=q(ie))((ce,st)=>{const ht=new d.Hp({next:Se=>{try{Ue(Se)}catch(he){st(he),ht.unsubscribe()}},error:st,complete:ce});this.subscribe(ht)})}_subscribe(Ue){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Ue)}[B.L](){return this}pipe(...Ue){return function Te(xe){return 0===xe.length?oe.y:1===xe.length?xe[0]:function(Ue){return xe.reduce((ie,ce)=>ce(ie),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=q(Ue))((ie,ce)=>{let st;this.subscribe(ht=>st=ht,ht=>ce(ht),()=>ie(st))})}}return xe.create=Re=>new xe(Re),xe})();function q(xe){var Re;return null!==(Re=xe??ge.v.Promise)&&void 0!==Re?Re:Promise}},7579:(Et,Me,U)=>{U.d(Me,{x:()=>ge});var d=U(8306),$=U(727);const oe=(0,U(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=U(8737),Te=U(2806);let ge=(()=>{class Pe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new Ee(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new oe}next(q){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(q)}})}error(q){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,Te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:Ge,observers:xe}=this;return ee||Ge?$.Lc:(this.currentObservers=null,xe.push(q),new $.w0(()=>{this.currentObservers=null,(0,Ce.P)(xe,q)}))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:Ge,isStopped:xe}=this;ee?q.error(Ge):xe&&q.complete()}asObservable(){const q=new d.y;return q.source=this,q}}return Pe.create=(W,q)=>new Ee(W,q),Pe})();class Ee extends ge{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,W)}error(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ee?ee:$.Lc}}},930:(Et,Me,U)=>{U.d(Me,{Hp:()=>Ue,Lv:()=>ee});var d=U(576),$=U(727),B=U(2416),oe=U(7849),Ce=U(5032);const Te=Pe("C",void 0,void 0);function Pe(Se,he,be){return{kind:Se,value:he,error:be}}var W=U(3410),q=U(2806);class ee extends $.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,$.Nn)(he)&&he.add(this)):this.destination=ht}static create(he,be,je){return new Ue(he,be,je)}next(he){this.isStopped?st(function Ee(Se){return Pe("N",Se,void 0)}(he),this):this._next(he)}error(he){this.isStopped?st(function ge(Se){return Pe("E",void 0,Se)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?st(Te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function xe(Se,he){return Ge.call(Se,he)}class Re{constructor(he){this.partialObserver=he}next(he){const{partialObserver:be}=this;if(be.next)try{be.next(he)}catch(je){ie(je)}}error(he){const{partialObserver:be}=this;if(be.error)try{be.error(he)}catch(je){ie(je)}else ie(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(be){ie(be)}}}class Ue extends ee{constructor(he,be,je){let $e;if(super(),(0,d.m)(he)||!he)$e={next:he??void 0,error:be??void 0,complete:je??void 0};else{let z;this&&B.v.useDeprecatedNextContext?(z=Object.create(he),z.unsubscribe=()=>this.unsubscribe(),$e={next:he.next&&xe(he.next,z),error:he.error&&xe(he.error,z),complete:he.complete&&xe(he.complete,z)}):$e=he}this.destination=new Re($e)}}function ie(Se){B.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Se):(0,oe.h)(Se)}function st(Se,he){const{onStoppedNotification:be}=B.v;be&&W.z.setTimeout(()=>be(Se,he))}const ht={closed:!0,next:Ce.Z,error:function ce(Se){throw Se},complete:Ce.Z}},727:(Et,Me,U)=>{U.d(Me,{Lc:()=>Te,w0:()=>Ce,Nn:()=>ge});var d=U(576);const B=(0,U(3888).d)(Pe=>function(q){Pe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var oe=U(8737);class Ce{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const xe of q)xe.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,d.m)(ee))try{ee()}catch(xe){W=xe instanceof B?xe.errors:[xe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const xe of Ge)try{Ee(xe)}catch(Re){W=W??[],Re instanceof B?W=[...W,...Re.errors]:W.push(Re)}}if(W)throw new B(W)}}add(W){var q;if(W&&W!==this)if(this.closed)Ee(W);else{if(W instanceof Ce){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,oe.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,oe.P)(q,W),W instanceof Ce&&W._removeParent(this)}}Ce.EMPTY=(()=>{const Pe=new Ce;return Pe.closed=!0,Pe})();const Te=Ce.EMPTY;function ge(Pe){return Pe instanceof Ce||Pe&&"closed"in Pe&&(0,d.m)(Pe.remove)&&(0,d.m)(Pe.add)&&(0,d.m)(Pe.unsubscribe)}function Ee(Pe){(0,d.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(Et,Me,U)=>{U.d(Me,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Et,Me,U)=>{U.d(Me,{E:()=>$});const $=new(U(8306).y)(Ce=>Ce.complete())},8996:(Et,Me,U)=>{U.d(Me,{D:()=>he});var d=U(8421),$=U(5363),B=U(9468),Te=U(8306),Ee=U(2202),Pe=U(576),W=U(9672);function ee(be,je){if(!be)throw new Error("Iterable cannot be null");return new Te.y($e=>{(0,W.f)($e,je,()=>{const z=be[Symbol.asyncIterator]();(0,W.f)($e,je,()=>{z.next().then(de=>{de.done?$e.complete():$e.next(de.value)})},0,!0)})})}var Ge=U(3670),xe=U(8239),Re=U(1144),Ue=U(6495),ie=U(2206),ce=U(4532),st=U(3260);function he(be,je){return je?function Se(be,je){if(null!=be){if((0,Ge.c)(be))return function oe(be,je){return(0,d.Xf)(be).pipe((0,B.R)(je),(0,$.Q)(je))}(be,je);if((0,Re.z)(be))return function ge(be,je){return new Te.y($e=>{let z=0;return je.schedule(function(){z===be.length?$e.complete():($e.next(be[z++]),$e.closed||this.schedule())})})}(be,je);if((0,xe.t)(be))return function Ce(be,je){return(0,d.Xf)(be).pipe((0,B.R)(je),(0,$.Q)(je))}(be,je);if((0,ie.D)(be))return ee(be,je);if((0,Ue.T)(be))return function q(be,je){return new Te.y($e=>{let z;return(0,W.f)($e,je,()=>{z=be[Ee.h](),(0,W.f)($e,je,()=>{let de,He;try{({value:de,done:He}=z.next())}catch(Ye){return void $e.error(Ye)}He?$e.complete():$e.next(de)},0,!0)}),()=>(0,Pe.m)(z?.return)&&z.return()})}(be,je);if((0,st.L)(be))return function ht(be,je){return ee((0,st.Q)(be),je)}(be,je)}throw(0,ce.z)(be)}(be,je):(0,d.Xf)(be)}},8421:(Et,Me,U)=>{U.d(Me,{Xf:()=>Ge});var d=U(655),$=U(1144),B=U(8239),oe=U(8306),Ce=U(3670),Te=U(2206),ge=U(4532),Ee=U(6495),Pe=U(3260),W=U(576),q=U(7849),ee=U(8822);function Ge(Se){if(Se instanceof oe.y)return Se;if(null!=Se){if((0,Ce.c)(Se))return function xe(Se){return new oe.y(he=>{const be=Se[ee.L]();if((0,W.m)(be.subscribe))return be.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,$.z)(Se))return function Re(Se){return new oe.y(he=>{for(let be=0;be<Se.length&&!he.closed;be++)he.next(Se[be]);he.complete()})}(Se);if((0,B.t)(Se))return function Ue(Se){return new oe.y(he=>{Se.then(be=>{he.closed||(he.next(be),he.complete())},be=>he.error(be)).then(null,q.h)})}(Se);if((0,Te.D)(Se))return ce(Se);if((0,Ee.T)(Se))return function ie(Se){return new oe.y(he=>{for(const be of Se)if(he.next(be),he.closed)return;he.complete()})}(Se);if((0,Pe.L)(Se))return function st(Se){return ce((0,Pe.Q)(Se))}(Se)}throw(0,ge.z)(Se)}function ce(Se){return new oe.y(he=>{(function ht(Se,he){var be,je,$e,z;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(Se);!(je=yield be.next()).done;)if(he.next(je.value),he.closed)return}catch(de){$e={error:de}}finally{try{je&&!je.done&&(z=be.return)&&(yield z.call(be))}finally{if($e)throw $e.error}}he.complete()})})(Se,he).catch(be=>he.error(be))})}},6451:(Et,Me,U)=>{U.d(Me,{T:()=>Te});var d=U(8189),$=U(8421),B=U(515),oe=U(3269),Ce=U(8996);function Te(...ge){const Ee=(0,oe.yG)(ge),Pe=(0,oe._6)(ge,1/0),W=ge;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,d.J)(Pe)((0,Ce.D)(W,Ee)):B.E}},5403:(Et,Me,U)=>{U.d(Me,{x:()=>$});var d=U(930);function $(oe,Ce,Te,ge,Ee){return new B(oe,Ce,Te,ge,Ee)}class B extends d.Lv{constructor(Ce,Te,ge,Ee,Pe,W){super(Ce),this.onFinalize=Pe,this.shouldUnsubscribe=W,this._next=Te?function(q){try{Te(q)}catch(ee){Ce.error(ee)}}:super._next,this._error=Ee?function(q){try{Ee(q)}catch(ee){Ce.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(q){Ce.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Te}=this;super.unsubscribe(),!Te&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},4004:(Et,Me,U)=>{U.d(Me,{U:()=>B});var d=U(4482),$=U(5403);function B(oe,Ce){return(0,d.e)((Te,ge)=>{let Ee=0;Te.subscribe((0,$.x)(ge,Pe=>{ge.next(oe.call(Ce,Pe,Ee++))}))})}},8189:(Et,Me,U)=>{U.d(Me,{J:()=>B});var d=U(5577),$=U(4671);function B(oe=1/0){return(0,d.z)($.y,oe)}},5577:(Et,Me,U)=>{U.d(Me,{z:()=>Ee});var d=U(4004),$=U(8421),B=U(4482),oe=U(9672),Ce=U(5403),ge=U(576);function Ee(Pe,W,q=1/0){return(0,ge.m)(W)?Ee((ee,Ge)=>(0,d.U)((xe,Re)=>W(ee,xe,Ge,Re))((0,$.Xf)(Pe(ee,Ge))),q):("number"==typeof W&&(q=W),(0,B.e)((ee,Ge)=>function Te(Pe,W,q,ee,Ge,xe,Re,Ue){const ie=[];let ce=0,st=0,ht=!1;const Se=()=>{ht&&!ie.length&&!ce&&W.complete()},he=je=>ce<ee?be(je):ie.push(je),be=je=>{xe&&W.next(je),ce++;let $e=!1;(0,$.Xf)(q(je,st++)).subscribe((0,Ce.x)(W,z=>{Ge?.(z),xe?he(z):W.next(z)},()=>{$e=!0},void 0,()=>{if($e)try{for(ce--;ie.length&&ce<ee;){const z=ie.shift();Re?(0,oe.f)(W,Re,()=>be(z)):be(z)}Se()}catch(z){W.error(z)}}))};return Pe.subscribe((0,Ce.x)(W,he,()=>{ht=!0,Se()})),()=>{Ue?.()}}(ee,Ge,Pe,q)))}},5363:(Et,Me,U)=>{U.d(Me,{Q:()=>oe});var d=U(9672),$=U(4482),B=U(5403);function oe(Ce,Te=0){return(0,$.e)((ge,Ee)=>{ge.subscribe((0,B.x)(Ee,Pe=>(0,d.f)(Ee,Ce,()=>Ee.next(Pe),Te),()=>(0,d.f)(Ee,Ce,()=>Ee.complete(),Te),Pe=>(0,d.f)(Ee,Ce,()=>Ee.error(Pe),Te)))})}},3099:(Et,Me,U)=>{U.d(Me,{B:()=>Ce});var d=U(8421),$=U(7579),B=U(930),oe=U(4482);function Ce(ge={}){const{connector:Ee=(()=>new $.x),resetOnError:Pe=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=ge;return ee=>{let Ge,xe,Re,Ue=0,ie=!1,ce=!1;const st=()=>{xe?.unsubscribe(),xe=void 0},ht=()=>{st(),Ge=Re=void 0,ie=ce=!1},Se=()=>{const he=Ge;ht(),he?.unsubscribe()};return(0,oe.e)((he,be)=>{Ue++,!ce&&!ie&&st();const je=Re=Re??Ee();be.add(()=>{Ue--,0===Ue&&!ce&&!ie&&(xe=Te(Se,q))}),je.subscribe(be),!Ge&&Ue>0&&(Ge=new B.Hp({next:$e=>je.next($e),error:$e=>{ce=!0,st(),xe=Te(ht,Pe,$e),je.error($e)},complete:()=>{ie=!0,st(),xe=Te(ht,W),je.complete()}}),(0,d.Xf)(he).subscribe(Ge))})(ee)}}function Te(ge,Ee,...Pe){if(!0===Ee)return void ge();if(!1===Ee)return;const W=new B.Hp({next:()=>{W.unsubscribe(),ge()}});return Ee(...Pe).subscribe(W)}},9468:(Et,Me,U)=>{U.d(Me,{R:()=>$});var d=U(4482);function $(B,oe=0){return(0,d.e)((Ce,Te)=>{Te.add(B.schedule(()=>Ce.subscribe(Te),oe))})}},3410:(Et,Me,U)=>{U.d(Me,{z:()=>d});const d={setTimeout($,B,...oe){const{delegate:Ce}=d;return Ce?.setTimeout?Ce.setTimeout($,B,...oe):setTimeout($,B,...oe)},clearTimeout($){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(Et,Me,U)=>{U.d(Me,{h:()=>$});const $=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Et,Me,U)=>{U.d(Me,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Et,Me,U)=>{U.d(Me,{_6:()=>Te,jO:()=>oe,yG:()=>Ce});var d=U(576),$=U(3532);function B(ge){return ge[ge.length-1]}function oe(ge){return(0,d.m)(B(ge))?ge.pop():void 0}function Ce(ge){return(0,$.K)(B(ge))?ge.pop():void 0}function Te(ge,Ee){return"number"==typeof B(ge)?ge.pop():Ee}},8737:(Et,Me,U)=>{function d($,B){if($){const oe=$.indexOf(B);0<=oe&&$.splice(oe,1)}}U.d(Me,{P:()=>d})},3888:(Et,Me,U)=>{function d($){const oe=$(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}U.d(Me,{d:()=>d})},2806:(Et,Me,U)=>{U.d(Me,{O:()=>oe,x:()=>B});var d=U(2416);let $=null;function B(Ce){if(d.v.useDeprecatedSynchronousErrorHandling){const Te=!$;if(Te&&($={errorThrown:!1,error:null}),Ce(),Te){const{errorThrown:ge,error:Ee}=$;if($=null,ge)throw Ee}}else Ce()}function oe(Ce){d.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=Ce)}},9672:(Et,Me,U)=>{function d($,B,oe,Ce=0,Te=!1){const ge=B.schedule(function(){oe(),Te?$.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if($.add(ge),!Te)return ge}U.d(Me,{f:()=>d})},4671:(Et,Me,U)=>{function d($){return $}U.d(Me,{y:()=>d})},1144:(Et,Me,U)=>{U.d(Me,{z:()=>d});const d=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(Et,Me,U)=>{U.d(Me,{D:()=>$});var d=U(576);function $(B){return Symbol.asyncIterator&&(0,d.m)(B?.[Symbol.asyncIterator])}},576:(Et,Me,U)=>{function d($){return"function"==typeof $}U.d(Me,{m:()=>d})},3670:(Et,Me,U)=>{U.d(Me,{c:()=>B});var d=U(8822),$=U(576);function B(oe){return(0,$.m)(oe[d.L])}},6495:(Et,Me,U)=>{U.d(Me,{T:()=>B});var d=U(2202),$=U(576);function B(oe){return(0,$.m)(oe?.[d.h])}},8239:(Et,Me,U)=>{U.d(Me,{t:()=>$});var d=U(576);function $(B){return(0,d.m)(B?.then)}},3260:(Et,Me,U)=>{U.d(Me,{L:()=>oe,Q:()=>B});var d=U(655),$=U(576);function B(Ce){return(0,d.FC)(this,arguments,function*(){const ge=Ce.getReader();try{for(;;){const{value:Ee,done:Pe}=yield(0,d.qq)(ge.read());if(Pe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ee)}}finally{ge.releaseLock()}})}function oe(Ce){return(0,$.m)(Ce?.getReader)}},3532:(Et,Me,U)=>{U.d(Me,{K:()=>$});var d=U(576);function $(B){return B&&(0,d.m)(B.schedule)}},4482:(Et,Me,U)=>{U.d(Me,{e:()=>B});var d=U(576);function B(oe){return Ce=>{if(function $(oe){return(0,d.m)(oe?.lift)}(Ce))return Ce.lift(function(Te){try{return oe(Te,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Et,Me,U)=>{function d(){}U.d(Me,{Z:()=>d})},7849:(Et,Me,U)=>{U.d(Me,{h:()=>B});var d=U(2416),$=U(3410);function B(oe){$.z.setTimeout(()=>{const{onUnhandledError:Ce}=d.v;if(!Ce)throw oe;Ce(oe)})}},4532:(Et,Me,U)=>{function d($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Me,{z:()=>d})},655:(Et,Me,U)=>{function oe(re,ae){var ue={};for(var Ie in re)Object.prototype.hasOwnProperty.call(re,Ie)&&ae.indexOf(Ie)<0&&(ue[Ie]=re[Ie]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(Ie=Object.getOwnPropertySymbols(re);Ae<Ie.length;Ae++)ae.indexOf(Ie[Ae])<0&&Object.prototype.propertyIsEnumerable.call(re,Ie[Ae])&&(ue[Ie[Ae]]=re[Ie[Ae]])}return ue}function ee(re,ae,ue,Ie){return new(ue||(ue=Promise))(function(ye,gt){function ft(Ht){try{nt(Ie.next(Ht))}catch(Vt){gt(Vt)}}function Mt(Ht){try{nt(Ie.throw(Ht))}catch(Vt){gt(Vt)}}function nt(Ht){Ht.done?ye(Ht.value):function Ae(ye){return ye instanceof ue?ye:new ue(function(gt){gt(ye)})}(Ht.value).then(ft,Mt)}nt((Ie=Ie.apply(re,ae||[])).next())})}function Se(re){return this instanceof Se?(this.v=re,this):new Se(re)}function he(re,ae,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,Ie=ue.apply(re,ae||[]),ye=[];return Ae={},gt("next"),gt("throw"),gt("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function gt(Rt){Ie[Rt]&&(Ae[Rt]=function(ci){return new Promise(function($n,Mn){ye.push([Rt,ci,$n,Mn])>1||ft(Rt,ci)})})}function ft(Rt,ci){try{!function Mt(Rt){Rt.value instanceof Se?Promise.resolve(Rt.value.v).then(nt,Ht):Vt(ye[0][2],Rt)}(Ie[Rt](ci))}catch($n){Vt(ye[0][3],$n)}}function nt(Rt){ft("next",Rt)}function Ht(Rt){ft("throw",Rt)}function Vt(Rt,ci){Rt(ci),ye.shift(),ye.length&&ft(ye[0][0],ye[0][1])}}function je(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ae=re[Symbol.asyncIterator];return ae?ae.call(re):(re=function Ue(re){var ae="function"==typeof Symbol&&Symbol.iterator,ue=ae&&re[ae],Ie=0;if(ue)return ue.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Ie>=re.length&&(re=void 0),{value:re&&re[Ie++],done:!re}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),ue={},Ie("next"),Ie("throw"),Ie("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Ie(ye){ue[ye]=re[ye]&&function(gt){return new Promise(function(ft,Mt){!function Ae(ye,gt,ft,Mt){Promise.resolve(Mt).then(function(nt){ye({value:nt,done:ft})},gt)}(ft,Mt,(gt=re[ye](gt)).done,gt.value)})}}}U.d(Me,{FC:()=>he,KL:()=>je,_T:()=>oe,mG:()=>ee,qq:()=>Se})},4650:(Et,Me,U)=>{U.d(Me,{$8M:()=>Ep,$Z:()=>Kp,AFp:()=>RN,AaK:()=>Ee,CHM:()=>pc,CRH:()=>fN,CZH:()=>xg,CqO:()=>M1,D6c:()=>tM,EJc:()=>TB,EpF:()=>tE,F$t:()=>fu,F4k:()=>Ty,FYo:()=>CS,FiY:()=>Ro,G48:()=>RB,Gf:()=>cD,GfV:()=>TS,Gpc:()=>q,Hsn:()=>Ay,Ikx:()=>EE,JOm:()=>$r,KtG:()=>fd,LFG:()=>Rn,LMc:()=>QB,Lbi:()=>PN,Lck:()=>LA,MAs:()=>A1,MGl:()=>fg,NdJ:()=>nE,OlP:()=>dn,Oqu:()=>_E,Q6J:()=>hu,QGY:()=>Cy,QbO:()=>FN,Qsj:()=>uL,QtT:()=>Ul,R0b:()=>us,RDi:()=>tS,Rgc:()=>zh,SBq:()=>zp,SDv:()=>Ho,Suo:()=>uD,TTD:()=>Wa,TgZ:()=>Ih,Tol:()=>pE,Udp:()=>Py,VKq:()=>QE,W1O:()=>hD,WFA:()=>Iy,WLB:()=>JE,X6Q:()=>xB,XFs:()=>rt,Xpm:()=>me,Y36:()=>wi,YNc:()=>S1,Yjl:()=>P,Yz7:()=>nt,ZZ4:()=>Sv,_Bn:()=>Eg,_UZ:()=>eE,_Vd:()=>$p,_c5:()=>XN,_uU:()=>G1,aQg:()=>Av,cJS:()=>Vt,cg1:()=>Hy,d8E:()=>DE,dDg:()=>LD,dqk:()=>Xt,eFA:()=>UD,ekj:()=>Fy,eoX:()=>_v,f3M:()=>hl,g9A:()=>MD,h0i:()=>jl,hGG:()=>eM,hij:()=>Uy,iGM:()=>lD,ifc:()=>yt,ip1:()=>AD,kEZ:()=>XE,kL8:()=>CE,lG2:()=>H,lri:()=>FD,n5z:()=>Tc,oAB:()=>Kt,oxw:()=>rE,pQV:()=>wu,q4F:()=>IS,qLn:()=>Wp,qOj:()=>my,qZA:()=>ug,rWj:()=>Rg,s9C:()=>Ny,sBO:()=>kB,sIi:()=>sg,s_b:()=>Ng,soG:()=>$l,uIk:()=>Zw,vHH:()=>Re,vpe:()=>lo,wAp:()=>Tt,xp6:()=>kS,z2F:()=>Dv,zSh:()=>mw,zs3:()=>ru});var d=U(7579),$=U(727),B=U(8306),oe=U(6451),Ce=U(3099);function Te(o){for(let a in o)if(o[a]===Te)return a;throw Error("Could not find renamed property on target object.")}function ge(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function Pe(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const W=Te({__forward_ref__:Te});function q(o){return o.__forward_ref__=q,o.toString=function(){return Ee(this())},o}function ee(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===q}class Re extends Error{constructor(a,l){super(function Ue(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,l)),this.code=a}}function ie(o){return"string"==typeof o?o:null==o?"":String(o)}function he(o,a){throw new Re(-201,!1)}function ye(o,a,l,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${l} ${u} ${a} <=Actual]`))}function nt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Vt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Rt(o){return $n(o,Ai)||$n(o,xr)}function $n(o,a){return o.hasOwnProperty(a)?o[a]:null}function Fi(o){return o&&(o.hasOwnProperty(Or)||o.hasOwnProperty(Jo))?o[Or]:null}const Ai=Te({\u0275prov:Te}),Or=Te({\u0275inj:Te}),xr=Te({ngInjectableDef:Te}),Jo=Te({ngInjectorDef:Te});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let ei;function Ln(o){const a=ei;return ei=o,a}function Rr(o,a,l){const u=Rt(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&rt.Optional?null:void 0!==a?a:void he(Ee(o))}function gn(o){return{toString:o}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),yt=(()=>{return(o=yt||(yt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",yt;var o})();const Xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zn={},Ot=[],ir=Te({\u0275cmp:Te}),Ft=Te({\u0275dir:Te}),kr=Te({\u0275pipe:Te}),Yt=Te({\u0275mod:Te}),_i=Te({\u0275fac:Te}),mn=Te({__NG_ELEMENT_ID__:Te});let We=0;function me(o){return gn(()=>{const l=!0===o.standalone,u={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ot,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||yt.Emulated,id:"c"+We++,styles:o.styles||Ot,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=G(o.inputs,u),f.outputs=G(o.outputs),v&&v.forEach(D=>D(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(wt).filter($t):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Q).filter($t):null,f})}function wt(o){return k(o)||O(o)}function $t(o){return null!==o}function Kt(o){return gn(()=>({type:o.type,bootstrap:o.bootstrap||Ot,declarations:o.declarations||Ot,imports:o.imports||Ot,exports:o.exports||Ot,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function G(o,a){if(null==o)return zn;const l={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),l[f]=u,a&&(a[f]=m)}return l}const H=me;function P(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function k(o){return o[ir]||null}function O(o){return o[Ft]||null}function Q(o){return o[kr]||null}function Ni(o){return Array.isArray(o)&&"object"==typeof o[1]}function rr(o){return Array.isArray(o)&&!0===o[1]}function ns(o){return 0!=(8&o.flags)}function za(o){return 2==(2&o.flags)}function ta(o){return 1==(1&o.flags)}function Lr(o){return null!==o.template}function cc(o){return 0!=(256&o[2])}function yi(o,a){return o.hasOwnProperty(_i)?o[_i]:null}class $m{constructor(a,l,u){this.previousValue=a,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Wa(){return ap}function ap(o){return o.type.prototype.ngOnChanges&&(o.setInput=od),Ka}function Ka(){const o=zm(this),a=o?.current;if(a){const l=o.previous;if(l===zn)o.previous=a;else for(let u in a)l[u]=a[u];o.current=null,this.ngOnChanges(a)}}function od(o,a,l,u){const f=zm(o)||function $i(o,a){return o[dc]=a}(o,{previous:zn,current:null}),m=f.current||(f.current={}),v=f.previous,D=this.declaredInputs[l],T=v[D];m[D]=new $m(T&&T.currentValue,a,v===zn),o[u]=a}Wa.ngInherit=!0;const dc="__ngSimpleChanges__";function zm(o){return o[dc]||null}function In(o){for(;Array.isArray(o);)o=o[0];return o}function qa(o,a){return In(a[o])}function or(o,a){return In(a[o.index])}function eo(o,a){return o.data[a]}function di(o,a){const l=a[o];return Ni(l)?l:l[0]}function To(o){return 64==(64&o[2])}function ii(o,a){return null==a?null:o[a]}function ra(o){o[18]=0}function cd(o,a){o[5]+=a;let l=o,u=o[3];for(;null!==u&&(1===a&&1===l[5]||-1===a&&0===l[5]);)u[5]+=a,l=u,u=u[3]}const At={lFrame:Qm(null),bindingsEnabled:!0};function fc(){return At.bindingsEnabled}function De(){return At.lFrame.lView}function Zt(){return At.lFrame.tView}function pc(o){return At.lFrame.contextLView=o,o[8]}function fd(o){return At.lFrame.contextLView=null,o}function Kn(){let o=Qa();for(;null!==o&&64===o.type;)o=o.parent;return o}function Qa(){return At.lFrame.currentTNode}function Io(){const o=At.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Vr(o,a){const l=At.lFrame;l.currentTNode=o,l.isParent=a}function Ja(){return At.lFrame.isParent}function pd(){At.lFrame.isParent=!1}function Mi(){const o=At.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function So(){return At.lFrame.bindingIndex++}function zi(o){const a=At.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function md(o){At.lFrame.inI18n=o}function xb(o,a){const l=At.lFrame;l.bindingIndex=l.bindingRootIndex=o,_d(a)}function _d(o){At.lFrame.currentDirectiveIndex=o}function Xa(o){const a=At.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function el(){return At.lFrame.currentQueryIndex}function bs(o){At.lFrame.currentQueryIndex=o}function Rb(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function yd(o,a,l){if(l&rt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||l&rt.Host||(f=Rb(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const u=At.lFrame=tl();return u.currentTNode=a,u.lView=o,!0}function mc(o){const a=tl(),l=o[1];At.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function tl(){const o=At.lFrame,a=null===o?null:o.child;return null===a?Qm(o):a}function Qm(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Jm(){const o=At.lFrame;return At.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const _c=Jm;function yc(){const o=Jm();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Wi(){return At.lFrame.selectedIndex}function ws(o){At.lFrame.selectedIndex=o}function xn(){const o=At.lFrame;return eo(o.tView,o.selectedIndex)}function nl(o,a){for(let l=a.directiveStart,u=a.directiveEnd;l<u;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:I,ngOnDestroy:M}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),D&&((o.contentHooks||(o.contentHooks=[])).push(l,D),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,D)),T&&(o.viewHooks||(o.viewHooks=[])).push(-l,T),I&&((o.viewHooks||(o.viewHooks=[])).push(l,I),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,I)),null!=M&&(o.destroyHooks||(o.destroyHooks=[])).push(l,M)}}function vc(o,a,l){e_(o,a,3,l)}function sa(o,a,l,u){(3&o[2])===l&&e_(o,a,l,u)}function gp(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function e_(o,a,l,u){const m=u??-1,v=a.length-1;let D=0;for(let T=void 0!==u?65535&o[18]:0;T<v;T++)if("number"==typeof a[T+1]){if(D=a[T],null!=u&&D>=u)break}else a[T]<0&&(o[18]+=65536),(D<m||-1==m)&&(t_(o,l,a,T),o[18]=(4294901760&o[18])+T+2),T++}function t_(o,a,l,u){const f=l[u]<0,m=l[u+1],D=o[f?-l[u]:l[u]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class bc{constructor(a,l,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function bd(o,a,l){let u=0;for(;u<l.length;){const f=l[u];if("number"==typeof f){if(0!==f)break;u++;const m=l[u++],v=l[u++],D=l[u++];o.setAttribute(a,v,D,m)}else{const m=f,v=l[++u];yp(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),u++}}return u}function rl(o){return 3===o||4===o||6===o}function yp(o){return 64===o.charCodeAt(0)}function Ec(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?l=f:0===l||r_(o,l,f,null,-1===l||2===l?a[++u]:null)}}return o}function r_(o,a,l,u,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const D=o[m++];if("number"==typeof D){if(D===a){v=-1;break}if(D>a){v=m-1;break}}}for(;m<o.length;){const D=o[m];if("number"==typeof D)break;if(D===l){if(null===u)return void(null!==f&&(o[m+1]=f));if(u===o[m+1])return void(o[m+2]=f)}m++,null!==u&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,l),null!==u&&o.splice(m++,0,u),null!==f&&o.splice(m++,0,f)}function s_(o){return-1!==o}function sl(o){return 32767&o}function Br(o,a){let l=function Vb(o){return o>>16}(o),u=a;for(;l>0;)u=u[15],l--;return u}let Er=!0;function Ao(o){const a=Er;return Er=o,a}let vp=0;const Dr={};function to(o,a){const l=Ed(o,a);if(-1!==l)return l;const u=a[1];u.firstCreatePass&&(o.injectorIndex=a.length,ol(u.data,o),ol(a,null),ol(u.blueprint,null));const f=No(o,a),m=o.injectorIndex;if(s_(f)){const v=sl(f),D=Br(f,a),T=D[1].data;for(let I=0;I<8;I++)a[m+I]=D[v+I]|T[v+I]}return a[m+8]=f,m}function ol(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ed(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function No(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,f=a;for(;null!==f;){if(u=u_(f),null===u)return-1;if(l++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function al(o,a,l){!function bp(o,a,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(mn)&&(u=l[mn]),null==u&&(u=l[mn]=vp++);const f=255&u;a.data[o+(f>>5)]|=1<<f}(o,a,l)}function Dd(o,a,l){if(l&rt.Optional||void 0!==o)return o;he()}function a_(o,a,l,u){if(l&rt.Optional&&void 0===u&&(u=null),0==(l&(rt.Self|rt.Host))){const f=o[9],m=Ln(void 0);try{return f?f.get(a,u,l&rt.Optional):Rr(a,u,l&rt.Optional)}finally{Ln(m)}}return Dd(u,0,l)}function Cc(o,a,l,u=rt.Default,f){if(null!==o){if(1024&a[2]){const v=function cl(o,a,l,u,f){let m=o,v=a;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=ll(m,v,l,u|rt.Self,Dr);if(D!==Dr)return D;let T=m.parent;if(!T){const I=v[21];if(I){const M=I.get(l,Dr,u);if(M!==Dr)return M}T=u_(v),v=v[15]}m=T}return f}(o,a,l,u,Dr);if(v!==Dr)return v}const m=ll(o,a,l,u,Dr);if(m!==Dr)return m}return a_(a,l,u,f)}function ll(o,a,l,u,f){const m=function l_(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(mn)?o[mn]:void 0;return"number"==typeof a?a>=0?255&a:c_:a}(l);if("function"==typeof m){if(!yd(a,o,u))return u&rt.Host?Dd(f,0,u):a_(a,l,u,f);try{const v=m(u);if(null!=v||u&rt.Optional)return v;he()}finally{_c()}}else if("number"==typeof m){let v=null,D=Ed(o,a),T=-1,I=u&rt.Host?a[16][6]:null;for((-1===D||u&rt.SkipSelf)&&(T=-1===D?No(o,a):a[D+8],-1!==T&&wp(u,!1)?(v=a[1],D=sl(T),a=Br(T,a)):D=-1);-1!==D;){const M=a[1];if(la(m,D,M.data)){const L=Bb(D,a,l,v,u,I);if(L!==Dr)return L}T=a[D+8],-1!==T&&wp(u,a[1].data[D+8]===I)&&la(m,D,a)?(v=M,D=sl(T),a=Br(T,a)):D=-1}}return f}function Bb(o,a,l,u,f,m){const v=a[1],D=v.data[o+8],M=Mo(D,v,l,null==u?za(D)&&Er:u!=v&&0!=(3&D.type),f&rt.Host&&m===D);return null!==M?aa(a,v,M,D):Dr}function Mo(o,a,l,u,f){const m=o.providerIndexes,v=a.data,D=1048575&m,T=o.directiveStart,M=m>>20,K=f?D+M:o.directiveEnd;for(let X=u?D:D+M;X<K;X++){const pe=v[X];if(X<T&&l===pe||X>=T&&pe.type===l)return X}if(f){const X=v[T];if(X&&Lr(X)&&X.type===l)return T}return null}function aa(o,a,l,u){let f=o[l];const m=a.data;if(function il(o){return o instanceof bc}(f)){const v=f;v.resolving&&function st(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Re(-200,`Circular dependency in DI detected for ${o}${l}`)}(function ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ie(o)}(m[l]));const D=Ao(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Ln(v.injectImpl):null;yd(o,u,rt.Default);try{f=o[l]=v.factory(void 0,m,o,u),a.firstCreatePass&&l>=u.directiveStart&&function Xm(o,a,l){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(u){const v=ap(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,f),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,m))}(l,m[l],a)}finally{null!==T&&Ln(T),Ao(D),v.resolving=!1,_c()}}return f}function la(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function wp(o,a){return!(o&rt.Self||o&rt.Host&&a)}class _n{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,u){return Cc(this._tNode,this._lView,a,u,l)}}function c_(){return new _n(Kn(),De())}function Tc(o){return gn(()=>{const a=o.prototype.constructor,l=a[_i]||Cd(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const m=f[_i]||Cd(f);if(m&&m!==l)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Cd(o){return Ge(o)?()=>{const a=Cd(ee(o));return a&&a()}:yi(o)}function u_(o){const a=o[1],l=a.type;return 2===l?a.declTNode:1===l?o[6]:null}function Ep(o){return function Dc(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const u=l.length;let f=0;for(;f<u;){const m=l[f];if(rl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<u&&"string"==typeof l[f];)f++;else{if(m===a)return l[f+1];f+=2}}}return null}(Kn(),o)}const ul="__parameters__";function is(o,a,l){return gn(()=>{const u=function Oo(o){return function(...l){if(o){const u=o(...l);for(const f in u)this[f]=u[f]}}}(a);function f(...m){if(this instanceof f)return u.apply(this,m),this;const v=new f(...m);return D.annotation=v,D;function D(T,I,M){const L=T.hasOwnProperty(ul)?T[ul]:Object.defineProperty(T,ul,{value:[]})[ul];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(v),T}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class dn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=nt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vi(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let u=o[l];Array.isArray(u)?(a===o&&(a=o.slice(0,l)),Vi(u,a)):a!==o&&a.push(u)}return a}function rs(o,a){o.forEach(l=>Array.isArray(l)?rs(l,a):a(l))}function Ad(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Nd(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ac(o,a){const l=[];for(let u=0;u<o;u++)l.push(a);return l}function ar(o,a,l){let u=dl(o,a);return u>=0?o[1|u]=l:(u=~u,function Gb(o,a,l,u){let f=o.length;if(f==a)o.push(l,u);else if(1===f)o.push(u,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=u}}(o,u,a,l)),u}function Nc(o,a){const l=dl(o,a);if(l>=0)return o[1|l]}function dl(o,a){return function __(o,a,l){let u=0,f=o.length>>l;for(;f!==u;){const m=u+(f-u>>1),v=o[m<<l];if(a===v)return m<<l;v>a?f=m:u=m+1}return~(f<<l)}(o,a,1)}const xo={},xd="__NG_DI_FLAG__",Mc="ngTempTokenPath",Rd=/\n/gm,Cs="__source";let bn;function hn(o){const a=bn;return bn=o,a}function y_(o,a=rt.Default){if(void 0===bn)throw new Re(-203,!1);return null===bn?Rr(o,void 0,a):bn.get(o,a&rt.Optional?null:void 0,a)}function Rn(o,a=rt.Default){return(function ti(){return ei}()||y_)(ee(o),a)}function hl(o,a=rt.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),Rn(o,a)}function fl(o){const a=[];for(let l=0;l<o.length;l++){const u=ee(o[l]);if(Array.isArray(u)){if(0===u.length)throw new Re(900,!1);let f,m=rt.Default;for(let v=0;v<u.length;v++){const D=u[v],T=Hr(D);"number"==typeof T?-1===T?f=D.token:m|=T:f=D}a.push(Rn(f,m))}else a.push(Rn(u))}return a}function da(o,a){return o[xd]=a,o.prototype[xd]=a,o}function Hr(o){return o[xd]}const Ro=da(is("Optional"),8),Rc=da(is("SkipSelf"),4);var $r=(()=>(($r=$r||{})[$r.Important=1]="Important",$r[$r.DashCase=2]="DashCase",$r))();const wl=/^>|^->|<!--|-->|--!>|<!-$/g,jc=/(<|>)/;const jd=new Map;let Kb=0;const Hd="__ngContext__";function fi(o,a){Ni(a)?(o[Hd]=a[20],function qb(o){jd.set(o[20],o)}(a)):o[Hd]=a}let $c;function zc(o,a){return $c(o,a)}function Nl(o){const a=o[3];return rr(a)?a[3]:a}function w(o){return y(o[13])}function g(o){return y(o[4])}function y(o){for(;null!==o&&!rr(o);)o=o[4];return o}function S(o,a,l,u,f){if(null!=u){let m,v=!1;rr(u)?m=u:Ni(u)&&(v=!0,u=u[0]);const D=In(u);0===o&&null!==l?null==f?ga(a,l,D):ro(a,l,D,f||null,!0):1===o&&null!==l?ro(a,l,D,f||null,!0):2===o?Pp(a,D,v):3===o&&a.destroyNode(D),null!=m&&function QI(o,a,l,u,f){const m=l[7];m!==In(l)&&S(a,o,u,m,f);for(let D=10;D<l.length;D++){const T=l[D];Jc(T[1],T,o,a,u,m)}}(a,o,m,l,f)}}function R(o,a){return o.createText(a)}function Y(o,a,l){o.setValue(a,l)}function te(o,a){return o.createComment(function Hc(o){return o.replace(wl,a=>a.replace(jc,"\u200b$1\u200b"))}(a))}function Le(o,a,l){return o.createElement(a,l)}function Kc(o,a){const l=o[9],u=l.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,cd(f,-1)),l.splice(u,1)}function qc(o,a){if(o.length<=10)return;const l=10+a,u=o[l];if(u){const f=u[17];null!==f&&f!==o&&Kc(f,u),a>0&&(o[l-1][4]=u[4]);const m=Nd(o,10+a);!function ze(o,a){Jc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Ml(o,a){if(!(128&a[2])){const l=a[11];l.destroyNode&&Jc(o,a,l,3,null,null),function qi(o){let a=o[13];if(!a)return Yc(o[1],o);for(;a;){let l=null;if(Ni(a))l=a[13];else{const u=a[10];u&&(l=u)}if(!l){for(;a&&!a[4]&&a!==o;)Ni(a)&&Yc(a[1],a),a=a[3];null===a&&(a=o),Ni(a)&&Yc(a[1],a),l=a&&a[4]}a=l}}(a)}}function Yc(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Qc(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const f=a[l[u]];if(!(f instanceof bc)){const m=l[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const D=f[m[v]],T=m[v+1];try{T.call(D)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function Zc(o,a){const l=o.cleanup,u=a[7];let f=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],D="function"==typeof v?v(a):In(a[v]),T=u[f=l[m+2]],I=l[m+3];"boolean"==typeof I?D.removeEventListener(l[m],T,I):I>=0?u[f=I]():u[f=-I].unsubscribe(),m+=2}else{const v=u[f=l[m+1]];l[m].call(v)}if(null!==u){for(let m=f+1;m<u.length;m++)(0,u[m])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const l=a[17];if(null!==l&&rr(a[3])){l!==a[3]&&Kc(l,a);const u=a[19];null!==u&&u.detachView(o)}!function Yb(o){jd.delete(o[20])}(a)}}function zd(o,a,l){return Wd(o,a.parent,l)}function Wd(o,a,l){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return l[0];if(2&u.flags){const f=o.data[u.directiveStart].encapsulation;if(f===yt.None||f===yt.Emulated)return null}return or(u,l)}function ro(o,a,l,u,f){o.insertBefore(a,l,u,f)}function ga(o,a,l){o.appendChild(a,l)}function ma(o,a,l,u,f){null!==u?ro(o,a,l,u,f):ga(o,a,l)}function Vo(o,a){return o.parentNode(a)}function Jb(o,a,l){return qI(o,a,l)}function x_(o,a,l){return 40&o.type?or(o,l):null}let Xb,Kd,Xc,qI=x_;function YI(o,a){qI=o,Xb=a}function R_(o,a,l,u){const f=zd(o,u,a),m=a[11],D=Jb(u.parent||a[6],u,a);if(null!=f)if(Array.isArray(l))for(let T=0;T<l.length;T++)ma(m,f,l[T],D,!1);else ma(m,f,l,D,!1);void 0!==Xb&&Xb(m,u,a,l,f)}function kp(o,a){if(null!==a){const l=a.type;if(3&l)return or(a,o);if(4&l)return P_(-1,o[a.index]);if(8&l){const u=a.child;if(null!==u)return kp(o,u);{const f=o[a.index];return rr(f)?P_(-1,f):In(f)}}if(32&l)return zc(a,o)()||In(o[a.index]);{const u=k_(o,a);return null!==u?Array.isArray(u)?u[0]:kp(Nl(o[16]),u):kp(o,a.next)}}return null}function k_(o,a){return null!==a?o[16][6].projection[a.projection]:null}function P_(o,a){const l=10+o+1;if(l<a.length){const u=a[l],f=u[1].firstChild;if(null!==f)return kp(u,f)}return a[7]}function Pp(o,a,l){const u=Vo(o,a);u&&function Rp(o,a,l,u){o.removeChild(a,l,u)}(o,u,a,l)}function Fp(o,a,l,u,f,m,v){for(;null!=l;){const D=u[l.index],T=l.type;if(v&&0===a&&(D&&fi(In(D),u),l.flags|=4),64!=(64&l.flags))if(8&T)Fp(o,a,l.child,u,f,m,!1),S(a,o,f,D,m);else if(32&T){const I=zc(l,u);let M;for(;M=I();)S(a,o,f,M,m);S(a,o,f,D,m)}else 16&T?F_(o,a,u,l,f,m):S(a,o,f,D,m);l=v?l.projectionNext:l.next}}function Jc(o,a,l,u,f,m){Fp(l,u,o.firstChild,a,f,m,!1)}function F_(o,a,l,u,f,m){const v=l[16],T=v[6].projection[u.projection];if(Array.isArray(T))for(let I=0;I<T.length;I++)S(a,o,f,T[I],m);else Fp(o,a,T,v[3],f,m,!0)}function L_(o,a,l){o.setAttribute(a,"style",l)}function V_(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function _a(o){return function B_(){if(void 0===Kd&&(Kd=null,Xt.trustedTypes))try{Kd=Xt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Kd}()?.createHTML(o)||o}function tS(o){Xc=o}function Bo(o){return o instanceof class tw{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?o.changingThisBreaksApplicationSecurity:o}class sw{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(_a(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class aS{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=_a(a),l;const u=this.inertDocument.createElement("body");return u.innerHTML=_a(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(a){const l=a.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let u=a.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const lS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function G_(o){return(o=String(o)).match(lS)?o:"unsafe:"+o}function Is(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function tu(...o){const a={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(a[u]=!0);return a}const aw=Is("area,br,col,hr,img,wbr"),$_=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lw=Is("rp,rt"),z_=tu(aw,tu($_,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(lw,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(lw,$_)),Up=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dS=tu(Up,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));const pw=new dn("ENVIRONMENT_INITIALIZER"),mS=new dn("INJECTOR",-1),jp=new dn("INJECTOR_DEF_TYPES");class gw{get(a,l=xo){if(l===xo){const u=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw u.name="NullInjectorError",u}return l}}function _S(...o){return{\u0275providers:Hp(0,o)}}function Hp(o,...a){const l=[],u=new Set;let f;return rs(a,m=>{const v=m;Qd(v,l,[],u)&&(f||(f=[]),f.push(v))}),void 0!==f&&ya(f,l),l}function ya(o,a){for(let l=0;l<o.length;l++){const{providers:f}=o[l];rs(f,m=>{a.push(m)})}}function Qd(o,a,l,u){if(!(o=ee(o)))return!1;let f=null,m=Fi(o);const v=!m&&k(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const T=o.ngModule;if(m=Fi(T),!m)return!1;f=T}const D=u.has(f);if(v){if(D)return!1;if(u.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const I of T)Qd(I,a,l,u)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let I;u.add(f);try{rs(m.imports,M=>{Qd(M,a,l,u)&&(I||(I=[]),I.push(M))})}finally{}void 0!==I&&ya(I,a)}if(!D){const I=yi(f)||(()=>new f);a.push({provide:f,useFactory:I,deps:Ot},{provide:jp,useValue:f,multi:!0},{provide:pw,useValue:()=>Rn(f),multi:!0})}const T=m.providers;null==T||D||rs(T,M=>{a.push(M)})}}return f!==o&&void 0!==o.providers}const va=Te({provide:String,useValue:Te});function zr(o){return null!==o&&"object"==typeof o&&va in o}function iu(o){return"function"==typeof o}const mw=new dn("Set Injector scope."),Gp={},bS={};let Z_;function Q_(){return void 0===Z_&&(Z_=new gw),Z_}class Jd{}class J_ extends Jd{constructor(a,l,u,f){super(),this.parent=l,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yw(a,v=>this.processProvider(v)),this.records.set(mS,Xd(void 0,this)),f.has("environment")&&this.records.set(Jd,Xd(void 0,this));const m=this.records.get(mw);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(jp.multi,Ot,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const l=hn(this),u=Ln(void 0);try{return a()}finally{hn(l),Ln(u)}}get(a,l=xo,u=rt.Default){this.assertNotDestroyed();const f=hn(this),m=Ln(void 0);try{if(!(u&rt.SkipSelf)){let D=this.records.get(a);if(void 0===D){const T=function iL(o){return"function"==typeof o||"object"==typeof o&&o instanceof dn}(a)&&Rt(a);D=T&&this.injectableDefInScope(T)?Xd(_w(a),Gp):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(u&rt.Self?Q_():this.parent).get(a,l=u&rt.Optional&&l===xo?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Mc]=v[Mc]||[]).unshift(Ee(a)),f)throw v;return function Gr(o,a,l,u){const f=o[Mc];throw a[Cs]&&f.unshift(a[Cs]),o.message=function v_(o,a,l,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let D=a[v];m.push(v+":"+("string"==typeof D?JSON.stringify(D):Ee(D)))}f=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${f}]: ${o.replace(Rd,"\n  ")}`}("\n"+o.message,f,l,u),o.ngTokenPath=f,o[Mc]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{Ln(m),hn(f)}}resolveInjectorInitializers(){const a=hn(this),l=Ln(void 0);try{const u=this.get(pw.multi,Ot,rt.Self);for(const f of u)f()}finally{hn(a),Ln(l)}}toString(){const a=[],l=this.records;for(const u of l.keys())a.push(Ee(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processProvider(a){let l=iu(a=ee(a))?a:ee(a&&a.provide);const u=function eL(o){return zr(o)?Xd(void 0,o.useValue):Xd(wS(o),Gp)}(a);if(iu(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Xd(void 0,Gp,!0),f.factory=()=>fl(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,u)}hydrate(a,l){return l.value===Gp&&(l.value=bS,l.value=l.factory()),"object"==typeof l.value&&l.value&&function nL(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=ee(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function _w(o){const a=Rt(o),l=null!==a?a.factory:yi(o);if(null!==l)return l;if(o instanceof dn)throw new Re(204,!1);if(o instanceof Function)return function XF(o){const a=o.length;if(a>0)throw Ac(a,"?"),new Re(204,!1);const l=function Mn(o){const a=o&&(o[Ai]||o[xr]);if(a){const l=function ui(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Re(204,!1)}function wS(o,a,l){let u;if(iu(o)){const f=ee(o);return yi(f)||_w(f)}if(zr(o))u=()=>ee(o.useValue);else if(function vS(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...fl(o.deps||[]));else if(function yS(o){return!(!o||!o.useExisting)}(o))u=()=>Rn(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function tL(o){return!!o.deps}(o))return yi(f)||_w(f);u=()=>new f(...fl(o.deps))}return u}function Xd(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function rL(o){return!!o.\u0275providers}function yw(o,a){for(const l of o)Array.isArray(l)?yw(l,a):rL(l)?yw(l.\u0275providers,a):a(l)}class ES{}class aL{resolveComponentFactory(a){throw function oL(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let $p=(()=>{class o{}return o.NULL=new aL,o})();function lL(){return eh(Kn(),De())}function eh(o,a){return new zp(or(o,a))}let zp=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=lL,o})();function cL(o){return o instanceof zp?o.nativeElement:o}class CS{}let uL=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function dL(){const o=De(),l=di(Kn().index,o);return(Ni(l)?l:o)[11]}(),o})(),hL=(()=>{class o{}return o.\u0275prov=nt({token:o,providedIn:"root",factory:()=>null}),o})();class TS{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const IS=new TS("14.3.0"),vw={};function ww(o){return o.ngOriginalError}class Wp{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&ww(a);for(;l&&ww(l);)l=ww(l);return l||null}}function AS(o,a,l){let u=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===u||o.charCodeAt(f+m)<=32)return f}l=f+1}}const NS="ng-template";function DL(o,a,l){let u=0;for(;u<o.length;){let f=o[u++];if(l&&"class"===f){if(f=o[u],-1!==AS(f.toLowerCase(),a,0))return!0}else if(1===f){for(;u<o.length&&"string"==typeof(f=o[u++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function MS(o){return 4===o.type&&o.value!==NS}function OS(o,a,l){return a===(4!==o.type||l?o.value:NS)}function CL(o,a,l){let u=4;const f=o.attrs||[],m=function SL(o){for(let a=0;a<o.length;a++)if(rl(o[a]))return a;return o.length}(f);let v=!1;for(let D=0;D<a.length;D++){const T=a[D];if("number"!=typeof T){if(!v)if(4&u){if(u=2|1&u,""!==T&&!OS(o,T,l)||""===T&&1===a.length){if(so(u))return!1;v=!0}}else{const I=8&u?T:a[++D];if(8&u&&null!==o.attrs){if(!DL(o.attrs,I,l)){if(so(u))return!1;v=!0}continue}const L=TL(8&u?"class":T,f,MS(o),l);if(-1===L){if(so(u))return!1;v=!0;continue}if(""!==I){let K;K=L>m?"":f[L+1].toLowerCase();const X=8&u?K:null;if(X&&-1!==AS(X,I,0)||2&u&&I!==K){if(so(u))return!1;v=!0}}}}else{if(!v&&!so(u)&&!so(T))return!1;if(v&&so(T))continue;v=!1,u=T|1&u}}return so(u)||v}function so(o){return 0==(1&o)}function TL(o,a,l,u){if(null===a)return-1;let f=0;if(u||!l){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let D=a[++f];for(;"string"==typeof D;)D=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function AL(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===a)return l;l++}return-1}(a,o)}function xS(o,a,l=!1){for(let u=0;u<a.length;u++)if(CL(o,a[u],l))return!0;return!1}function NL(o,a){e:for(let l=0;l<a.length;l++){const u=a[l];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function RS(o,a){return o?":not("+a.trim()+")":a}function ML(o){let a=o[0],l=1,u=2,f="",m=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&u){const D=o[++l];f+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?f+="."+v:4&u&&(f+=" "+v);else""!==f&&!so(v)&&(a+=RS(m,f),f=""),u=v,m=m||!so(u);l++}return""!==f&&(a+=RS(m,f)),a}const Bt={};function kS(o){PS(Zt(),De(),Wi()+o,!1)}function PS(o,a,l,u){if(!u)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&vc(a,m,l)}else{const m=o.preOrderHooks;null!==m&&sa(a,m,0,l)}ws(l)}function BS(o,a=null,l=null,u){const f=US(o,a,l,u);return f.resolveInjectorInitializers(),f}function US(o,a=null,l=null,u,f=new Set){const m=[l||Ot,_S(o)];return u=u||("object"==typeof o?void 0:Ee(o)),new J_(m,a||Q_(),u||null,f)}let ru=(()=>{class o{static create(l,u){if(Array.isArray(l))return BS({name:""},u,l,"");{const f=l.name??"";return BS({name:f},l.parent,l.providers,f)}}}return o.THROW_IF_NOT_FOUND=xo,o.NULL=new gw,o.\u0275prov=nt({token:o,providedIn:"any",factory:()=>Rn(mS)}),o.__NG_ELEMENT_ID__=-1,o})();function wi(o,a=rt.Default){const l=De();return null===l?Rn(o,a):Cc(Kn(),l,ee(o),a)}function Kp(){throw new Error("invalid")}function wa(o,a){return o<<17|a<<2}function Ns(o){return o>>17&32767}function Cw(o){return 2|o}function Ea(o){return(131068&o)>>2}function ty(o,a){return-131069&o|a<<2}function Yn(o){return 1|o}function t1(o,a){const l=o.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const f=l[u],m=l[u+1];if(-1!==m){const v=o.data[m];bs(f),v.contentQueries(2,a[m],m)}}}function ly(o,a,l,u,f,m,v,D,T,I,M){const L=a.blueprint.slice();return L[0]=f,L[2]=76|u,(null!==M||o&&1024&o[2])&&(L[2]|=1024),ra(L),L[3]=L[15]=o,L[8]=l,L[10]=v||o&&o[10],L[11]=D||o&&o[11],L[12]=T||o&&o[12]||null,L[9]=I||o&&o[9]||null,L[6]=m,L[20]=function N_(){return Kb++}(),L[21]=M,L[16]=2==a.type?o[16]:L,L}function ph(o,a,l,u,f){let m=o.data[a];if(null===m)m=Sw(o,a,l,u,f),function Ob(){return At.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=u,m.attrs=f;const v=Io();m.injectorIndex=null===v?-1:v.injectorIndex}return Vr(m,!0),m}function Sw(o,a,l,u,f){const m=Qa(),v=Ja(),T=o.data[a]=function r1(o,a,l,u,f,m){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,a,u,f);return null===o.firstChild&&(o.firstChild=T),null!==m&&(v?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}function Uo(o,a,l,u){if(0===l)return-1;const f=a.length;for(let m=0;m<l;m++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function cy(o,a,l){mc(a);try{const u=o.viewQuery;null!==u&&py(1,u,l);const f=o.template;null!==f&&Aw(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&t1(o,a),o.staticViewQueries&&py(2,o.viewQuery,l);const m=o.components;null!==m&&function cV(o,a){for(let l=0;l<a.length;l++)h1(o,a[l])}(a,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[2]&=-5,yc()}}function Jp(o,a,l,u){const f=a[2];if(128!=(128&f)){mc(a);try{ra(a),function gd(o){return At.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Aw(o,a,l,2,u);const v=3==(3&f);if(v){const I=o.preOrderCheckHooks;null!==I&&vc(a,I,null)}else{const I=o.preOrderHooks;null!==I&&sa(a,I,0,null),gp(a,0)}if(function Hw(o){for(let a=w(o);null!==a;a=g(a)){if(!a[2])continue;const l=a[9];for(let u=0;u<l.length;u++){const f=l[u],m=f[3];0==(512&f[2])&&cd(m,1),f[2]|=512}}}(a),function u1(o){for(let a=w(o);null!==a;a=g(a))for(let l=10;l<a.length;l++){const u=a[l],f=u[1];To(u)&&Jp(f,u,f.template,u[8])}}(a),null!==o.contentQueries&&t1(o,a),v){const I=o.contentCheckHooks;null!==I&&vc(a,I)}else{const I=o.contentHooks;null!==I&&sa(a,I,1),gp(a,1)}!function aV(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const f=l[u];if(f<0)ws(~f);else{const m=f,v=l[++u],D=l[++u];xb(v,m),D(2,a[m])}}}finally{ws(-1)}}(o,a);const D=o.components;null!==D&&function lV(o,a){for(let l=0;l<a.length;l++)d1(o,a[l])}(a,D);const T=o.viewQuery;if(null!==T&&py(2,T,u),v){const I=o.viewCheckHooks;null!==I&&vc(a,I)}else{const I=o.viewHooks;null!==I&&sa(a,I,2),gp(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,cd(a[3],-1))}finally{yc()}}}function Aw(o,a,l,u,f){const m=Wi(),v=2&u;try{ws(-1),v&&a.length>22&&PS(o,a,22,!1),l(u,f)}finally{ws(m)}}function uy(o,a,l){!fc()||(function kw(o,a,l,u){const f=l.directiveStart,m=l.directiveEnd;o.firstCreatePass||to(l,a),fi(u,a);const v=l.initialInputs;for(let D=f;D<m;D++){const T=o.data[D],I=Lr(T);I&&tg(a,l,T);const M=aa(a,o,D,l);fi(M,a),null!==v&&Bw(0,D-f,M,T,0,v),I&&(di(l.index,a)[8]=M)}}(o,a,l,or(l,a)),128==(128&l.flags)&&function ou(o,a,l){const u=l.directiveStart,f=l.directiveEnd,m=l.index,v=function gc(){return At.lFrame.currentDirectiveIndex}();try{ws(m);for(let D=u;D<f;D++){const T=o.data[D],I=a[D];_d(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Pw(T,I)}}finally{ws(-1),_d(v)}}(o,a,l))}function dy(o,a,l=or){const u=a.localNames;if(null!==u){let f=a.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],D=-1===v?l(a,o):o[v];o[f++]=D}}}function Mw(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Xp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Xp(o,a,l,u,f,m,v,D,T,I){const M=22+u,L=M+f,K=function Ow(o,a){const l=[];for(let u=0;u<a;u++)l.push(u<o?null:Bt);return l}(M,L),X="function"==typeof I?I():I;return K[1]={type:o,blueprint:K,template:l,queries:null,viewQuery:D,declTNode:a,data:K.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function xw(o,a,l,u){const f=au(a);null===l?f.push(u):(f.push(l),o.firstCreatePass&&Gw(o).push(u,f.length-1))}function eg(o,a,l){for(let u in o)if(o.hasOwnProperty(u)){const f=o[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(a,f):l[u]=[a,f]}return l}function s1(o,a){const u=a.directiveEnd,f=o.data,m=a.attrs,v=[];let D=null,T=null;for(let I=a.directiveStart;I<u;I++){const M=f[I],L=M.inputs,K=null===m||MS(a)?null:Uw(L,m);v.push(K),D=eg(L,I,D),T=eg(M.outputs,I,T)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=16),D.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=D,a.outputs=T}function os(o,a,l,u,f,m,v,D){const T=or(a,l);let M,I=a.inputs;!D&&null!=I&&(M=I[u])?(Ww(o,l,M,u,f),za(a)&&o1(l,a.index)):3&a.type&&(u=function dV(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=v?v(f,a.value||"",u):f,m.setProperty(T,u,f))}function o1(o,a){const l=di(a,o);16&l[2]||(l[2]|=32)}function hy(o,a,l,u){let f=!1;if(fc()){const m=function fV(o,a,l){const u=o.directiveRegistry;let f=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];xS(l,v.selectors,!1)&&(f||(f=[]),al(to(l,a),o,v.type),Lr(v)?(Fw(o,l),f.unshift(v)):f.push(v))}return f}(o,a,l),v=null===u?null:{"":-1};if(null!==m){f=!0,c1(l,o.data.length,m.length);for(let M=0;M<m.length;M++){const L=m[M];L.providersResolver&&L.providersResolver(L)}let D=!1,T=!1,I=Uo(o,a,m.length,null);for(let M=0;M<m.length;M++){const L=m[M];l.mergedAttrs=Ec(l.mergedAttrs,L.hostAttrs),Lw(o,l,a,I,L),gV(I,L,v),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const K=L.type.prototype;!D&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),D=!0),!T&&(K.ngOnChanges||K.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),T=!0),I++}s1(o,l)}v&&function pV(o,a,l){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=l[a[f+1]];if(null==m)throw new Re(-301,!1);u.push(a[f],m)}}}(l,u,v)}return l.mergedAttrs=Ec(l.mergedAttrs,l.attrs),f}function Rw(o,a,l,u,f,m){const v=m.hostBindings;if(v){let D=o.hostBindingOpCodes;null===D&&(D=o.hostBindingOpCodes=[]);const T=~a.index;(function l1(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(D)!=T&&D.push(T),D.push(u,f,v)}}function Pw(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Fw(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function gV(o,a,l){if(l){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)l[a.exportAs[u]]=o;Lr(a)&&(l[""]=o)}}function c1(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function Lw(o,a,l,u,f){o.data[u]=f;const m=f.factory||(f.factory=yi(f.type)),v=new bc(m,Lr(f),wi);o.blueprint[u]=v,l[u]=v,Rw(o,a,0,u,Uo(o,l,f.hostVars,Bt),f)}function tg(o,a,l){const u=or(a,o),f=Mw(l),m=o[10],v=ng(o,ly(o,f,null,l.onPush?32:16,u,a,m,m.createRenderer(u,l),null,null,null));o[a.index]=v}function Vw(o,a,l,u,f,m,v){if(null==m)o.removeAttribute(a,f,l);else{const D=null==v?ie(m):v(m,u||"",f);o.setAttribute(a,f,D,l)}}function Bw(o,a,l,u,f,m){const v=m[a];if(null!==v){const D=u.setInput;for(let T=0;T<v.length;){const I=v[T++],M=v[T++],L=v[T++];null!==D?u.setInput(l,L,I,M):l[M]=L}}}function Uw(o,a){let l=null,u=0;for(;u<a.length;){const f=a[u];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,o[f],a[u+1])),u+=2}else u+=2;else u+=4}return l}function fy(o,a,l,u){return new Array(o,!0,!1,a,null,0,u,l,null,null)}function d1(o,a){const l=di(a,o);if(To(l)){const u=l[1];48&l[2]?Jp(u,l,u.template,l[8]):l[5]>0&&Ms(l)}}function Ms(o){for(let u=w(o);null!==u;u=g(u))for(let f=10;f<u.length;f++){const m=u[f];if(To(m))if(512&m[2]){const v=m[1];Jp(v,m,v.template,m[8])}else m[5]>0&&Ms(m)}const l=o[1].components;if(null!==l)for(let u=0;u<l.length;u++){const f=di(l[u],o);To(f)&&f[5]>0&&Ms(f)}}function h1(o,a){const l=di(a,o),u=l[1];(function f1(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(u,l),cy(u,l,l[8])}function ng(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function xi(o){for(;o;){o[2]|=32;const a=Nl(o);if(cc(o)&&!a)return o;o=a}return null}function gh(o,a,l,u=!0){const f=a[10];f.begin&&f.begin();try{Jp(o,a,o.template,l)}catch(v){throw u&&zw(a,v),v}finally{f.end&&f.end()}}function py(o,a,l){bs(0),a(o,l)}function au(o){return o[7]||(o[7]=[])}function Gw(o){return o.cleanup||(o.cleanup=[])}function $w(o,a,l){return(null===o||Lr(o))&&(l=function hc(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function zw(o,a){const l=o[9],u=l?l.get(Wp,null):null;u&&u.handleError(a)}function Ww(o,a,l,u,f){for(let m=0;m<l.length;){const v=l[m++],D=l[m++],T=a[v],I=o.data[v];null!==I.setInput?I.setInput(T,f,u,D):T[D]=f}}function lu(o,a,l){let u=l?o.styles:null,f=l?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const D=a[v];"number"==typeof D?m=D:1==m?f=Pe(f,D):2==m&&(u=Pe(u,D+": "+a[++v]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=f:o.classesWithoutHost=f}function xl(o,a,l,u,f=!1){for(;null!==l;){const m=a[l.index];if(null!==m&&u.push(In(m)),rr(m))for(let D=10;D<m.length;D++){const T=m[D],I=T[1].firstChild;null!==I&&xl(T[1],T,I,u)}const v=l.type;if(8&v)xl(o,a,l.child,u);else if(32&v){const D=zc(l,a);let T;for(;T=D();)u.push(T)}else if(16&v){const D=k_(a,l);if(Array.isArray(D))u.push(...D);else{const T=Nl(a[16]);xl(T[1],T,D,u,!0)}}l=f?l.projectionNext:l.next}return u}class cu{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return xl(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(rr(a)){const l=a[8],u=l?l.indexOf(this):-1;u>-1&&(qc(a,u),Nd(l,u))}this._attachedToViewContainer=!1}Ml(this._lView[1],this._lView)}onDestroy(a){xw(this._lView[1],this._lView,null,a)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){gh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lt(o,a){Jc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Re(902,!1);this._appRef=a}}class p1 extends cu{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;gh(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class Kw extends $p{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=k(a);return new mh(l,this.ngModule)}}function qw(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class ig{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,u){const f=this.injector.get(a,vw,u);return f!==vw||l===vw?f:this.parentInjector.get(a,l,u)}}class mh extends ES{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function OL(o){return o.map(ML).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return qw(this.componentDef.inputs)}get outputs(){return qw(this.componentDef.outputs)}create(a,l,u,f){let m=(f=f||this.ngModule)instanceof Jd?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new ig(a,m):a,D=v.get(CS,null);if(null===D)throw new Re(407,!1);const T=v.get(hL,null),I=D.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",L=u?function n1(o,a,l){return o.selectRootElement(a,l===yt.ShadowDom)}(I,u,this.componentDef.encapsulation):Le(I,M,function g1(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),K=this.componentDef.onPush?288:272,X=Xp(0,null,null,1,0,null,null,null,null,null),pe=ly(null,X,null,K,null,null,D,I,T,v,null);let Ve,Ke;mc(pe);try{const ct=function _1(o,a,l,u,f,m){const v=l[1];l[22]=o;const T=ph(v,22,2,"#host",null),I=T.mergedAttrs=a.hostAttrs;null!==I&&(lu(T,I,!0),null!==o&&(bd(f,o,I),null!==T.classes&&V_(f,o,T.classes),null!==T.styles&&L_(f,o,T.styles)));const M=u.createRenderer(o,a),L=ly(l,Mw(a),null,a.onPush?32:16,l[22],T,u,M,m||null,null,null);return v.firstCreatePass&&(al(to(T,l),v,a.type),Fw(v,T),c1(T,l.length,1)),ng(l,L),l[22]=L}(L,this.componentDef,pe,D,I);if(L)if(u)bd(I,L,["ng-version",IS.full]);else{const{attrs:It,classes:ve}=function xL(o){const a=[],l=[];let u=1,f=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++u]):8===f&&l.push(m);else{if(!so(f))break;f=m}u++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);It&&bd(I,L,It),ve&&ve.length>0&&V_(I,L,ve.join(" "))}if(Ke=eo(X,22),void 0!==l){const It=Ke.projection=[];for(let ve=0;ve<this.ngContentSelectors.length;ve++){const it=l[ve];It.push(null!=it?Array.from(it):null)}}Ve=function y1(o,a,l,u){const f=l[1],m=function a1(o,a,l){const u=Kn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Lw(o,u,a,Uo(o,a,1,null),l),s1(o,u));const f=aa(a,o,u.directiveStart,u);fi(f,a);const m=or(u,a);return m&&fi(m,a),f}(f,l,a);if(o[8]=l[8]=m,null!==u)for(const D of u)D(m,a);if(a.contentQueries){const D=Kn();a.contentQueries(1,m,D.directiveStart)}const v=Kn();return!f.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ws(v.index),Rw(l[1],v,0,v.directiveStart,v.directiveEnd,a),Pw(a,m)),m}(ct,this.componentDef,pe,[rg]),cy(X,pe,null)}finally{yc()}return new vV(this.componentType,Ve,eh(Ke,pe),pe,Ke)}}class vV extends class sL{}{constructor(a,l,u,f,m){super(),this.location=u,this._rootLView=f,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new p1(f),this.componentType=a}setInput(a,l){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){const m=this._rootLView;Ww(m[1],m,f,a,l),o1(m,this._tNode.index)}}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function rg(){const o=Kn();nl(De()[1],o)}function my(o){let a=function gy(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;a;){let f;if(Lr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Re(903,!1);f=a.\u0275dir}if(f){if(l){u.push(f);const v=o;v.inputs=_y(o.inputs),v.declaredInputs=_y(o.declaredInputs),v.outputs=_y(o.outputs);const D=f.hostBindings;D&&wV(o,D);const T=f.viewQuery,I=f.contentQueries;if(T&&b1(o,T),I&&yy(o,I),ge(o.inputs,f.inputs),ge(o.declaredInputs,f.declaredInputs),ge(o.outputs,f.outputs),Lr(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const D=m[v];D&&D.ngInherit&&D(o),D===my&&(l=!1)}}a=Object.getPrototypeOf(a)}!function v1(o){let a=0,l=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=Ec(f.hostAttrs,l=Ec(l,f.hostAttrs))}}(u)}function _y(o){return o===zn?{}:o===Ot?[]:o}function b1(o,a){const l=o.viewQuery;o.viewQuery=l?(u,f)=>{a(u,f),l(u,f)}:a}function yy(o,a){const l=o.contentQueries;o.contentQueries=l?(u,f,m)=>{a(u,f,m),l(u,f,m)}:a}function wV(o,a){const l=o.hostBindings;o.hostBindings=l?(u,f)=>{a(u,f),l(u,f)}:a}let vy=null;function uu(){if(!vy){const o=Xt.Symbol;if(o&&o.iterator)vy=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const u=a[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vy=u)}}}return vy}function sg(o){return!!Yw(o)&&(Array.isArray(o)||!(o instanceof Map)&&uu()in o)}function Yw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Os(o,a,l){return o[a]=l}function ur(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function du(o,a,l,u){const f=ur(o,a,l);return ur(o,a+1,u)||f}function Zw(o,a,l,u){const f=De();return ur(f,So(),a)&&(Zt(),function as(o,a,l,u,f,m){const v=or(o,a);Vw(a[11],v,m,o.value,l,u,f)}(xn(),f,o,a,l,u)),Zw}function vh(o,a,l,u){return ur(o,So(),l)?a+ie(l)+u:Bt}function S1(o,a,l,u,f,m,v,D){const T=De(),I=Zt(),M=o+22,L=I.firstCreatePass?function TV(o,a,l,u,f,m,v,D,T){const I=a.consts,M=ph(a,o,4,v||null,ii(I,D));hy(a,l,M,ii(I,T)),nl(a,M);const L=M.tViews=Xp(2,M,u,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,I);return null!==a.queries&&(a.queries.template(a,M),L.queries=a.queries.embeddedTView(M)),M}(M,I,T,a,l,u,f,m,v):I.data[M];Vr(L,!1);const K=T[11].createComment("");R_(I,T,K,L),fi(K,T),ng(T,T[M]=fy(K,T,K,L)),ta(L)&&uy(I,T,L),null!=v&&dy(T,L,D)}function A1(o){return function Ya(o,a){return o[a]}(function Un(){return At.lFrame.contextLView}(),22+o)}function hu(o,a,l){const u=De();return ur(u,So(),a)&&os(Zt(),xn(),u,o,a,u[11],l,!1),hu}function Xw(o,a,l,u,f){const v=f?"class":"style";Ww(o,l,a.inputs[v],v,u)}function Ih(o,a,l,u){const f=De(),m=Zt(),v=22+o,D=f[11],T=f[v]=Le(D,a,function pp(){return At.lFrame.currentNamespace}()),I=m.firstCreatePass?function Th(o,a,l,u,f,m,v){const D=a.consts,I=ph(a,o,2,f,ii(D,m));return hy(a,l,I,ii(D,v)),null!==I.attrs&&lu(I,I.attrs,!1),null!==I.mergedAttrs&&lu(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(v,m,f,0,a,l,u):m.data[v];Vr(I,!0);const M=I.mergedAttrs;null!==M&&bd(D,T,M);const L=I.classes;null!==L&&V_(D,T,L);const K=I.styles;return null!==K&&L_(D,T,K),64!=(64&I.flags)&&R_(m,f,T,I),0===function Km(){return At.lFrame.elementDepthCount}()&&fi(T,f),function qm(){At.lFrame.elementDepthCount++}(),ta(I)&&(uy(m,f,I),function Nw(o,a,l){if(ns(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}(m,I,f)),null!==u&&dy(f,I),Ih}function ug(){let o=Kn();Ja()?pd():(o=o.parent,Vr(o,!1));const a=o;!function ud(){At.lFrame.elementDepthCount--}();const l=Zt();return l.firstCreatePass&&(nl(l,o),ns(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Lb(o){return 0!=(16&o.flags)}(a)&&Xw(l,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function i_(o){return 0!=(32&o.flags)}(a)&&Xw(l,a,De(),a.stylesWithoutHost,!1),ug}function eE(o,a,l,u){return Ih(o,a,l,u),ug(),eE}function tE(){return De()}function Cy(o){return!!o&&"function"==typeof o.then}function Ty(o){return!!o&&"function"==typeof o.subscribe}const M1=Ty;function nE(o,a,l,u){const f=De(),m=Zt(),v=Kn();return O1(m,f,f[11],v,o,a,0,u),nE}function Iy(o,a){const l=Kn(),u=De(),f=Zt();return O1(f,u,$w(Xa(f.data),l,u),l,o,a),Iy}function O1(o,a,l,u,f,m,v,D){const T=ta(u),M=o.firstCreatePass&&Gw(o),L=a[8],K=au(a);let X=!0;if(3&u.type||D){const Ke=or(u,a),ct=D?D(Ke):Ke,It=K.length,ve=D?on=>D(In(on[u.index])):u.index;let it=null;if(!D&&T&&(it=function IV(o,a,l,u){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===l&&f[m+1]===u){const D=a[7],T=f[m+2];return D.length>T?D[T]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,u.index)),null!==it)(it.__ngLastListenerFn__||it).__ngNextListenerFn__=m,it.__ngLastListenerFn__=m,X=!1;else{m=iE(u,a,L,m,!1);const on=l.listen(ct,f,m);K.push(m,on),M&&M.push(f,ve,It,It+1)}}else m=iE(u,a,L,m,!1);const pe=u.outputs;let Ve;if(X&&null!==pe&&(Ve=pe[f])){const Ke=Ve.length;if(Ke)for(let ct=0;ct<Ke;ct+=2){const An=a[Ve[ct]][Ve[ct+1]].subscribe(m),zo=K.length;K.push(m,An),M&&M.push(f,u.index,zo,-(zo+1))}}}function Sy(o,a,l,u){try{return!1!==l(u)}catch(f){return zw(o,f),!1}}function iE(o,a,l,u,f){return function m(v){if(v===Function)return u;xi(2&o.flags?di(o.index,a):a);let T=Sy(a,0,u,v),I=m.__ngNextListenerFn__;for(;I;)T=Sy(a,0,I,v)&&T,I=I.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function rE(o=1){return function kb(o){return(At.lFrame.contextLView=function dp(o,a){for(;o>0;)a=a[15],o--;return a}(o,At.lFrame.contextLView))[8]}(o)}function hg(o,a){let l=null;const u=function IL(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===u?xS(o,m,!0):NL(u,m))return f}else l=f}return l}function fu(o){const a=De()[16][6];if(!a.projection){const u=a.projection=Ac(o?o.length:1,null),f=u.slice();let m=a.child;for(;null!==m;){const v=o?hg(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:u[v]=m,f[v]=m),m=m.next}}}function Ay(o,a=0,l){const u=De(),f=Zt(),m=ph(f,22+o,16,null,l||null);null===m.projection&&(m.projection=a),pd(),64!=(64&m.flags)&&function ZI(o,a,l){F_(a[11],0,a,l,zd(o,l,a),Jb(l.parent||a[6],l,a))}(f,u,m)}function Ny(o,a,l){return fg(o,"",a,"",l),Ny}function fg(o,a,l,u,f){const m=De(),v=vh(m,a,l,u);return v!==Bt&&os(Zt(),xn(),m,o,v,m[11],f,!1),fg}function aE(o,a,l,u,f){const m=o[l+1],v=null===a;let D=u?Ns(m):Ea(m),T=!1;for(;0!==D&&(!1===T||v);){const M=o[D+1];NV(o[D],a)&&(T=!0,o[D+1]=u?Yn(M):Cw(M)),D=u?Ns(M):Ea(M)}T&&(o[l+1]=u?Cw(m):Yn(m))}function NV(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&dl(o,a)>=0}const Ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lE(o){return o.substring(Ri.key,Ri.keyEnd)}function P1(o,a){const l=Ri.textEnd;return l===a?-1:(a=Ri.keyEnd=function hE(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,Ri.key=a,l),Nh(o,a,l))}function Nh(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function Py(o,a,l){return oo(o,a,l,!1),Py}function Fy(o,a){return oo(o,a,null,!0),Fy}function pE(o){!function ao(o,a,l,u){const f=Zt(),m=zi(2);f.firstUpdatePass&&V1(f,null,m,u);const v=De();if(l!==Bt&&ur(v,m,l)){const D=f.data[Wi()];if(H1(D,u)&&!L1(f,m)){let T=u?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(l=Pe(T,l||"")),Xw(f,D,v,l,u)}else!function kV(o,a,l,u,f,m,v,D){f===Bt&&(f=Ot);let T=0,I=0,M=0<f.length?f[0]:null,L=0<m.length?m[0]:null;for(;null!==M||null!==L;){const K=T<f.length?f[T+1]:void 0,X=I<m.length?m[I+1]:void 0;let Ve,pe=null;M===L?(T+=2,I+=2,K!==X&&(pe=L,Ve=X)):null===L||null!==M&&M<L?(T+=2,pe=M):(I+=2,pe=L,Ve=X),null!==pe&&U1(o,a,l,u,pe,Ve,v,D),M=T<f.length?f[T]:null,L=I<m.length?m[I]:null}}(f,D,v,v[11],v[m+1],v[m+1]=function mE(o,a,l){if(null==l||""===l)return Ot;const u=[],f=Bo(l);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(u,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(u,m,f[m]);else"string"==typeof f&&a(u,f);return u}(o,a,l),u,m)}}(ar,ks,o,!0)}function ks(o,a){for(let l=function cE(o){return function Ah(o){Ri.key=0,Ri.keyEnd=0,Ri.value=0,Ri.valueEnd=0,Ri.textEnd=o.length}(o),P1(o,Nh(o,0,Ri.textEnd))}(a);l>=0;l=P1(a,l))ar(o,lE(a),!0)}function oo(o,a,l,u){const f=De(),m=Zt(),v=zi(2);m.firstUpdatePass&&V1(m,o,v,u),a!==Bt&&ur(f,v,a)&&U1(m,m.data[Wi()],f,f[11],o,f[v+1]=function PV(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(Bo(o)))),o}(a,l),u,v)}function L1(o,a){return a>=o.expandoStartIndex}function V1(o,a,l,u){const f=o.data;if(null===f[l+1]){const m=f[Wi()],v=L1(o,l);H1(m,u)&&null===a&&!v&&(a=!1),a=function OV(o,a,l,u){const f=Xa(o);let m=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(l=Mh(l=Vy(null,o,a,l,u),a.attrs,u),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(l=Vy(f,o,a,l,u),null===m){let T=function gE(o,a,l){const u=l?a.classBindings:a.styleBindings;if(0!==Ea(u))return o[Ns(u)]}(o,a,u);void 0!==T&&Array.isArray(T)&&(T=Vy(null,o,a,T[1],u),T=Mh(T,a.attrs,u),function xV(o,a,l,u){o[Ns(l?a.classBindings:a.styleBindings)]=u}(o,a,u,T))}else m=function RV(o,a,l){let u;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)u=Mh(u,o[m].hostAttrs,l);return Mh(u,a.attrs,l)}(o,a,u)}return void 0!==m&&(u?a.residualClasses=m:a.residualStyles=m),l}(f,m,a,u),function pu(o,a,l,u,f,m){let v=m?a.classBindings:a.styleBindings,D=Ns(v),T=Ea(v);o[u]=l;let M,I=!1;if(Array.isArray(l)){const L=l;M=L[1],(null===M||dl(L,M)>0)&&(I=!0)}else M=l;if(f)if(0!==T){const K=Ns(o[D+1]);o[u+1]=wa(K,D),0!==K&&(o[K+1]=ty(o[K+1],u)),o[D+1]=function qn(o,a){return 131071&o|a<<17}(o[D+1],u)}else o[u+1]=wa(D,0),0!==D&&(o[D+1]=ty(o[D+1],u)),D=u;else o[u+1]=wa(T,0),0===D?D=u:o[T+1]=ty(o[T+1],u),T=u;I&&(o[u+1]=Cw(o[u+1])),aE(o,M,u,!0),aE(o,M,u,!1),function AV(o,a,l,u,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&dl(m,a)>=0&&(l[u+1]=Yn(l[u+1]))}(a,M,o,u,m),v=wa(D,T),m?a.classBindings=v:a.styleBindings=v}(f,m,a,l,v,u)}}function Vy(o,a,l,u,f){let m=null;const v=l.directiveEnd;let D=l.directiveStylingLast;for(-1===D?D=l.directiveStart:D++;D<v&&(m=a[D],u=Mh(u,m.hostAttrs,f),m!==o);)D++;return null!==o&&(l.directiveStylingLast=D),u}function Mh(o,a,l){const u=l?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ar(o,v,!!l||a[++m]))}return void 0===o?null:o}function U1(o,a,l,u,f,m,v,D){if(!(3&a.type))return;const T=o.data,I=T[D+1];By(function sh(o){return 1==(1&o)}(I)?j1(T,a,l,f,Ea(I),v):void 0)||(By(m)||function rh(o){return 2==(2&o)}(I)&&(m=j1(T,null,l,f,D,v)),function $F(o,a,l,u,f){if(a)f?o.addClass(l,u):o.removeClass(l,u);else{let m=-1===u.indexOf("-")?void 0:$r.DashCase;null==f?o.removeStyle(l,u,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=$r.Important),o.setStyle(l,u,f,m))}}(u,v,qa(Wi(),l),f,m))}function j1(o,a,l,u,f,m){const v=null===a;let D;for(;f>0;){const T=o[f],I=Array.isArray(T),M=I?T[1]:T,L=null===M;let K=l[f+1];K===Bt&&(K=L?Ot:void 0);let X=L?Nc(K,u):M===u?K:void 0;if(I&&!By(X)&&(X=Nc(T,u)),By(X)&&(D=X,v))return D;const pe=o[f+1];f=v?Ns(pe):Ea(pe)}if(null!==a){let T=m?a.residualClasses:a.residualStyles;null!=T&&(D=Nc(T,u))}return D}function By(o){return void 0!==o}function H1(o,a){return 0!=(o.flags&(a?16:32))}function G1(o,a=""){const l=De(),u=Zt(),f=o+22,m=u.firstCreatePass?ph(u,f,1,a,null):u.data[f],v=l[f]=R(l[11],a);R_(u,l,v,m),Vr(m,!1)}function _E(o){return Uy("",o,""),_E}function Uy(o,a,l){const u=De(),f=vh(u,o,a,l);return f!==Bt&&function jo(o,a,l){const u=qa(a,o);Y(o[11],u,l)}(u,Wi(),f),Uy}function EE(o,a,l){const u=De();return ur(u,So(),a)&&os(Zt(),xn(),u,o,a,u[11],l,!0),EE}function DE(o,a,l){const u=De();if(ur(u,So(),a)){const m=Zt(),v=xn();os(m,v,u,o,a,$w(Xa(m.data),v,u),l,!0)}return DE}const gu=void 0;var KV=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WV(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let xh={};function Hy(o){const a=function mu(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Gy(a);if(l)return l;const u=a.split("-")[0];if(l=Gy(u),l)return l;if("en"===u)return KV;throw new Re(701,!1)}function CE(o){return Hy(o)[Tt.PluralCase]}function Gy(o){return o in xh||(xh[o]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[o]),xh[o]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const TE=["zero","one","two","few","many"],Pl="en-US",Rh={marker:"element"},$y={marker:"ICU"};var jn=(()=>((jn=jn||{})[jn.SHIFT=2]="SHIFT",jn[jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",jn[jn.COMMENT=2]="COMMENT",jn))();let zy=Pl;function _u(o){(function Ae(o,a){null==o&&ye(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(zy=o.toLowerCase().replace(/_/g,"-"))}function pg(o,a,l){const u=a.insertBeforeIndex,f=Array.isArray(u)?u[0]:u;return null===f?x_(o,0,l):In(l[f])}function SE(o,a,l,u,f){const m=a.insertBeforeIndex;if(Array.isArray(m)){let v=u,D=null;if(3&a.type||(D=v,v=f),null!==v&&0==(2&a.flags))for(let T=1;T<m.length;T++)ro(o,v,l[m[T]],D,!1)}}function Fl(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const u=o[l];AE(u)||gg(u,a)&&null===dA(u)&&hA(u,a.index)}}function AE(o){return!(64&o.type)}function gg(o,a){return AE(a)||o.index>a.index}function dA(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function hA(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(YI(pg,SE),o.insertBeforeIndex=a)}function yu(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function gA(o,a,l){const u=Sw(o,l,64,null,null);return Fl(a,u),u}function kh(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function mA(o){return o>>>17}function NE(o){return(131070&o)>>>1}let Ph=0,vu=0;function yA(o,a,l,u){const f=l[11];let v,m=null;for(let D=0;D<a.length;D++){const T=a[D];if("string"==typeof T){const I=a[++D];null===l[I]&&(l[I]=R(f,T))}else if("number"==typeof T)switch(1&T){case 0:const I=mA(T);let M,L;if(null===m&&(m=I,v=Vo(f,u)),I===m?(M=u,L=v):(M=null,L=In(l[I])),null!==L){const Ve=NE(T);ro(f,L,l[Ve],M,!1);const ct=yu(o,Ve);if(null!==ct&&"object"==typeof ct){const It=kh(ct,l);null!==It&&yA(o,ct.create[It],l,l[ct.anchorIdx])}}break;case 1:const X=a[++D],pe=a[++D];Vw(f,qa(T>>>1,l),null,null,X,pe,null)}else switch(T){case $y:const I=a[++D],M=a[++D];null===l[M]&&fi(l[M]=te(f,I),l);break;case Rh:const L=a[++D],K=a[++D];null===l[K]&&fi(l[K]=Le(f,L,null),l)}}}function vA(o,a,l,u,f){for(let m=0;m<l.length;m++){const v=l[m],D=l[++m];if(v&f){let T="";for(let I=m+1;I<=m+D;I++){const M=l[I];if("string"==typeof M)T+=M;else if("number"==typeof M)if(M<0)T+=ie(a[u-M]);else{const L=M>>>2;switch(3&M){case 1:const K=l[++I],X=l[++I],pe=o.data[L];"string"==typeof pe?Vw(a[11],a[L],null,pe,K,T,X):os(o,pe,a,K,T,a[11],X,!1);break;case 0:const Ve=a[L];null!==Ve&&Y(a[11],Ve,T);break;case 2:OE(o,yu(o,L),a,T);break;case 3:bA(o,yu(o,L),u,a)}}}}else{const T=l[m+1];if(T>0&&3==(3&T)){const M=yu(o,T>>>2);a[M.currentCaseLViewIndex]<0&&bA(o,M,u,a)}}m+=D}}function bA(o,a,l,u){let f=u[a.currentCaseLViewIndex];if(null!==f){let m=Ph;f<0&&(f=u[a.currentCaseLViewIndex]=~f,m=-1),vA(o,u,a.update[f],l,m)}}function OE(o,a,l,u){const f=function wA(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const u=function qV(o,a){const l=CE(a)(parseInt(o,10)),u=TE[l];return void 0!==u?u:"other"}(a,function IE(){return zy}());l=o.cases.indexOf(u),-1===l&&"other"!==u&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,u);if(kh(a,l)!==f&&(xE(o,a,l),l[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=l[a.anchorIdx];v&&yA(o,a.create[f],l,v)}}function xE(o,a,l){let u=kh(a,l);if(null!==u){const f=a.remove[u];for(let m=0;m<f.length;m++){const v=f[m];if(v>0){const D=qa(v,l);null!==D&&Pp(l[11],D)}else xE(o,yu(o,~v),l)}}}function RE(){const o=[];let l,u,a=-1;function m(D,T){a=0;const I=kh(D,T);u=null!==I?D.remove[I]:Ot}function v(){if(a<u.length){const D=u[a++];return D>0?l[D]:(o.push(a,u),m(l[1].data[~D],l),v())}return 0===o.length?null:(u=o.pop(),a=o.pop(),v())}return function f(D,T){for(l=T;o.length;)o.pop();return m(D.value,T),v}}const mg=/\ufffd(\d+):?\d*\ufffd/gi,Wy=/\ufffd(\d+)\ufffd/,Lh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,CA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TA=/\uE500/g;function Fs(o,a,l,u,f,m,v){const D=Uo(o,u,1,null);let T=D<<jn.SHIFT,I=Io();a===I&&(I=null),null===I&&(T|=jn.APPEND_EAGERLY),v&&(T|=jn.COMMENT,function xp(o){void 0===$c&&($c=o())}(RE)),f.push(T,null===m?"":m);const M=Sw(o,D,v?32:1,null===m?"":m,null);Fl(l,M);const L=M.index;return Vr(M,!1),null!==I&&a!==I&&function pA(o,a){let l=o.insertBeforeIndex;null===l?(YI(pg,SE),l=o.insertBeforeIndex=[null,a]):(function de(o,a,l){o!=a&&ye(l,o,a,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(I,L),M}function SA(o,a,l,u,f,m,v){const D=v.match(mg),T=Fs(o,a,l,m,u,D?null:v,!1);D&&Ui(f,v,T.index,null,0,null)}function Ui(o,a,l,u,f,m){const v=o.length,D=v+1;o.push(null,null);const T=v+2,I=a.split(mg);let M=0;for(let L=0;L<I.length;L++){const K=I[L];if(1&L){const X=f+parseInt(K,10);o.push(-1-X),M|=ls(X)}else""!==K&&o.push(K)}return o.push(l<<2|(u?1:0)),u&&o.push(u,m),o[v]=M,o[D]=o.length-T,M}function ls(o){return 1<<Math.min(o,31)}function yg(o){let a,m,l="",u=0,f=!1;for(;null!==(a=CA.exec(o));)f?a[0]===`\ufffd/*${m}\ufffd`&&(u=a.index,f=!1):(l+=o.substring(u,a.index+a[0].length),m=a[1],f=!0);return l+=o.slice(u),l}function Ll(o,a,l,u,f,m){let v=0;const D={type:f.type,currentCaseLViewIndex:Uo(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function BE(o,a,l){o.push(ls(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(l,f,m),function fA(o,a,l){const u=o.data[a];null===u?o.data[a]=l:u.value=l}(o,m,D);const T=f.values;for(let I=0;I<T.length;I++){const M=T[I],L=[];for(let K=0;K<M.length;K++){const X=M[K];if("string"!=typeof X){const pe=L.push(X)-1;M[K]=`\x3c!--\ufffd${pe}\ufffd--\x3e`}}v=FE(o,D,a,l,u,f.cases[I],M.join(""),L)|v}v&&function AA(o,a,l){o.push(a,1,l<<2|3)}(l,v,m)}function Uh(o){const a=[],l=[];let u=1,f=0;const m=Ky(o=o.replace(Lh,function(v,D,T){return u="select"===T?0:1,f=parseInt(D.slice(1),10),""}));for(let v=0;v<m.length;){let D=m[v++].trim();1===u&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const T=Ky(m[v++]);a.length>l.length&&l.push(T)}return{type:u,mainBinding:f,cases:a,values:l}}function Ky(o){if(!o)return[];let a=0;const l=[],u=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(o);){const D=m.index;if("}"==m[0]){if(l.pop(),0==l.length){const T=o.substring(a,D);Lh.test(T)?u.push(Uh(T)):u.push(T),a=D+1}}else{if(0==l.length){const T=o.substring(a,D);u.push(T),a=D+1}l.push("{")}}const v=o.substring(a);return u.push(v),u}function FE(o,a,l,u,f,m,v,D){const T=[],I=[],M=[];a.cases.push(m),a.create.push(T),a.remove.push(I),a.update.push(M);const K=function rw(o){const a=new aS(o);return function ow(){try{return!!(new window.DOMParser).parseFromString(_a(""),"text/html")}catch{return!1}}()?new sw(a):a}(function Lp(){return void 0!==Xc?Xc:typeof document<"u"?document:void 0}()).getInertBodyElement(v),X=function dw(o){return"content"in o&&function YF(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}(K)||K;return X?bu(o,a,l,u,T,I,M,X,f,D,0):0}function bu(o,a,l,u,f,m,v,D,T,I,M){let L=0,K=D.firstChild;for(;K;){const X=Uo(o,l,1,null);switch(K.nodeType){case Node.ELEMENT_NODE:const pe=K,Ve=pe.tagName.toLowerCase();if(z_.hasOwnProperty(Ve)){qy(f,Rh,Ve,T,X),o.data[X]=Ve;const ve=pe.attributes;for(let it=0;it<ve.length;it++){const on=ve.item(it),An=on.name.toLowerCase();on.value.match(mg)?dS.hasOwnProperty(An)&&Ui(v,on.value,X,on.name,0,Up[An]?G_:null):NA(f,X,on)}L=bu(o,a,l,u,f,m,v,K,X,I,M+1)|L,LE(m,X,M)}break;case Node.TEXT_NODE:const Ke=K.textContent||"",ct=Ke.match(mg);qy(f,null,ct?"":Ke,T,X),LE(m,X,M),ct&&(L=Ui(v,Ke,X,null,0,null)|L);break;case Node.COMMENT_NODE:const It=Wy.exec(K.textContent||"");if(It){const it=I[parseInt(It[1],10)];qy(f,$y,"",T,X),Ll(o,l,u,T,it,X),VE(m,X,M)}}K=K.nextSibling}return L}function LE(o,a,l){0===l&&o.push(a)}function VE(o,a,l){0===l&&(o.push(~a),o.push(a))}function qy(o,a,l,u,f){null!==a&&o.push(a),o.push(l,f,function _A(o,a,l){return o|a<<17|l<<1}(0,u,f))}function NA(o,a,l){o.push(a<<1|1,l.name,l.value)}function qr(o,a,l=-1){const u=Zt(),f=De(),m=22+o,v=ii(u.consts,a),D=Io();u.firstCreatePass&&function _g(o,a,l,u,f,m){const v=Io(),D=[],T=[],I=[[]];f=function Bh(o,a){if(function Wr(o){return-1===o}(a))return yg(o);{const l=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,u=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return yg(o.substring(l,u))}}(f,m);const M=function IA(o){return o.replace(TA," ")}(f).split(kE);for(let L=0;L<M.length;L++){let K=M[L];if(0==(1&L)){const X=Ky(K);for(let pe=0;pe<X.length;pe++){let Ve=X[pe];if(0==(1&pe)){const Ke=Ve;""!==Ke&&SA(o,v,I[0],D,T,l,Ke)}else{const Ke=Ve;if("object"!=typeof Ke)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Ll(o,l,T,a,Ke,Fs(o,v,I[0],l,D,"",!0).index)}}}else{const X=47===K.charCodeAt(0),Ve=(K.charCodeAt(X?1:0),22+Number.parseInt(K.substring(X?2:1)));if(X)I.shift(),Vr(Io(),!1);else{const Ke=gA(o,I[0],Ve);I.unshift([]),Vr(Ke,!0)}}}o.data[u]={create:D,update:T}}(u,null===D?0:D.index,f,m,v,l);const T=u.data[m],M=Wd(u,D===f[6]?null:D,f);(function JV(o,a,l,u){const f=o[11];for(let m=0;m<a.length;m++){const v=a[m++],D=a[m],T=(v&jn.COMMENT)===jn.COMMENT,I=(v&jn.APPEND_EAGERLY)===jn.APPEND_EAGERLY,M=v>>>jn.SHIFT;let L=o[M];null===L&&(L=o[M]=T?f.createComment(D):R(f,D)),I&&null!==l&&ro(f,l,L,u,!1)}})(f,T.create,M,D&&8&D.type?f[D.index]:null),md(!0)}function Ho(o,a,l){qr(o,a,l),function vg(){md(!1)}()}function wu(o){return function ZV(o){o&&(Ph|=1<<Math.min(vu,31)),vu++}(ur(De(),So(),o)),wu}function Ul(o){!function QV(o,a,l){if(vu>0){const u=o.data[l];vA(o,a,Array.isArray(u)?u:u.update,function wr(){return At.lFrame.bindingIndex}()-vu-1,Ph)}Ph=0,vu=0}(Zt(),De(),o+22)}function Sa(o,a,l,u,f){if(o=ee(o),Array.isArray(o))for(let m=0;m<o.length;m++)Sa(o[m],a,l,u,f);else{const m=Zt(),v=De();let D=iu(o)?o:ee(o.provide),T=wS(o);const I=Kn(),M=1048575&I.providerIndexes,L=I.directiveStart,K=I.providerIndexes>>20;if(iu(o)||!o.multi){const X=new bc(T,f,wi),pe=Zy(D,a,f?M:M+K,L);-1===pe?(al(to(I,v),m,D),jh(m,o,a.length),a.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(X),v.push(X)):(l[pe]=X,v[pe]=X)}else{const X=Zy(D,a,M+K,L),pe=Zy(D,a,M,M+K),Ve=X>=0&&l[X],Ke=pe>=0&&l[pe];if(f&&!Ke||!f&&!Ve){al(to(I,v),m,D);const ct=function wg(o,a,l,u,f){const m=new bc(o,l,wi);return m.multi=[],m.index=a,m.componentProviders=0,bg(m,f,u&&!l),m}(f?FA:Go,l.length,f,u,T);!f&&Ke&&(l[pe].providerFactory=ct),jh(m,o,a.length,0),a.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),l.push(ct),v.push(ct)}else jh(m,o,X>-1?X:pe,bg(l[f?pe:X],T,!f&&u));!f&&u&&Ke&&l[pe].componentProviders++}}}function jh(o,a,l,u){const f=iu(a),m=function JF(o){return!!o.useClass}(a);if(f||m){const T=(m?ee(a.useClass):a).prototype.ngOnDestroy;if(T){const I=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=I.indexOf(l);-1===M?I.push(l,[u,T]):I[M+1].push(u,T)}else I.push(l,T)}}}function bg(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function Zy(o,a,l,u){for(let f=l;f<u;f++)if(a[f]===o)return f;return-1}function Go(o,a,l,u){return cs(this.multi,[])}function FA(o,a,l,u){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=aa(l,l[1],this.providerFactory.index,u);m=D.slice(0,v),cs(f,m);for(let T=v;T<D.length;T++)m.push(D[T])}else m=[],cs(f,m);return m}function cs(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function Eg(o,a=[]){return l=>{l.providersResolver=(u,f)=>function jE(o,a,l){const u=Zt();if(u.firstCreatePass){const f=Lr(o);Sa(l,u.data,u.blueprint,f,!0),Sa(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class jl{}function LA(o,a){return new HE(o,a??null)}class HE extends jl{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kw(this);const u=function qe(o,a){const l=o[Yt]||null;if(!l&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return l}(a);this._bootstrapComponents=function ba(o){return o instanceof Function?o():o}(u.bootstrap),this._r3Injector=US(a,l,[{provide:jl,useValue:this},{provide:$p,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Hl extends class Hh{}{constructor(a){super(),this.moduleType=a}create(a){return new HE(this.moduleType,a)}}function QE(o,a,l,u){return function eD(o,a,l,u,f,m){const v=a+l;return ur(o,v,f)?Os(o,v+1,m?u.call(m,f):u(f)):Gh(o,v+1)}(De(),Mi(),o,a,l,u)}function JE(o,a,l,u,f){return function tD(o,a,l,u,f,m,v){const D=a+l;return du(o,D,f,m)?Os(o,D+2,v?u.call(v,f,m):u(f,m)):Gh(o,D+2)}(De(),Mi(),o,a,l,u,f)}function XE(o,a,l,u,f,m){return function ZA(o,a,l,u,f,m,v,D){const T=a+l;return function by(o,a,l,u,f){const m=du(o,a,l,u);return ur(o,a+2,f)||m}(o,T,f,m,v)?Os(o,T+3,D?u.call(D,f,m,v):u(f,m,v)):Gh(o,T+3)}(De(),Mi(),o,a,l,u,f,m)}function Gh(o,a){const l=o[a];return l===Bt?void 0:l}function Sg(o){return a=>{setTimeout(o,void 0,a)}}const lo=class iN extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,u){let f=a,m=l||(()=>null),v=u;if(a&&"object"==typeof a){const T=a;f=T.next?.bind(T),m=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(m=Sg(m),f&&(f=Sg(f)),v&&(v=Sg(v)));const D=super.subscribe({next:f,error:m,complete:v});return a instanceof $.w0&&a.add(D),D}};function rN(){return this._results[uu()]()}class nv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=uu(),u=nv.prototype;u[l]||(u[l]=rN)}get changes(){return this._changes||(this._changes=new lo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const u=this;u.dirty=!1;const f=Vi(a);(this._changesDetected=!function p_(o,a,l){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],m=a[u];if(l&&(f=l(f),m=l(m)),m!==f)return!1}return!0}(u._results,f,l))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zh=(()=>{class o{}return o.__NG_ELEMENT_ID__=oN,o})();const nB=zh,sN=class extends nB{constructor(a,l,u){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(a,l){const u=this._declarationTContainer.tViews,f=ly(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(u)),cy(u,f,a),new cu(f)}};function oN(){return Ag(Kn(),De())}function Ag(o,a){return 4&o.type?new sN(a,o,eh(o,a)):null}let Ng=(()=>{class o{}return o.__NG_ELEMENT_ID__=aN,o})();function aN(){return sD(Kn(),De())}const lN=Ng,iD=class extends lN{constructor(a,l,u){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=u}get element(){return eh(this._hostTNode,this._hostLView)}get injector(){return new _n(this._hostTNode,this._hostLView)}get parentInjector(){const a=No(this._hostTNode,this._hostLView);if(s_(a)){const l=Br(a,this._hostLView),u=sl(a);return new _n(l[1].data[u+8],l)}return new _n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=rD(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,u){let f,m;"number"==typeof u?f=u:null!=u&&(f=u.index,m=u.injector);const v=a.createEmbeddedView(l||{},m);return this.insert(v,f),v}createComponent(a,l,u,f,m){const v=a&&!function Cr(o){return"function"==typeof o}(a);let D;if(v)D=l;else{const L=l||{};D=L.index,u=L.injector,f=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const T=v?a:new mh(k(a)),I=u||this.parentInjector;if(!m&&null==T.ngModule){const K=(v?I:this.parentInjector).get(Jd,null);K&&(m=K)}const M=T.create(I,f,void 0,m);return this.insert(M.hostView,D),M}insert(a,l){const u=a._lView,f=u[1];if(function ld(o){return rr(o[3])}(u)){const M=this.indexOf(a);if(-1!==M)this.detach(M);else{const L=u[3],K=new iD(L,L[6],L[3]);K.detach(K.indexOf(a))}}const m=this._adjustIndex(l),v=this._lContainer;!function Lo(o,a,l,u){const f=10+u,m=l.length;u>0&&(l[f-1][4]=a),u<m-10?(a[4]=l[f],Ad(l,10+u,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function Wc(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const D=a[19];null!==D&&D.insertView(o),a[2]|=64}(f,u,v,m);const D=P_(m,v),T=u[11],I=Vo(T,v[7]);return null!==I&&function pt(o,a,l,u,f,m){u[0]=f,u[6]=a,Jc(o,u,l,1,f,m)}(f,v[6],T,u,I,D),a.attachToViewContainerRef(),Ad(iv(v),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=rD(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),u=qc(this._lContainer,l);u&&(Nd(iv(this._lContainer),l),Ml(u[1],u))}detach(a){const l=this._adjustIndex(a,-1),u=qc(this._lContainer,l);return u&&null!=Nd(iv(this._lContainer),l)?new cu(u):null}_adjustIndex(a,l=0){return a??this.length+l}};function rD(o){return o[8]}function iv(o){return o[8]||(o[8]=[])}function sD(o,a){let l;const u=a[o.index];if(rr(u))l=u;else{let f;if(8&o.type)f=In(u);else{const m=a[11];f=m.createComment("");const v=or(o,a);ro(m,Vo(m,v),f,function GF(o,a){return o.nextSibling(a)}(m,v),!1)}a[o.index]=l=fy(u,a,f,o),ng(a,l)}return new iD(l,o,a)}class rv{constructor(a){this.queryList=a,this.matches=null}clone(){return new rv(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const u=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let m=0;m<u;m++){const v=l.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new sv(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==dD(a,l).matches&&this.queries[l].setDirty()}}class oD{constructor(a,l,u=null){this.predicate=a,this.flags=l,this.read=u}}class ov{constructor(a=[]){this.queries=a}elementStart(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let u=0;u<this.length;u++){const f=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(a,f);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new ov(l):null}template(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class av{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new av(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const m=u[f];this.matchTNodeWithReadOption(a,l,dN(l,m)),this.matchTNodeWithReadOption(a,l,Mo(l,a,m,!1,!1))}else u===zh?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Mo(l,a,u,!1,!1))}matchTNodeWithReadOption(a,l,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===zp||f===Ng||f===zh&&4&l.type)this.addMatch(l.index,-2);else{const m=Mo(l,a,f,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function dN(o,a){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===a)return l[u+1];return null}function rB(o,a,l,u){return-1===l?function iB(o,a){return 11&o.type?eh(o,a):4&o.type?Ag(o,a):null}(a,o):-2===l?function sB(o,a,l){return l===zp?eh(a,o):l===zh?Ag(a,o):l===Ng?sD(a,o):void 0}(o,a,u):aa(o,o[1],l,a)}function hN(o,a,l,u){const f=a[19].queries[u];if(null===f.matches){const m=o.data,v=l.matches,D=[];for(let T=0;T<v.length;T+=2){const I=v[T];D.push(I<0?null:rB(a,m[I],v[T+1],l.metadata.read))}f.matches=D}return f.matches}function aD(o,a,l,u){const f=o.queries.getByIndex(l),m=f.matches;if(null!==m){const v=hN(o,a,f,l);for(let D=0;D<m.length;D+=2){const T=m[D];if(T>0)u.push(v[D/2]);else{const I=m[D+1],M=a[-T];for(let L=10;L<M.length;L++){const K=M[L];K[17]===K[3]&&aD(K[1],K,I,u)}if(null!==M[9]){const L=M[9];for(let K=0;K<L.length;K++){const X=L[K];aD(X[1],X,I,u)}}}}}return u}function lD(o){const a=De(),l=Zt(),u=el();bs(u+1);const f=dD(l,u);if(o.dirty&&function Mb(o){return 4==(4&o[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?aD(l,a,u,[]):hN(l,a,f,u);o.reset(m,cL),o.notifyOnChanges()}return!0}return!1}function cD(o,a,l){const u=Zt();u.firstCreatePass&&(gN(u,new oD(o,a,l),-1),2==(2&a)&&(u.staticViewQueries=!0)),pN(u,De(),a)}function uD(o,a,l,u){const f=Zt();if(f.firstCreatePass){const m=Kn();gN(f,new oD(a,l,u),m.index),function aB(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}pN(f,De(),l)}function fN(){return function oB(o,a){return o[19].queries[a].queryList}(De(),el())}function pN(o,a,l){const u=new nv(4==(4&l));xw(o,a,u,u.destroy),null===a[19]&&(a[19]=new sv),a[19].queries.push(new rv(u))}function gN(o,a,l){null===o.queries&&(o.queries=new ov),o.queries.track(new av(a,l))}function dD(o,a){return o.queries.getByIndex(a)}function hD(o,a){return Ag(o,a)}function hv(...o){}const AD=new dn("Application Initializer");let xg=(()=>{class o{constructor(l){this.appInits=l,this.resolve=hv,this.reject=hv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Cy(m))l.push(m);else if(M1(m)){const v=new Promise((D,T)=>{m.subscribe({complete:D,error:T})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(f=>{this.reject(f)}),0===l.length&&u(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Rn(AD,8))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const RN=new dn("AppId",{providedIn:"root",factory:function kN(){return`${ND()}${ND()}${ND()}`}});function ND(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const MD=new dn("Platform Initializer"),PN=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),EB=new dn("appBootstrapListener"),FN=new dn("AnimationModuleType"),$l=new dn("LocaleId",{providedIn:"root",factory:()=>hl($l,rt.Optional|rt.SkipSelf)||function CB(){return typeof $localize<"u"&&$localize.locale||Pl}()}),TB=new dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),SB=(()=>Promise.resolve(0))();function pv(o){typeof Zone>"u"?SB.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class us{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lo(!1),this.onMicrotaskEmpty=new lo(!1),this.onStable=new lo(!1),this.onError=new lo(!1),typeof Zone>"u")throw new Re(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&l,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function PD(){let o=Xt.requestAnimationFrame,a=Xt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function BN(o){const a=()=>{!function dr(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Xt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,gv(o),o.isCheckStableRunning=!0,zl(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),gv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,f,m,v,D)=>{try{return mv(o),l.invokeTask(f,m,v,D)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Yh(o)}},onInvoke:(l,u,f,m,v,D,T)=>{try{return mv(o),l.invoke(f,m,v,D,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),Yh(o)}},onHasTask:(l,u,f,m)=>{l.hasTask(f,m),u===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,gv(o),zl(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,f,m)=>(l.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new Re(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new Re(909,!1)}run(a,l,u){return this._inner.run(a,l,u)}runTask(a,l,u,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,VN,hv,hv);try{return m.runTask(v,l,u)}finally{m.cancelTask(v)}}runGuarded(a,l,u){return this._inner.runGuarded(a,l,u)}runOutsideAngular(a){return this._outer.run(a)}}const VN={};function zl(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function gv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function mv(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Yh(o){o._nesting--,zl(o)}class UN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lo,this.onMicrotaskEmpty=new lo,this.onStable=new lo,this.onError=new lo}run(a,l,u){return a.apply(l,u)}runGuarded(a,l,u){return a.apply(l,u)}runOutsideAngular(a){return a()}runTask(a,l,u,f){return a.apply(l,u)}}const FD=new dn(""),Rg=new dn("");let vv,LD=(()=>{class o{constructor(l,u,f){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vv||(function yv(o){vv=o}(f),f.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,f){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:f})}whenStable(l,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,f){return[]}}return o.\u0275fac=function(l){return new(l||o)(Rn(us),Rn(_v),Rn(Rg))},o.\u0275prov=nt({token:o,factory:o.\u0275fac}),o})(),_v=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return vv?.findTestabilityInTree(this,l,u)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),$o=null;const bv=new dn("AllowMultipleToken"),VD=new dn("PlatformDestroyListeners");function UD(o,a,l=[]){const u=`Platform: ${a}`,f=new dn(u);return(m=[])=>{let v=kg();if(!v||v.injector.get(bv,!1)){const D=[...l,...m,{provide:f,useValue:!0}];o?o(D):function Na(o){if($o&&!$o.get(bv,!1))throw new Re(400,!1);$o=o;const a=o.get(HD);(function Cu(o){const a=o.get(MD,null);a&&a.forEach(l=>l())})(o)}(function jD(o=[],a){return ru.create({name:a,providers:[{provide:mw,useValue:"platform"},{provide:VD,useValue:new Set([()=>$o=null])},...o]})}(D,u))}return function HN(o){const a=kg();if(!a)throw new Re(401,!1);return a}()}}function kg(){return $o?.get(HD)??null}let HD=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const f=function GN(o,a){let l;return l="noop"===o?new UN:("zone.js"===o?void 0:o)||new us(a),l}(u?.ngZone,function Ma(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:us,useValue:f}];return f.run(()=>{const v=ru.create({providers:m,parent:this.injector,name:l.moduleType.name}),D=l.create(v),T=D.injector.get(Wp,null);if(!T)throw new Re(402,!1);return f.runOutsideAngular(()=>{const I=f.onError.subscribe({next:M=>{T.handleError(M)}});D.onDestroy(()=>{Zh(this._modules,D),I.unsubscribe()})}),function Ev(o,a,l){try{const u=l();return Cy(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(T,f,()=>{const I=D.injector.get(xg);return I.runInitializers(),I.donePromise.then(()=>(_u(D.injector.get($l,Pl)||Pl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(l,u=[]){const f=$N({},u);return function AB(o,a,l){const u=new Hl(l);return Promise.resolve(u)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(l){const u=l.injector.get(Dv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Re(403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(VD,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Rn(ru))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function $N(o,a){return Array.isArray(a)?a.reduce($N,o):{...o,...a}}let Dv=(()=>{class o{constructor(l,u,f){this._zone=l,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{us.assertNotInAngularZone(),pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const I=this._zone.onUnstable.subscribe(()=>{us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),I.unsubscribe()}});this.isStable=(0,oe.T)(m,v.pipe((0,Ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const f=l instanceof ES;if(!this._injector.get(xg).done)throw!f&&function _e(o){const a=k(o)||O(o)||Q(o);return null!==a&&a.standalone}(l),new Re(405,false);let v;v=f?l:this._injector.get($p).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const D=function NB(o){return o.isBoundToModule}(v)?void 0:this._injector.get(jl),I=v.create(ru.NULL,[],u||v.selector,D),M=I.location.nativeElement,L=I.injector.get(FD,null);return L?.registerApplication(M),I.onDestroy(()=>{this.detachView(I.hostView),Zh(this.components,I),L?.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Re(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Zh(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(EB,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Zh(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Re(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(Rn(us),Rn(Jd),Rn(Wp))},o.\u0275prov=nt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Zh(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}let zN=!0,GD=!1;function xB(){return GD=!0,zN}function RB(){if(GD)throw new Error("Cannot enable prod mode after platform setup.");zN=!1}let kB=(()=>{class o{}return o.__NG_ELEMENT_ID__=PB,o})();function PB(o){return function FB(o,a,l){if(za(o)&&!l){const u=di(o.index,a);return new cu(u,u)}return 47&o.type?new cu(a[16],a):null}(Kn(),De(),16==(16&o))}class qN{constructor(){}supports(a){return sg(a)}create(a){return new Fg(a)}}const GB=(o,a)=>a;class Fg{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||GB}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,u=this._removalsHead,f=0,m=null;for(;l||u;){const v=!u||l&&l.currentIndex<ZD(u,f,m)?l:u,D=ZD(v,f,m),T=v.currentIndex;if(v===u)f--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{m||(m=[]);const I=D-f,M=T-f;if(I!=M){for(let K=0;K<I;K++){const X=K<m.length?m[K]:m[K]=0,pe=X+K;M<=pe&&pe<I&&(m[K]=X+1)}m[v.previousIndex]=M-I}}D!==T&&a(v,D,T)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!sg(a))throw new Re(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,l=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)m=a[D],v=this._trackByFn(D,m),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,m,v,D)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,D),u=!0),l=l._next}else f=0,function E1(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[uu()]();let u;for(;!(u=l.next()).done;)a(u.value)}}(a,D=>{v=this._trackByFn(f,D),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,D,v,f)),Object.is(l.item,D)||this._addIdentityChange(l,D)):(l=this._mismatch(l,D,v,f),u=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,u,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,f)):a=this._addAfter(new qD(l,u),m,f),a}_verifyReinsertion(a,l,u,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,l,u),this._addToMoves(a,u),a}_moveAfter(a,l,u){return this._unlink(a),this._insertAfter(a,l,u),this._addToMoves(a,u),a}_addAfter(a,l,u){return this._insertAfter(a,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,u){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new YD),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,u=a._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qD{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const l=a._prevDup,u=a._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class YD{constructor(){this.map=new Map}put(a){const l=a.trackById;let u=this.map.get(l);u||(u=new YN,this.map.set(l,u)),u.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZD(o,a,l){const u=o.previousIndex;if(null===u)return u;let f=0;return l&&u<l.length&&(f=l[u]),u+a+f}class Iv{constructor(){}supports(a){return a instanceof Map||Yw(a)}create(){return new QD}}class QD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Yw(a)))throw new Re(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(f,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const u=a._prev;return l._next=a,l._prev=u,a._prev=l,u&&(u._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const u=new ZN(a);return this._records.set(a,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(u=>l(a[u],u))}}class ZN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JD(){return new Sv([new qN])}let Sv=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(null!=u){const f=u.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||JD()),deps:[[o,new Rc,new Ro]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(null!=u)return u;throw new Re(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:JD}),o})();function XD(){return new Av([new Iv])}let Av=(()=>{class o{constructor(l){this.factories=l}static create(l,u){if(u){const f=u.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||XD()),deps:[[o,new Rc,new Ro]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(u)return u;throw new Re(901,!1)}}return o.\u0275prov=nt({token:o,providedIn:"root",factory:XD}),o})();const XN=UD(null,"core",[]);let eM=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Rn(Dv))},o.\u0275mod=Kt({type:o}),o.\u0275inj=Vt({}),o})();function tM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function QB(o,a){const l=k(o),u=a.elementInjector||Q_();return new mh(l).create(u,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(Et,Me,U)=>{U.d(Me,{Z:()=>Re});var d=U(2090),$=U(4859),B=U(9681),oe=U(1877);class Ce{constructor(ie,ce){this._delegate=ie,this.firebase=ce,(0,B._addComponent)(ie,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ie,ce=B._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(ie);return!ht.isInitialized()&&"EXPLICIT"===(null===(st=ht.getComponent())||void 0===st?void 0:st.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:ce})}_removeServiceInstance(ie,ce=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(ce)}_addComponent(ie){(0,B._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,B._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Pe(){const Ue=function Ee(Ue){const ie={},ce={__esModule:!0,initializeApp:function Se($e,z={}){const de=B.initializeApp($e,z);if((0,d.r3)(ie,de.name))return ie[de.name];const He=new Ue(de,ce);return ie[de.name]=He,He},app:ht,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function be($e){const z=$e.name,de=z.replace("-compat","");if(B._registerComponent($e)&&"PUBLIC"===$e.type){const He=(Ye=ht())=>{if("function"!=typeof Ye[de])throw ge.create("invalid-app-argument",{appName:z});return Ye[de]()};void 0!==$e.serviceProps&&(0,d.ZB)(He,$e.serviceProps),ce[de]=He,Ue.prototype[de]=function(...Ye){return this._getService.bind(this,z).apply(this,$e.multipleInstances?Ye:[])}}return"PUBLIC"===$e.type?ce[de]:null},removeApp:function st($e){delete ie[$e]},useAsService:function je($e,z){return"serverAuth"===z?null:z},modularAPIs:B}};function ht($e){if(!(0,d.r3)(ie,$e=$e||B._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:$e});return ie[$e]}return ce.default=ce,Object.defineProperty(ce,"apps",{get:function he(){return Object.keys(ie).map($e=>ie[$e])}}),ht.App=Ue,ce}(Ce);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function ie(ce){(0,d.ZB)(Ue,ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ue}(),q=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=W;!function xe(Ue){(0,B.registerVersion)("@firebase/app-compat","0.2.8",Ue)}()},9681:(Et,Me,U)=>{U.r(Me),U.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>Ae,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>nt,_apps:()=>gt,_clearComponents:()=>ci,_components:()=>ft,_getProvider:()=>Vt,_registerComponent:()=>Ht,_removeServiceInstance:()=>Rt,deleteApp:()=>Jo,getApp:()=>Or,getApps:()=>xr,initializeApp:()=>Ai,onLog:()=>ti,registerVersion:()=>ei,setLogLevel:()=>Ln});var d=U(5861),$=U(4859),B=U(1877),oe=U(2090),Ce=U(8766);class Te{constructor(me){this.container=me}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function ge(We){return"VERSION"===We.getComponent()?.type}(at)){const wt=at.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(at=>at).join(" ")}}const Ee="@firebase/app",W=new B.Yd("@firebase/app"),Ae="[DEFAULT]",ye={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,ft=new Map;function Mt(We,me){try{We.container.addComponent(me)}catch(at){W.debug(`Component ${me.name} failed to register with FirebaseApp ${We.name}`,at)}}function nt(We,me){We.container.addOrOverwriteComponent(me)}function Ht(We){const me=We.name;if(ft.has(me))return W.debug(`There were multiple attempts to register component ${me}.`),!1;ft.set(me,We);for(const at of gt.values())Mt(at,We);return!0}function Vt(We,me){const at=We.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),We.container.getProvider(me)}function Rt(We,me,at=Ae){Vt(We,me).clearInstance(at)}function ci(){ft.clear()}const Mn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ui{constructor(me,at,wt){this._isDeleted=!1,this._options=Object.assign({},me),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this.checkDestroyed(),this._automaticDataCollectionEnabled=me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(me){this._isDeleted=me}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const Fi="9.20.0";function Ai(We,me={}){let at=We;"object"!=typeof me&&(me={name:me});const wt=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},me),$t=wt.name;if("string"!=typeof $t||!$t)throw Mn.create("bad-app-name",{appName:String($t)});if(at||(at=(0,oe.aH)()),!at)throw Mn.create("no-options");const Kt=gt.get($t);if(Kt){if((0,oe.vZ)(at,Kt.options)&&(0,oe.vZ)(wt,Kt.config))return Kt;throw Mn.create("duplicate-app",{appName:$t})}const On=new $.H0($t);for(const H of ft.values())On.addComponent(H);const G=new ui(at,wt,On);return gt.set($t,G),G}function Or(We=Ae){const me=gt.get(We);if(!me&&We===Ae)return Ai();if(!me)throw Mn.create("no-app",{appName:We});return me}function xr(){return Array.from(gt.values())}function Jo(We){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(We){const me=We.name;gt.has(me)&&(gt.delete(me),yield Promise.all(We.container.getProviders().map(at=>at.delete())),We.isDeleted=!0)})).apply(this,arguments)}function ei(We,me,at){var wt;let $t=null!==(wt=ye[We])&&void 0!==wt?wt:We;at&&($t+=`-${at}`);const Kt=$t.match(/\s|\//),On=me.match(/\s|\//);if(Kt||On){const G=[`Unable to register library "${$t}" with version "${me}":`];return Kt&&G.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Kt&&On&&G.push("and"),On&&G.push(`version name "${me}" contains illegal characters (whitespace or "/")`),void W.warn(G.join(" "))}Ht(new $.wA(`${$t}-version`,()=>({library:$t,version:me}),"VERSION"))}function ti(We,me){if(null!==We&&"function"!=typeof We)throw Mn.create("invalid-log-argument");(0,B.Am)(We,me)}function Ln(We){(0,B.Ub)(We)}const gn="firebase-heartbeat-store";let Vn=null;function nn(){return Vn||(Vn=(0,Ce.X3)("firebase-heartbeat-database",1,{upgrade:(We,me)=>{0===me&&We.createObjectStore(gn)}}).catch(We=>{throw Mn.create("idb-open",{originalErrorMessage:We.message})})),Vn}function yt(){return(yt=(0,d.Z)(function*(We){try{return(yield nn()).transaction(gn).objectStore(gn).get(ni(We))}catch(me){if(me instanceof oe.ZR)W.warn(me.message);else{const at=Mn.create("idb-get",{originalErrorMessage:me?.message});W.warn(at.message)}}})).apply(this,arguments)}function Xt(We,me){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(We,me){try{const wt=(yield nn()).transaction(gn,"readwrite");return yield wt.objectStore(gn).put(me,ni(We)),wt.done}catch(at){if(at instanceof oe.ZR)W.warn(at.message);else{const wt=Mn.create("idb-set",{originalErrorMessage:at?.message});W.warn(wt.message)}}})).apply(this,arguments)}function ni(We){return`${We.name}!${We.options.appId}`}class ir{constructor(me){this.container=me,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new Yt(at),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var me=this;return(0,d.Z)(function*(){const wt=me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Ft();if(null===me._heartbeatsCache&&(me._heartbeatsCache=yield me._heartbeatsCachePromise),me._heartbeatsCache.lastSentHeartbeatDate!==$t&&!me._heartbeatsCache.heartbeats.some(Kt=>Kt.date===$t))return me._heartbeatsCache.heartbeats.push({date:$t,agent:wt}),me._heartbeatsCache.heartbeats=me._heartbeatsCache.heartbeats.filter(Kt=>{const On=new Date(Kt.date).valueOf();return Date.now()-On<=2592e6}),me._storage.overwrite(me._heartbeatsCache)})()}getHeartbeatsHeader(){var me=this;return(0,d.Z)(function*(){if(null===me._heartbeatsCache&&(yield me._heartbeatsCachePromise),null===me._heartbeatsCache||0===me._heartbeatsCache.heartbeats.length)return"";const at=Ft(),{heartbeatsToSend:wt,unsentEntries:$t}=function kr(We,me=1024){const at=[];let wt=We.slice();for(const $t of We){const Kt=at.find(On=>On.agent===$t.agent);if(Kt){if(Kt.dates.push($t.date),_i(at)>me){Kt.dates.pop();break}}else if(at.push({agent:$t.agent,dates:[$t.date]}),_i(at)>me){at.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:at,unsentEntries:wt}}(me._heartbeatsCache.heartbeats),Kt=(0,oe.L)(JSON.stringify({version:2,heartbeats:wt}));return me._heartbeatsCache.lastSentHeartbeatDate=at,$t.length>0?(me._heartbeatsCache.heartbeats=$t,yield me._storage.overwrite(me._heartbeatsCache)):(me._heartbeatsCache.heartbeats=[],me._storage.overwrite(me._heartbeatsCache)),Kt})()}}function Ft(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(me){this.app=me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var me=this;return(0,d.Z)(function*(){return(yield me._canUseIndexedDBPromise)&&(yield function mt(We){return yt.apply(this,arguments)}(me.app))||{heartbeats:[]}})()}overwrite(me){var at=this;return(0,d.Z)(function*(){var wt;if(yield at._canUseIndexedDBPromise){const Kt=yield at.read();return Xt(at.app,{lastSentHeartbeatDate:null!==(wt=me.lastSentHeartbeatDate)&&void 0!==wt?wt:Kt.lastSentHeartbeatDate,heartbeats:me.heartbeats})}})()}add(me){var at=this;return(0,d.Z)(function*(){var wt;if(yield at._canUseIndexedDBPromise){const Kt=yield at.read();return Xt(at.app,{lastSentHeartbeatDate:null!==(wt=me.lastSentHeartbeatDate)&&void 0!==wt?wt:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...me.heartbeats]})}})()}}function _i(We){return(0,oe.L)(JSON.stringify({version:2,heartbeats:We})).length}!function mn(We){Ht(new $.wA("platform-logger",me=>new Te(me),"PRIVATE")),Ht(new $.wA("heartbeat",me=>new ir(me),"PRIVATE")),ei(Ee,"0.9.8",We),ei(Ee,"0.9.8","esm2017"),ei("fire-js","")}("")},4859:(Et,Me,U)=>{U.d(Me,{H0:()=>Ee,wA:()=>B,zt:()=>Ce});var d=U(5861),$=U(2090);class B{constructor(W,q,ee){this.name=W,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const oe="[DEFAULT]";class Ce{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ee=new $.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:q});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ee=this.normalizeInstanceIdentifier(W?.identifier),Ge=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(xe){if(Ge)return null;throw xe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ge(Pe){return"EAGER"===Pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[q,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(q);try{const xe=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(xe)}catch{}}}}clearInstance(W=oe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,d.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=oe){return this.instances.has(W)}getOptions(W=oe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[xe,Re]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(xe)&&Re.resolve(Ge);return Ge}onInit(W,q){var ee;const Ge=this.normalizeInstanceIdentifier(q),xe=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;xe.add(W),this.onInitCallbacks.set(Ge,xe);const Re=this.instances.get(Ge);return Re&&W(Re,Ge),()=>{xe.delete(W)}}invokeOnInitCallbacks(W,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const Ge of ee)try{Ge(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=W,Pe===oe?void 0:Pe),options:q}),this.instances.set(W,ee),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch{}var Pe;return ee||null}normalizeInstanceIdentifier(W=oe){return this.component?this.component.multipleInstances?W:oe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new Ce(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(Et,Me,U)=>{U.d(Me,{Am:()=>Pe,Ub:()=>Ee,Yd:()=>ge,in:()=>$});const d=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const B={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},oe=$.INFO,Ce={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Te=(W,q,...ee)=>{if(q<W.logLevel)return;const Ge=(new Date).toISOString(),xe=Ce[q];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[xe](`[${Ge}]  ${W.name}:`,...ee)};class ge{constructor(q){this.name=q,this._logLevel=oe,this._logHandler=Te,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?B[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function Ee(W){d.forEach(q=>{q.setLogLevel(W)})}function Pe(W,q){for(const ee of d){let Ge=null;q&&q.level&&(Ge=B[q.level]),ee.userLogHandler=null===W?null:(xe,Re,...Ue)=>{const ie=Ue.map(ce=>{if(null==ce)return null;if("string"==typeof ce)return ce;if("number"==typeof ce||"boolean"==typeof ce)return ce.toString();if(ce instanceof Error)return ce.message;try{return JSON.stringify(ce)}catch{return null}}).filter(ce=>ce).join(" ");Re>=(Ge??xe.logLevel)&&W({level:$[Re].toLowerCase(),message:ie,args:Ue,type:xe.name})}}}},9260:(Et,Me,U)=>{U.d(Me,{Z:()=>d.Z});var d=U(3942);d.Z.registerVersion("firebase","9.20.0","app-compat")},9568:(Et,Me,U)=>{U.r(Me);var d=U(5861),$=U(3942),B=U(8277),oe=U(2090),ge=(U(9681),U(1877),U(4859));function Ee(){return window}function q(){return(q=(0,d.Z)(function*(P,k,O){var Q;const{BuildInfo:_e}=Ee();(0,B.as)(k.sessionId,"AuthEvent did not contain a session ID");const qe=yield ce(k.sessionId),_t={};return(0,B.at)()?_t.ibi=_e.packageName:(0,B.au)()?_t.apn=_e.packageName:(0,B.av)(P,"operation-not-supported-in-this-environment"),_e.displayName&&(_t.appDisplayName=_e.displayName),_t.sessionId=qe,(0,B.aw)(P,O,k.type,void 0,null!==(Q=k.eventId)&&void 0!==Q?Q:void 0,_t)})).apply(this,arguments)}function Ge(){return(Ge=(0,d.Z)(function*(P){const{BuildInfo:k}=Ee(),O={};(0,B.at)()?O.iosBundleId=k.packageName:(0,B.au)()?O.androidPackageName=k.packageName:(0,B.av)(P,"operation-not-supported-in-this-environment"),yield(0,B.ax)(P,O)})).apply(this,arguments)}function Ue(){return(Ue=(0,d.Z)(function*(P,k,O){const{cordova:Q}=Ee();let _e=()=>{};try{yield new Promise((qe,_t)=>{let fe=null;function et(){var xt;qe();const ln=null===(xt=Q.plugins.browsertab)||void 0===xt?void 0:xt.close;"function"==typeof ln&&ln(),"function"==typeof O?.close&&O.close()}function lt(){fe||(fe=window.setTimeout(()=>{_t((0,B.az)(P,"redirect-cancelled-by-user"))},2e3))}function en(){"visible"===document?.visibilityState&&lt()}k.addPassiveListener(et),document.addEventListener("resume",lt,!1),(0,B.au)()&&document.addEventListener("visibilitychange",en,!1),_e=()=>{k.removePassiveListener(et),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",en,!1),fe&&window.clearTimeout(fe)}})}finally{_e()}})).apply(this,arguments)}function ce(P){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(P){const k=ht(P),O=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(O)).map(_e=>_e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ht(P){if((0,B.as)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const k=new ArrayBuffer(P.length),O=new Uint8Array(k);for(let Q=0;Q<P.length;Q++)O[Q]=P.charCodeAt(Q);return O}class he extends B.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(k)),super.onEvent(k)}initialized(){var k=this;return(0,d.Z)(function*(){yield k.initPromise})()}}function $e(P){return z.apply(this,arguments)}function z(){return(z=(0,d.Z)(function*(P){const k=yield Ye()._get(St(P));return k&&(yield Ye()._remove(St(P))),k})).apply(this,arguments)}function He(){const P=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<20;O++){const Q=Math.floor(Math.random()*k.length);P.push(k.charAt(Q))}return P.join("")}function Ye(){return(0,B.aC)(B.b)}function St(P){return(0,B.aD)("authEvent",P.config.apiKey,P.name)}function ae(P){if(!P?.includes("?"))return{};const[k,...O]=P.split("?");return(0,oe.zd)(O.join("?"))}function ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.az)("no-auth-event")}}function Ht(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function Rt(P=(0,oe.z$)()){return!("file:"!==Ht()&&"ionic:"!==Ht()&&"capacitor:"!==Ht()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fi(){try{const P=self.localStorage,k=B.aL();if(P)return P.setItem(k,"1"),P.removeItem(k),!function ui(P=(0,oe.z$)()){return function $n(){return(0,oe.w1)()&&11===document?.documentMode}()||function Mn(P=(0,oe.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,oe.hl)()}catch{return Ai()&&(0,oe.hl)()}return!1}function Ai(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Or(){return(function Vt(){return"http:"===Ht()||"https:"===Ht()}()||(0,oe.ru)()||Rt())&&!function ci(){return(0,oe.b$)()||(0,oe.UG)()}()&&Fi()&&!Ai()}function xr(){return Rt()&&typeof document<"u"}function rt(){return(rt=(0,d.Z)(function*(){return!!xr()&&new Promise(P=>{const k=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),P(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=B.aA,Rr="persistence";function gn(P){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(P){yield P._initializationPromise;const k=mt(),O=B.aD(Rr,P.config.apiKey,P.name);k&&k.setItem(O,P._getPersistence())})).apply(this,arguments)}function mt(){var P;try{return(null===(P=function ei(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const yt=B.aA;class Xt{constructor(){this.browserResolver=B.aC(B.k),this.cordovaResolver=B.aC(class Ie{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(k){var O=this;return(0,d.Z)(function*(){const Q=k._key();let _e=O.eventManagers.get(Q);return _e||(_e=new he(k),O.eventManagers.set(Q,_e),O.attachCallbackListeners(k,_e)),_e})()}_openPopup(k){(0,B.av)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,O,Q,_e){var qe=this;return(0,d.Z)(function*(){!function ie(P){var k,O,Q,_e,qe,_t,fe,et,lt,en;const xt=Ee();(0,B.aA)("function"==typeof(null===(k=xt?.universalLinks)||void 0===k?void 0:k.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aA)(typeof(null===(O=xt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aA)("function"==typeof(null===(qe=null===(_e=null===(Q=xt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===qe?void 0:qe.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(et=null===(fe=null===(_t=xt?.cordova)||void 0===_t?void 0:_t.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===et?void 0:et.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aA)("function"==typeof(null===(en=null===(lt=xt?.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===en?void 0:en.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const _t=yield qe._initialize(k);yield _t.initialized(),_t.resetRedirect(),(0,B.aG)(),yield qe._originValidation(k);const fe=function be(P,k,O=null){return{type:k,eventId:O,urlResponse:null,sessionId:He(),postBody:null,tenantId:P.tenantId,error:(0,B.az)(P,"no-auth-event")}}(k,Q,_e);yield function je(P,k){return Ye()._set(St(P),k)}(k,fe);const et=yield function W(P,k,O){return q.apply(this,arguments)}(k,fe,O),lt=yield function xe(P){const{cordova:k}=Ee();return new Promise(O=>{k.plugins.browsertab.isAvailable(Q=>{let _e=null;Q?k.plugins.browsertab.openUrl(P):_e=k.InAppBrowser.open(P,(0,B.ay)()?"_blank":"_system","location=yes"),O(_e)})})}(et);return function Re(P,k,O){return Ue.apply(this,arguments)}(k,_t,lt)})()}_isIframeWebStorageSupported(k,O){throw new Error("Method not implemented.")}_originValidation(k){const O=k._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function ee(P){return Ge.apply(this,arguments)}(k)),this.originValidationPromises[O]}attachCallbackListeners(k,O){const{universalLinks:Q,handleOpenURL:_e,BuildInfo:qe}=Ee(),_t=setTimeout((0,d.Z)(function*(){yield $e(k),O.onEvent(ye())}),500),fe=function(){var en=(0,d.Z)(function*(xt){clearTimeout(_t);const ln=yield $e(k);let Pr=null;ln&&xt?.url&&(Pr=function de(P,k){var O,Q;const _e=function re(P){const k=ae(P),O=k.link?decodeURIComponent(k.link):void 0,Q=ae(O).link,_e=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return ae(_e).link||_e||Q||O||P}(k);if(_e.includes("/__/auth/callback")){const qe=ae(_e),_t=qe.firebaseError?function ot(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(qe.firebaseError)):null,fe=null===(Q=null===(O=_t?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Q?void 0:Q[1],et=fe?(0,B.az)(fe):null;return et?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:et,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:_e,postBody:null}}return null}(ln,xt.url)),O.onEvent(Pr||ye())});return function(ln){return en.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,fe);const et=_e,lt=`${qe.packageName.toLowerCase()}://`;Ee().handleOpenURL=function(){var en=(0,d.Z)(function*(xt){if(xt.toLowerCase().startsWith(lt)&&fe({url:xt}),"function"==typeof et)try{et(xt)}catch(ln){console.error(ln)}});return function(xt){return en.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aE,this._overrideRedirectResult=B.aF}_initialize(k){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,O,Q,_e){var qe=this;return(0,d.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openPopup(k,O,Q,_e)})()}_openRedirect(k,O,Q,_e){var qe=this;return(0,d.Z)(function*(){return yield qe.selectUnderlyingResolver(),qe.assertedUnderlyingResolver._openRedirect(k,O,Q,_e)})()}_isIframeWebStorageSupported(k,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,O)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,d.Z)(function*(){if(k.underlyingResolver)return;const O=yield function Jo(){return rt.apply(this,arguments)}();k.underlyingResolver=O?k.cordovaResolver:k.browserResolver})()}}function Li(P){return P.unwrap()}function zn(P){return ir(P)}function ir(P){const{_tokenResponse:k}=P instanceof oe.ZR?P.customData:P;if(!k)return null;if(!(P instanceof oe.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return B.P.credentialFromResult(P);const O=k.providerId;if(!O||O===B.p.PASSWORD)return null;let Q;switch(O){case B.p.GOOGLE:Q=B.V;break;case B.p.FACEBOOK:Q=B.U;break;case B.p.GITHUB:Q=B.W;break;case B.p.TWITTER:Q=B.Z;break;default:const{oauthIdToken:_e,oauthAccessToken:qe,oauthTokenSecret:_t,pendingToken:fe,nonce:et}=k;return qe||_t||_e||fe?fe?O.startsWith("saml.")?B.aO._create(O,fe):B.L._fromParams({providerId:O,signInMethod:O,pendingToken:fe,idToken:_e,accessToken:qe}):new B.X(O).credential({idToken:_e,accessToken:qe,rawNonce:et}):null}return P instanceof oe.ZR?Q.credentialFromError(P):Q.credentialFromResult(P)}function Ft(P,k){return k.catch(O=>{throw O instanceof oe.ZR&&function Ot(P,k){var O;const Q=null===(O=k.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new _i(P,B.aq(P,k));else if(Q){const _e=ir(k),qe=k;_e&&(qe.credential=_e,qe.tenantId=Q.tenantId||void 0,qe.email=Q.email||void 0,qe.phoneNumber=Q.phoneNumber||void 0)}}(P,O),O}).then(O=>{const _e=O.user;return{operationType:O.operationType,credential:zn(O),additionalUserInfo:B.ao(O),user:mn.getOrCreate(_e)}})}function kr(P,k){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(P,k){const O=yield k;return{verificationId:O.verificationId,confirm:Q=>Ft(P,O.confirm(Q))}})).apply(this,arguments)}class _i{constructor(k,O){this.resolver=O,this.auth=function ni(P){return P.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Ft(Li(this.auth),this.resolver.resolveSignIn(k))}}class mn{constructor(k){this._delegate=k,this.multiFactor=B.ar(k)}static getOrCreate(k){return mn.USER_MAP.has(k)||mn.USER_MAP.set(k,new mn(k)),mn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var O=this;return(0,d.Z)(function*(){return Ft(O.auth,B.a0(O._delegate,k))})()}linkWithPhoneNumber(k,O){var Q=this;return(0,d.Z)(function*(){return kr(Q.auth,B.l(Q._delegate,k,O))})()}linkWithPopup(k){var O=this;return(0,d.Z)(function*(){return Ft(O.auth,B.d(O._delegate,k,Xt))})()}linkWithRedirect(k){var O=this;return(0,d.Z)(function*(){return yield gn(B.aH(O.auth)),B.g(O._delegate,k,Xt)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var O=this;return(0,d.Z)(function*(){return Ft(O.auth,B.a1(O._delegate,k))})()}reauthenticateWithPhoneNumber(k,O){return kr(this.auth,B.r(this._delegate,k,O))}reauthenticateWithPopup(k){return Ft(this.auth,B.e(this._delegate,k,Xt))}reauthenticateWithRedirect(k){var O=this;return(0,d.Z)(function*(){return yield gn(B.aH(O.auth)),B.h(O._delegate,k,Xt)})()}sendEmailVerification(k){return B.ae(this._delegate,k)}unlink(k){var O=this;return(0,d.Z)(function*(){return yield B.an(O._delegate,k),O})()}updateEmail(k){return B.aj(this._delegate,k)}updatePassword(k){return B.ak(this._delegate,k)}updatePhoneNumber(k){return B.u(this._delegate,k)}updateProfile(k){return B.ai(this._delegate,k)}verifyBeforeUpdateEmail(k,O){return B.af(this._delegate,k,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mn.USER_MAP=new WeakMap;const We=B.aA;let me=(()=>{class P{constructor(O,Q){if(this.app=O,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_e}=O.options;We(_e,"invalid-api-key",{appName:O.name}),We(_e,"invalid-api-key",{appName:O.name});const qe=typeof window<"u"?Xt:void 0;this._delegate=Q.initialize({options:{persistence:wt(_e,O.name),popupRedirectResolver:qe}}),this._delegate._updateErrorMap(B.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Q){B.I(this._delegate,O,Q)}applyActionCode(O){return B.a5(this._delegate,O)}checkActionCode(O){return B.a6(this._delegate,O)}confirmPasswordReset(O,Q){return B.a4(this._delegate,O,Q)}createUserWithEmailAndPassword(O,Q){var _e=this;return(0,d.Z)(function*(){return Ft(_e._delegate,B.a8(_e._delegate,O,Q))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return B.ad(this._delegate,O)}isSignInWithEmailLink(O){return B.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,d.Z)(function*(){We(Or(),O._delegate,"operation-not-supported-in-this-environment");const Q=yield B.j(O._delegate,Xt);return Q?Ft(O._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function gt(P,k){(0,B.aH)(P)._logFramework(k)}(this._delegate,O)}onAuthStateChanged(O,Q,_e){const{next:qe,error:_t,complete:fe}=at(O,Q,_e);return this._delegate.onAuthStateChanged(qe,_t,fe)}onIdTokenChanged(O,Q,_e){const{next:qe,error:_t,complete:fe}=at(O,Q,_e);return this._delegate.onIdTokenChanged(qe,_t,fe)}sendSignInLinkToEmail(O,Q){return B.aa(this._delegate,O,Q)}sendPasswordResetEmail(O,Q){return B.a3(this._delegate,O,Q||void 0)}setPersistence(O){var Q=this;return(0,d.Z)(function*(){let _e;switch(function Ys(P,k){Ln(Object.values(ti).includes(k),P,"invalid-persistence-type"),(0,oe.b$)()?Ln(k!==ti.SESSION,P,"unsupported-persistence-type"):(0,oe.UG)()?Ln(k===ti.NONE,P,"unsupported-persistence-type"):Ai()?Ln(k===ti.NONE||k===ti.LOCAL&&(0,oe.hl)(),P,"unsupported-persistence-type"):Ln(k===ti.NONE||Fi(),P,"unsupported-persistence-type")}(Q._delegate,O),O){case ti.SESSION:_e=B.a;break;case ti.LOCAL:_e=(yield B.aC(B.i)._isAvailable())?B.i:B.b;break;case ti.NONE:_e=B.N;break;default:return B.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(_e)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Ft(this._delegate,B._(this._delegate))}signInWithCredential(O){return Ft(this._delegate,B.$(this._delegate,O))}signInWithCustomToken(O){return Ft(this._delegate,B.a2(this._delegate,O))}signInWithEmailAndPassword(O,Q){return Ft(this._delegate,B.a9(this._delegate,O,Q))}signInWithEmailLink(O,Q){return Ft(this._delegate,B.ac(this._delegate,O,Q))}signInWithPhoneNumber(O,Q){return kr(this._delegate,B.s(this._delegate,O,Q))}signInWithPopup(O){var Q=this;return(0,d.Z)(function*(){return We(Or(),Q._delegate,"operation-not-supported-in-this-environment"),Ft(Q._delegate,B.c(Q._delegate,O,Xt))})()}signInWithRedirect(O){var Q=this;return(0,d.Z)(function*(){return We(Or(),Q._delegate,"operation-not-supported-in-this-environment"),yield gn(Q._delegate),B.f(Q._delegate,O,Xt)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return B.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=ti,P})();function at(P,k,O){let Q=P;"function"!=typeof P&&({next:Q,error:k,complete:O}=P);const _e=Q;return{next:_t=>_e(_t&&mn.getOrCreate(_t)),error:k,complete:O}}function wt(P,k){const O=function nn(P,k){const O=mt();if(!O)return[];const Q=B.aD(Rr,P,k);switch(O.getItem(Q)){case ti.NONE:return[B.N];case ti.LOCAL:return[B.i,B.a];case ti.SESSION:return[B.a];default:return[]}}(P,k);if(typeof self<"u"&&!O.includes(B.i)&&O.push(B.i),typeof window<"u")for(const Q of[B.b,B.a])O.includes(Q)||O.push(Q);return O.includes(B.N)||O.push(B.N),O}class $t{constructor(){this.providerId="phone",this._delegate=new B.P(Li($.Z.auth()))}static credential(k,O){return B.P.credential(k,O)}verifyPhoneNumber(k,O){return this._delegate.verifyPhoneNumber(k,O)}unwrap(){return this._delegate}}$t.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,$t.PROVIDER_ID=B.P.PROVIDER_ID;const Kt=B.aA;class On{constructor(k,O,Q=$.Z.app()){var _e;Kt(null===(_e=Q.options)||void 0===_e?void 0:_e.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new B.R(k,O,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(P){P.INTERNAL.registerComponent(new ge.wA("auth-compat",k=>{const O=k.getProvider("app-compat").getImmediate(),Q=k.getProvider("auth");return new me(O,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.Q,FacebookAuthProvider:B.U,GithubAuthProvider:B.W,GoogleAuthProvider:B.V,OAuthProvider:B.X,SAMLAuthProvider:B.Y,PhoneAuthProvider:$t,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:On,TwitterAuthProvider:B.Z,Auth:me,AuthCredential:B.J,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.4.0")}($.Z)},8766:(Et,Me,U)=>{U.d(Me,{Lj:()=>Se,X3:()=>ht});var d=U(5861);let B,oe;const ge=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,W=new WeakMap,q=new WeakMap;let xe={get(z,de,He){if(z instanceof IDBTransaction){if("done"===de)return Ee.get(z);if("objectStoreNames"===de)return z.objectStoreNames||Pe.get(z);if("store"===de)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return ce(z[de])},set:(z,de,He)=>(z[de]=He,!0),has:(z,de)=>z instanceof IDBTransaction&&("done"===de||"store"===de)||de in z};function ie(z){return"function"==typeof z?function Ue(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...de){return z.apply(st(this),de),ce(ge.get(this))}:function(...de){return ce(z.apply(st(this),de))}:function(de,...He){const Ye=z.call(st(this),de,...He);return Pe.set(Ye,de.sort?de.sort():[de]),ce(Ye)}}(z):(z instanceof IDBTransaction&&function Ge(z){if(Ee.has(z))return;const de=new Promise((He,Ye)=>{const St=()=>{z.removeEventListener("complete",ot),z.removeEventListener("error",re),z.removeEventListener("abort",re)},ot=()=>{He(),St()},re=()=>{Ye(z.error||new DOMException("AbortError","AbortError")),St()};z.addEventListener("complete",ot),z.addEventListener("error",re),z.addEventListener("abort",re)});Ee.set(z,de)}(z),((z,de)=>de.some(He=>z instanceof He))(z,function Ce(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,xe):z)}function ce(z){if(z instanceof IDBRequest)return function ee(z){const de=new Promise((He,Ye)=>{const St=()=>{z.removeEventListener("success",ot),z.removeEventListener("error",re)},ot=()=>{He(ce(z.result)),St()},re=()=>{Ye(z.error),St()};z.addEventListener("success",ot),z.addEventListener("error",re)});return de.then(He=>{He instanceof IDBCursor&&ge.set(He,z)}).catch(()=>{}),q.set(de,z),de}(z);if(W.has(z))return W.get(z);const de=ie(z);return de!==z&&(W.set(z,de),q.set(de,z)),de}const st=z=>q.get(z);function ht(z,de,{blocked:He,upgrade:Ye,blocking:St,terminated:ot}={}){const re=indexedDB.open(z,de),ae=ce(re);return Ye&&re.addEventListener("upgradeneeded",ue=>{Ye(ce(re.result),ue.oldVersion,ue.newVersion,ce(re.transaction))}),He&&re.addEventListener("blocked",()=>He()),ae.then(ue=>{ot&&ue.addEventListener("close",()=>ot()),St&&ue.addEventListener("versionchange",()=>St())}).catch(()=>{}),ae}function Se(z,{blocked:de}={}){const He=indexedDB.deleteDatabase(z);return de&&He.addEventListener("blocked",()=>de()),ce(He).then(()=>{})}const he=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],je=new Map;function $e(z,de){if(!(z instanceof IDBDatabase)||de in z||"string"!=typeof de)return;if(je.get(de))return je.get(de);const He=de.replace(/FromIndex$/,""),Ye=de!==He,St=be.includes(He);if(!(He in(Ye?IDBIndex:IDBObjectStore).prototype)||!St&&!he.includes(He))return;const ot=function(){var re=(0,d.Z)(function*(ae,...ue){const Ie=this.transaction(ae,St?"readwrite":"readonly");let Ae=Ie.store;return Ye&&(Ae=Ae.index(ue.shift())),(yield Promise.all([Ae[He](...ue),St&&Ie.done]))[0]});return function(ue){return re.apply(this,arguments)}}();return je.set(de,ot),ot}!function Re(z){xe=z(xe)}(z=>({...z,get:(de,He,Ye)=>$e(de,He)||z.get(de,He,Ye),has:(de,He)=>!!$e(de,He)||z.has(de,He)}))},5861:(Et,Me,U)=>{function d(B,oe,Ce,Te,ge,Ee,Pe){try{var W=B[Ee](Pe),q=W.value}catch(ee){return void Ce(ee)}W.done?oe(q):Promise.resolve(q).then(Te,ge)}function $(B){return function(){var oe=this,Ce=arguments;return new Promise(function(Te,ge){var Ee=B.apply(oe,Ce);function Pe(q){d(Ee,Te,ge,Pe,W,"next",q)}function W(q){d(Ee,Te,ge,Pe,W,"throw",q)}Pe(void 0)})}}U.d(Me,{Z:()=>$})}},Et=>{Et(Et.s=9847)}]);